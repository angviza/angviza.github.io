<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>/2022/02/08/os/readme/</url>
    <content><![CDATA[<h1 id="ç³»ç»Ÿ"><a href="#ç³»ç»Ÿ" class="headerlink" title="ç³»ç»Ÿ"></a>ç³»ç»Ÿ</h1><p>è¯¥ç›®å½•ä¸‹ä¸ºå„ç‰ˆæœ¬ç³»ç»Ÿå·¥å…·å’ŒæœåŠ¡å®‰è£…æ­¥éª¤ï¼ŒåŠç³»ç»Ÿå·¥å…·ä½¿ç”¨æ–¹æ³•</p>
<p>ä¸åŒ…å«æœåŠ¡é…ç½®åŠä½¿ç”¨</p>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h3 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h3><h4 id="7"><a href="#7" class="headerlink" title="7"></a>7</h4><h4 id="8"><a href="#8" class="headerlink" title="8"></a>8</h4><h3 id="OracleLinux"><a href="#OracleLinux" class="headerlink" title="OracleLinux"></a>OracleLinux</h3><h4 id="7-1"><a href="#7-1" class="headerlink" title="7"></a>7</h4><h4 id="8-1"><a href="#8-1" class="headerlink" title="8"></a>8</h4><h2 id="Win"><a href="#Win" class="headerlink" title="Win"></a>Win</h2><h3 id="7-2"><a href="#7-2" class="headerlink" title="7"></a>7</h3><h3 id="10"><a href="#10" class="headerlink" title="10"></a>10</h3><h2 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h2><h2 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h2><h2 id="IOS"><a href="#IOS" class="headerlink" title="IOS"></a>IOS</h2><blockquote>
<p>æœ‰æ—¶å€™ï¼Œâ€œçˆ±å›½â€ï¼Œæ˜¯ä¸€ä¸ªç©ºæ´çš„è¯è¯­ã€‚æ›´å¤šçš„äººæ˜¯åœ¨è¨€è¯­é‡Œï¼Œåœ¨è¯—æ­Œé‡Œâ€çˆ±å›½â€œï¼Œä»–ä»¬æ²¡æœ‰ä¸€ç‚¹ç‚¹å®é™…è¡ŒåŠ¨ï¼Œç”šè‡³å……æ»¡æŠ±æ€¨ã€‚</p>
</blockquote>
<p><strong>@ä½™ç§€å</strong><a href="http://blog.sina.com.cn/yuxiuhua1976">blog.sina.com.cn/yuxiuhua1976</a>é“¾æ¥çš„åœ°å€ â€œé¼ æ ‡æŒ‡ä¸Šåé“¾æ¥æ˜¾ç¤ºçš„æ–‡å­—â€)</p>
<figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name">codeblock</span> jsæ§åˆ¶å°è¾“å‡ºè¯­å¥ %}</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">console.log("æˆ‘å«ä¸°æœ¨æœ¨")</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">{% <span class="name">endcodeblock</span> %}</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="comment">&lt;!-- HTMLæ–¹å¼: ç›´æ¥åœ¨ Markdown æ–‡ä»¶ä¸­ç¼–å†™ HTML æ¥è°ƒç”¨ --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- å…¶ä¸­ class="blockquote-center" æ˜¯å¿…é¡»çš„ --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">class</span>=<span class="string">"blockquote-center"</span>&gt;</span>blah blah blah<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- æ ‡ç­¾ æ–¹å¼ï¼Œè¦æ±‚ç‰ˆæœ¬åœ¨0.4.5æˆ–ä»¥ä¸Š --&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">{% <span class="name">centerquote</span> %}</span><span class="language-xml">blah blah blah</span><span class="template-tag">{% <span class="name">endcenterquote</span> %}</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- æ ‡ç­¾åˆ«å --&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">{% <span class="name">cq</span> %}</span><span class="language-xml"> blah blah blah </span><span class="template-tag">{% <span class="name">endcq</span> %}</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
  </entry>
  <entry>
    <title>Mrakdownç®€å•ä»‹ç»</title>
    <url>/2022/02/08/index/</url>
    <content><![CDATA[<p>å†™Mrakdownè´¹äº‹ï¼ŸTyporaè®©ä½ åƒå†™Wordä¸€æ ·è¡Œäº‘æµæ°´ï¼Œæ‰€è§å³æ‰€å¾—ã€‚</p>
<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Typoraæ˜¯ä¸€æ¬¾è½»ä¾¿ç®€æ´çš„Markdownç¼–è¾‘å™¨ï¼Œæ”¯æŒå³æ—¶æ¸²æŸ“æŠ€æœ¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸å…¶ä»–Markdownç¼–è¾‘å™¨æœ€æ˜¾è‘—çš„åŒºåˆ«ã€‚å³æ—¶æ¸²æŸ“ä½¿å¾—ä½ å†™Markdownå°±æƒ³æ˜¯å†™Wordæ–‡æ¡£ä¸€æ ·æµç•…è‡ªå¦‚ï¼Œä¸åƒå…¶ä»–ç¼–è¾‘å™¨çš„æœ‰ç¼–è¾‘æ å’Œæ˜¾ç¤ºæ ã€‚</p>
<p>Typoraåˆ é™¤äº†é¢„è§ˆçª—å£ï¼Œä»¥åŠæ‰€æœ‰å…¶ä»–ä¸å¿…è¦çš„å¹²æ‰°ã€‚å–è€Œä»£ä¹‹çš„æ˜¯å®æ—¶é¢„è§ˆã€‚<br>Markdownçš„è¯­æ³•å› ä¸åŒçš„è§£æå™¨æˆ–ç¼–è¾‘å™¨è€Œå¼‚ï¼ŒTyporaä½¿ç”¨çš„æ˜¯GitHub Flavored Markdownã€‚<br>Markdownä»‹ç»<br>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ã€‚</p>
<p>Markdown è¯­è¨€åœ¨ 2004 ç”±çº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰åˆ›å»ºã€‚</p>
<p>Markdown ç¼–å†™çš„æ–‡æ¡£å¯ä»¥å¯¼å‡º HTML ã€Wordã€å›¾åƒã€PDFã€Epub ç­‰å¤šç§æ ¼å¼çš„æ–‡æ¡£ã€‚</p>
<p>Markdown ç¼–å†™çš„æ–‡æ¡£åç¼€ä¸º .md, .markdownã€‚</p>
<p>ä»£ç ä¸­ä¸¤ä¸ª more åˆ†éš”æ­£æ–‡10</p>
<p><img data-src="https://gitee.com/quinn_zhang/blog-img/raw/master/images/20210409184328.png" alt="Our Sponsors"></p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line">å†…å®¹æˆªæ–­</span><br><span class="line"><span class="comment">&lt;!--more--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--more--&gt;</span></span><br></pre></td></tr></tbody></table></figure>


<span id="more"></span>
<!--more-->

<h1 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h1><p>åŠ ç²—ï¼š Ctrl + B<br>æ ‡é¢˜ï¼š Ctrl + H<br>æ’å…¥é“¾æ¥ï¼š Ctrl + K<br>æ’å…¥ä»£ç ï¼š Ctrl + Shift + C â€“ æ— æ³•æ‰§è¡Œ<br>è¡Œå†…ä»£ç ï¼š Ctrl + Shift + K<br>æ’å…¥å›¾ç‰‡ï¼š Ctrl + Shift + I<br>æ— åºåˆ—è¡¨ï¼šCtrl + Shift + L â€“ æ— æ³•æ‰§è¡Œ<br>æ’¤é”€ï¼š Ctrl + Z<br>ä¸€çº§æ ‡é¢˜ï¼š Ctrl + 1 â€“ ä»¥æ­¤ç±»æ¨<br>Typoraå¿«æ·é”®æ•´åˆ</p>
<figure class="highlight subunit"><table><tbody><tr><td class="code"><pre><span class="line">Ctrl<span class="string">+1</span>  ä¸€é˜¶æ ‡é¢˜    Ctrl+B  å­—ä½“åŠ ç²—</span><br><span class="line">Ctrl<span class="string">+2</span>  äºŒé˜¶æ ‡é¢˜    Ctrl+I  å­—ä½“å€¾æ–œ</span><br><span class="line">Ctrl<span class="string">+3</span>  ä¸‰é˜¶æ ‡é¢˜    Ctrl+U  ä¸‹åˆ’çº¿</span><br><span class="line">Ctrl<span class="string">+4</span>  å››é˜¶æ ‡é¢˜    Ctrl+Home   è¿”å›Typoraé¡¶éƒ¨</span><br><span class="line">Ctrl<span class="string">+5</span>  äº”é˜¶æ ‡é¢˜    Ctrl+End    è¿”å›Typoraåº•éƒ¨</span><br><span class="line">Ctrl<span class="string">+6</span>  å…­é˜¶æ ‡é¢˜    Ctrl+T  åˆ›å»ºè¡¨æ ¼</span><br><span class="line">Ctrl+L  é€‰ä¸­æŸå¥è¯   Ctrl+K  åˆ›å»ºè¶…é“¾æ¥</span><br><span class="line">Ctrl+D  é€‰ä¸­æŸä¸ªå•è¯  Ctrl+F  æœç´¢</span><br><span class="line">Ctrl+E  é€‰ä¸­ç›¸åŒæ ¼å¼çš„æ–‡å­—   Ctrl+H  æœç´¢å¹¶æ›¿æ¢</span><br><span class="line">Alt+Shift<span class="string">+5</span> åˆ é™¤çº¿ Ctrl+Shift+I    æ’å…¥å›¾ç‰‡</span><br><span class="line">Ctrl+Shift+M    å…¬å¼å— Ctrl+Shift+Q    å¼•ç”¨</span><br><span class="line"></span><br><span class="line">æ³¨ï¼šä¸€äº›å®ä½“ç¬¦å·éœ€è¦åœ¨å®ä½“ç¬¦å·ä¹‹å‰åŠ â€\â€æ‰èƒ½å¤Ÿæ˜¾ç¤º</span><br></pre></td></tr></tbody></table></figure>
<p>å—å…ƒç´ <br>æ¢è¡Œç¬¦<br>åœ¨markdownä¸­ï¼Œæ®µè½ç”±å¤šä¸ªç©ºæ ¼åˆ†éš”ã€‚åœ¨Typoraä¸­ï¼Œåªéœ€å›è½¦å³å¯åˆ›å»ºæ–°æ®µè½ã€‚</p>
<h1 id="æ ‡é¢˜çº§åˆ«"><a href="#æ ‡é¢˜çº§åˆ«" class="headerlink" title="æ ‡é¢˜çº§åˆ«"></a>æ ‡é¢˜çº§åˆ«</h1><p>#ä¸€çº§æ ‡é¢˜ å¿«æ·é”®ä¸º Ctrl + 1<br>##äºŒçº§æ ‡é¢˜ å¿«æ·é”®ä¸º Ctrl + 2<br>â€¦â€¦<br>######å…­çº§æ ‡é¢˜ å¿«æ·é”®ä¸º Ctrl + 6</p>
<h1 id="å¼•ç”¨æ–‡å­—"><a href="#å¼•ç”¨æ–‡å­—" class="headerlink" title="å¼•ç”¨æ–‡å­—"></a>å¼•ç”¨æ–‡å­—</h1><blockquote>
<ul>
<li>ç©ºæ ¼ + å¼•ç”¨æ–‡å­—</li>
</ul>
</blockquote>
<h1 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h1><p>ä½¿ç”¨ * + - éƒ½å¯ä»¥åˆ›å»ºä¸€ä¸ªæ— åºåˆ—è¡¨</p>
<ul>
<li>AAA<br>BBB<br>CCC<h1 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h1>ä½¿ç”¨</li>
</ul>
<ol>
<li><ol start="2">
<li><ol start="3">
<li>åˆ›å»ºæœ‰åºåˆ—è¡¨</li>
</ol>
</li>
</ol>
</li>
<li><p>AAA</p>
</li>
<li><p>BBB</p>
</li>
<li><p>CCC</p>
</li>
</ol>
<p>ä»»åŠ¡åˆ—è¡¨</p>
<ul>
<li><input disabled="" type="checkbox"> ä¸å‹¾é€‰</li>
<li><input checked="" disabled="" type="checkbox"> å‹¾é€‰</li>
</ul>
<h1 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h1><p>åœ¨Typoraä¸­æ’å…¥ç¨‹åºä»£ç çš„æ–¹å¼æœ‰ä¸¤ç§ï¼šä½¿ç”¨åå¼•å· `ï¼ˆ~ é”®ï¼‰ã€ä½¿ç”¨ç¼©è¿›ï¼ˆTabï¼‰ã€‚</p>
<p>æ’å…¥è¡Œå†…ä»£ç ï¼Œå³æ’å…¥ä¸€ä¸ªå•è¯æˆ–è€…ä¸€å¥ä»£ç çš„æƒ…å†µï¼Œä½¿ç”¨ code è¿™æ ·çš„å½¢å¼æ’å…¥ã€‚<br>æ’å…¥å¤šè¡Œä»£ç è¾“å…¥3ä¸ªåå¼•å·ï¼ˆ`ï¼‰ + å›è½¦ï¼Œå¹¶åœ¨åé¢é€‰æ‹©ä¸€ä¸ªè¯­è¨€åç§°å³å¯å®ç°è¯­æ³•é«˜äº®ã€‚</p>
<figure class="highlight isbl"><table><tbody><tr><td class="code"><pre><span class="line"><span class="variable">def</span> <span class="function"><span class="title">helloworld</span>():</span></span><br><span class="line"><span class="function">    <span class="title">print</span>(<span class="string">"hello, world!"</span>)</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="æ•°å­¦è¡¨è¾¾å¼"><a href="#æ•°å­¦è¡¨è¾¾å¼" class="headerlink" title="æ•°å­¦è¡¨è¾¾å¼"></a>æ•°å­¦è¡¨è¾¾å¼</h1><p>å½“ä½ éœ€è¦åœ¨ç¼–è¾‘å™¨ä¸­æ’å…¥æ•°å­¦å…¬å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç¾å…ƒç¬¦ $$ åŒ…è£¹ TeX æˆ– LaTeX æ ¼å¼çš„æ•°å­¦å…¬å¼æ¥å®ç°ã€‚æ ¹æ®éœ€è¦åŠ è½½ Mathjax å¯¹æ•°å­¦å…¬å¼è¿›è¡Œæ¸²æŸ“ã€‚</p>
<p>æŒ‰ä¸‹ $$ï¼Œç„¶åæŒ‰ä¸‹å›è½¦é”®ï¼Œå³å¯è¿›è¡Œæ•°å­¦å…¬å¼çš„ç¼–è¾‘ã€‚</p>
<p>$$<br>\mathbf{V}_1\times\mathbf{V}_2 = \mathbf{X}_3<br>$$</p>
<h1 id="æ’å…¥è¡¨æ ¼"><a href="#æ’å…¥è¡¨æ ¼" class="headerlink" title="æ’å…¥è¡¨æ ¼"></a>æ’å…¥è¡¨æ ¼</h1><p>è¾“å…¥ | è¡¨å¤´1 | è¡¨å¤´2 |å¹¶å›è½¦ã€‚å³å¯åˆ›å»ºä¸€ä¸ªåŒ…å«2åˆ—è¡¨ã€‚å¿«æ·é”® Ctrl + Tå¼¹å‡ºå¯¹è¯æ¡†ã€‚</p>
<p>id	number<br>ä¸ç®¡æ˜¯å“ªç§æ–¹å¼ï¼Œç¬¬ä¸€è¡Œä¸ºè¡¨å¤´ï¼Œç¬¬äºŒè¡Œä¸ºåˆ†å‰²è¡¨å¤´å’Œä¸»ä½“éƒ¨åˆ†ï¼Œç¬¬ä¸‰è¡Œå¼€å§‹æ¯ä¸€è¡Œä¸ºä¸€ä¸ªè¡¨æ ¼è¡Œ</p>
<p>åˆ—ä¸åˆ—ä¹‹é—´ç”¨ç®¡é“ç¬¦å·| éš”å¼€</p>
<p>è¿˜å¯è®¾ç½®å¯¹é½æ–¹å¼(è¡¨å¤´ä¸å†…å®¹ä¹‹é—´)ï¼Œå¦‚æœä¸ä½¿ç”¨å¯¹é½æ ‡è®°ï¼Œå†…å®¹é»˜è®¤å·¦å¯¹é½ï¼Œè¡¨å¤´å±…ä¸­å¯¹é½</p>
<p>å·¦å¯¹é½  ï¼š|<br>å³å¯¹é½  |ï¼š<br>ä¸­å¯¹é½  ï¼š|ï¼š</p>
<p>ä¸ºäº†ç¾è§‚ï¼Œå¯ä»¥ä½¿ç”¨ç©ºæ ¼å¯¹é½ä¸åŒè¡Œçš„å•å…ƒæ ¼ï¼Œå¹¶åœ¨å·¦å³ä¸¤ä¾§éƒ½ä½¿ç”¨ | æ¥æ ‡è®°å•å…ƒæ ¼è¾¹ç•Œ</p>
<p>ä¸ºäº†ä½¿ Markdown æ›´æ¸…æ™°ï¼Œ| å’Œ - ä¸¤ä¾§éœ€è¦è‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼ï¼ˆæœ€å·¦ä¾§å’Œæœ€å³ä¾§çš„ | å¤–å°±ä¸éœ€è¦äº†ï¼‰ã€‚</p>
<h1 id="è„šæ³¨"><a href="#è„šæ³¨" class="headerlink" title="è„šæ³¨"></a>è„šæ³¨</h1><p>è¿™ä¸ªä¾‹å­çš„è„šæ³¨ä¸º [1]ã€‚</p>
<p>æ³¨æ„ï¼šè¯¥ä¾‹å­è„šæ³¨æ ‡è¯†æ˜¯1ï¼Œè„šæ³¨æ ‡è¯†å¯ä»¥ä¸ºå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼Œä½†æ˜¯æš‚ä¸æ”¯æŒä¸­æ–‡ã€‚è„šæ³¨å†…å®¹å¯ä¸ºä»»æ„å­—ç¬¦ï¼ŒåŒ…æ‹¬ä¸­æ–‡ã€‚</p>
<h1 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h1><p>è¾“å…¥ *** æˆ–è€… â€” å†æŒ‰å›è½¦å³å¯ç»˜åˆ¶ä¸€æ¡æ°´å¹³çº¿ï¼Œå¦‚ä¸‹ï¼š</p>
<p>ç›®å½•ï¼ˆTOCï¼‰<br>è¾“å…¥ [ toc ] ç„¶åå›è½¦ï¼Œå³å¯åˆ›å»ºä¸€ä¸ªâ€œç›®å½•â€ã€‚TOCä»æ–‡æ¡£ä¸­æå–æ‰€æœ‰æ ‡é¢˜ï¼Œå…¶å†…å®¹å°†è‡ªåŠ¨æ›´æ–°ã€‚</p>
<p>Typoraæ”¯æŒTOCè‡ªåŠ¨ç”Ÿæˆç›®å½•ï¼Œåšå®¢å›­ä¸æ”¯æŒï¼Ÿ<br>è·¨åº¦å…ƒç´ <br>è·¨åº¦å…ƒç´ å³å›¾ç‰‡ï¼Œç½‘å€ï¼Œè§†é¢‘ç­‰ï¼Œåœ¨Typoraä¸­è¾“å…¥åï¼Œä¼šç«‹å³è½½å…¥å¹¶å‘ˆç°ã€‚</p>
<h1 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h1><h2 id="å†…éƒ¨é“¾æ¥"><a href="#å†…éƒ¨é“¾æ¥" class="headerlink" title="å†…éƒ¨é“¾æ¥"></a>å†…éƒ¨é“¾æ¥</h2><p>è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰æ ‡é¢˜å±æ€§çš„ <a href="http://example.com/" title="æ ‡é¢˜">é“¾æ¥</a><br>è¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰æ ‡é¢˜å±æ€§çš„ <a href="http://example.net/">é“¾æ¥</a></p>
<h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p>è¿™æ˜¯ä¸€ä¸ª[å‚è€ƒé“¾æ¥]id â€“ æ— æ³•æ‰§è¡Œ</p>
<h1 id="ç½‘å€"><a href="#ç½‘å€" class="headerlink" title="ç½‘å€"></a>ç½‘å€</h1><p>Typoraå…è®¸ç”¨&lt;æ‹¬å·æ‹¬èµ·æ¥&gt;, æŠŠURLä½œä¸ºé“¾æ¥æ’å…¥ã€‚</p>
<p>Typoraè¿˜ä¼šè‡ªåŠ¨é“¾æ¥æ ‡å‡†ç½‘å€ã€‚<br><a href="http://www.baidu.com/">www.baidu.com</a></p>
<h1 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h1><p><img data-src="C:\Users\Hider\Desktop\echart.png" alt="æ˜¾ç¤ºçš„æ–‡å­—" title="å›¾ç‰‡æ ‡é¢˜"></p>
<p><img data-src="C:\Users\Hider\Desktop\echart.png" alt="æ˜¾ç¤ºçš„æ–‡å­—"></p>
<p>é™¤äº†ä»¥ä¸Š2ç§æ–¹å¼ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥å°†å›¾ç‰‡æ‹–æ‹½è¿›æ¥ï¼Œè‡ªåŠ¨ç”Ÿæˆé“¾æ¥ã€‚</p>
<h1 id="æ–œä½“"><a href="#æ–œä½“" class="headerlink" title="æ–œä½“"></a>æ–œä½“</h1><p>ä½¿ç”¨ <em>å•ä¸ªæ˜Ÿå·</em> æˆ–è€… <em>å•ä¸‹åˆ’çº¿</em> å¯ä»¥å­—ä½“å€¾æ–œã€‚å¿«æ·é”® Ctrl + I</p>
<h1 id="æ–œä½“-1"><a href="#æ–œä½“-1" class="headerlink" title="æ–œä½“"></a>æ–œä½“</h1><h1 id="åŠ ç²—"><a href="#åŠ ç²—" class="headerlink" title="åŠ ç²—"></a>åŠ ç²—</h1><p>ä½¿ç”¨ <strong>ä¸¤ä¸ªæ˜Ÿå·</strong> æˆ–è€… <strong>ä¸¤ä¸ªä¸‹åˆ’çº¿</strong> å¯ä»¥å­—ä½“åŠ ç²—ã€‚å¿«æ·é”® Ctrl + B</p>
<h1 id="åŠ ç²—-1"><a href="#åŠ ç²—-1" class="headerlink" title="åŠ ç²—"></a>åŠ ç²—</h1><p>åŠ ç²—æ–œä½“<br>ä½¿ç”¨<em><strong>åŠ ç²—æ–œä½“</strong></em>å¯ä»¥åŠ ç²—æ–œä½“ã€‚</p>
<h1 id="åŠ ç²—æ–œä½“"><a href="#åŠ ç²—æ–œä½“" class="headerlink" title="åŠ ç²—æ–œä½“"></a>åŠ ç²—æ–œä½“</h1><h1 id="ä»£ç æ ‡è®°"><a href="#ä»£ç æ ‡è®°" class="headerlink" title="ä»£ç æ ‡è®°"></a>ä»£ç æ ‡è®°</h1><p>æ ‡è®°ä»£ç ä½¿ç”¨åå¼•å·ï¼Œå³åœ¨è‹±æ–‡è¾“å…¥æ³•ä¸‹ï¼ŒESCé”®ä¸‹é¢å’Œ1é”®å·¦è¾¹çš„ç¬¦å·ã€‚</p>
<p>ä½¿ç”¨è¯¥ printf()åŠŸèƒ½</p>
<h1 id="åˆ é™¤çº¿"><a href="#åˆ é™¤çº¿" class="headerlink" title="åˆ é™¤çº¿"></a>åˆ é™¤çº¿</h1><p>ä½¿ç”¨<del>åˆ é™¤çº¿</del> å¿«æ·é”® Alt + Shift + 5</p>
<p>åˆ é™¤çº¿</p>
<h1 id="ä¸‹åˆ’çº¿"><a href="#ä¸‹åˆ’çº¿" class="headerlink" title="ä¸‹åˆ’çº¿"></a>ä¸‹åˆ’çº¿</h1><p>\ä¸‹åˆ’çº¿ â€“ æ— æ³•æ‰§è¡Œ</p>
<p>å‚è€ƒå¦ä¸€ç¯‡æ–‡ç« ï¼Œå¯æ‰§è¡Œã€‚</p>
<p>é€šè¿‡<u>ä¸‹åˆ’çº¿çš„å†…å®¹</u> æˆ–è€… å¿«æ·é”®Ctrl + Uå¯å®ç°ä¸‹åˆ’çº¿</p>
<p>ä¸‹åˆ’çº¿çš„å†…å®¹</p>
<h1 id="è¡¨æƒ…ç¬¦å·"><a href="#è¡¨æƒ…ç¬¦å·" class="headerlink" title="è¡¨æƒ…ç¬¦å·"></a>è¡¨æƒ…ç¬¦å·</h1><p>Githubçš„Markdownè¯­æ³•æ”¯æŒæ·»åŠ emojiè¡¨æƒ…ï¼Œè¾“å…¥ä¸åŒçš„ç¬¦å·ç ï¼ˆä¸¤ä¸ªå†’å·åŒ…å›´çš„å­—ç¬¦ï¼‰å¯ä»¥æ˜¾ç¤ºå‡ºä¸åŒçš„è¡¨æƒ…ã€‚</p>
<p>:smile â€“ æ— æ³•æ˜¾ç¤º</p>
<p>ğŸ˜º</p>
<h2 id="ä¸‹æ ‡"><a href="#ä¸‹æ ‡" class="headerlink" title="ä¸‹æ ‡"></a>ä¸‹æ ‡</h2><p>å¯ä»¥ä½¿ç”¨ <sub>æ–‡æœ¬</sub>å®ç°ä¸‹æ ‡ã€‚</p>
<p>(éœ€åœ¨è®¾ç½®ä¸­æ‰“å¼€è¯¥åŠŸèƒ½)</p>
<p>H<sub>2</sub>O</p>
<h2 id="ä¸Šæ ‡"><a href="#ä¸Šæ ‡" class="headerlink" title="ä¸Šæ ‡"></a>ä¸Šæ ‡</h2><p>å¯ä»¥ä½¿ç”¨<sup>æ–‡æœ¬</sup>å®ç°ä¸Šæ ‡ã€‚</p>
<p>(éœ€åœ¨è®¾ç½®ä¸­æ‰“å¼€è¯¥åŠŸèƒ½)</p>
<p>X<sup>2</sup></p>
<h1 id="é«˜äº®"><a href="#é«˜äº®" class="headerlink" title="é«˜äº®"></a>é«˜äº®</h1><p>== é«˜äº® ==(éœ€åœ¨è®¾ç½®ä¸­æ‰“å¼€è¯¥åŠŸèƒ½)</p>
<p>æˆ‘æ˜¯æœ€é‡è¦çš„</p>
<p>æ–‡æœ¬å±…ä¸­<br>ä½¿ç”¨ </p><center>è¿™æ˜¯è¦å±…ä¸­çš„å†…å®¹</center>å¯ä»¥ä½¿æ–‡æœ¬å±…ä¸­<p></p>
<p>è¿™æ˜¯è¦å±…ä¸­çš„æ–‡æœ¬å†…å®¹</p>
<h1 id="æ¢è¡Œç¬¦"><a href="#æ¢è¡Œç¬¦" class="headerlink" title="æ¢è¡Œç¬¦"></a>æ¢è¡Œç¬¦</h1><p>ä½¿ç”¨ ç©ºæ ¼ + ç©ºæ ¼ + Enterå¯ä»¥å®ç°æ¢è¡Œï¼Œä¾‹å¦‚ï¼š</p>
<p>æˆ–è€…å¯ä»¥ä½¿ç”¨<br>å®ç°æ¢è¡Œã€‚</p>
<h1 id="è½¬ä¹‰"><a href="#è½¬ä¹‰" class="headerlink" title="è½¬ä¹‰"></a>è½¬ä¹‰</h1><p>Markdown ä½¿ç”¨äº†å¾ˆå¤šç‰¹æ®Šç¬¦å·æ¥è¡¨ç¤ºç‰¹å®šçš„æ„ä¹‰ï¼Œå¦‚æœéœ€è¦æ˜¾ç¤ºç‰¹å®šçš„ç¬¦å·åˆ™éœ€è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ï¼ŒMarkdown ä½¿ç”¨åæ–œæ è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼š</p>
<h1 id="æ–‡æœ¬åŠ ç²—"><a href="#æ–‡æœ¬åŠ ç²—" class="headerlink" title="æ–‡æœ¬åŠ ç²—"></a>æ–‡æœ¬åŠ ç²—</h1><p>** æ­£å¸¸æ˜¾ç¤ºæ˜Ÿå· **</p>
<p>Markdown æ”¯æŒä»¥ä¸‹è¿™äº›ç¬¦å·å‰é¢åŠ ä¸Šåæ–œæ æ¥å¸®åŠ©æ’å…¥æ™®é€šçš„ç¬¦å·ï¼š</p>
<p>\   åæ–œçº¿<br>`   åå¼•å·</p>
<ul>
<li>æ˜Ÿå·<br>_   ä¸‹åˆ’çº¿<br>{}  èŠ±æ‹¬å·<br>[]  æ–¹æ‹¬å·<br>()  å°æ‹¬å·<h1 id="äº•å­—å·"><a href="#äº•å­—å·" class="headerlink" title="äº•å­—å·"></a>äº•å­—å·</h1></li>
</ul>
<ul>
<li>åŠ å·</li>
</ul>
<ul>
<li>å‡å·<br>.   è‹±æ–‡å¥ç‚¹<br>!   æ„Ÿå¹å·<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1>æ”¯æŒHTML</li>
</ul>
<p>ä¸åœ¨ Markdown æ¶µç›–èŒƒå›´ä¹‹å†…çš„æ ‡ç­¾ï¼Œéƒ½å¯ä»¥ç›´æ¥åœ¨æ–‡æ¡£é‡Œé¢ç”¨ HTML æ’°å†™ã€‚</p>
<p>ç›®å‰æ”¯æŒçš„ HTML å…ƒç´ æœ‰ï¼š<kbd> <b> <i> <em> <sup> <sub> <br>ç­‰ ï¼Œå¦‚ï¼š</sub></sup></em></i></b></kbd></p><b><i><em>
<p>ä½¿ç”¨ <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd> é‡å¯ç”µè„‘<br><kbd> </kbd> â€“ ç™½è‰²æ¡†æ¡†<br>æ•ˆæœï¼š<br>ä½¿ç”¨ Ctrl+Alt+Del é‡å¯ç”µè„‘</p>
<h1 id="åµŒå…¥å†…å®¹"><a href="#åµŒå…¥å†…å®¹" class="headerlink" title="åµŒå…¥å†…å®¹"></a>åµŒå…¥å†…å®¹</h1><p>è§†é¢‘<br>å»ºè®®æ‰“å¼€å¤§çº²è§†å›¾Ctrl + Shift + 1<br>æ’å…¥è¡¨æ ¼éœ€è¦é¡¶æ ¼å†™ï¼Œå¦åˆ™æ— æ³•æ˜¾ç¤º<br>è¯­æ³•æ— é¡»åˆ»æ„è®°å¿†ï¼Œå³é”®å¯æŸ¥è¯¢</p>
</em></i></b>]]></content>
      <categories>
        <category>æ•™ç¨‹</category>
        <category>markdown</category>
        <category>è¯­æ³•</category>
      </categories>
      <tags>
        <tag>æ•™ç¨‹</tag>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>Gradle æ’ä»¶å¼€å‘</title>
    <url>/2022/02/08/plugins/gradle-plugin/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>plugin</category>
        <category>gradle</category>
      </categories>
      <tags>
        <tag>gradle</tag>
        <tag>plugin</tag>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title>Chrome æ’ä»¶å¼€å‘</title>
    <url>/2022/02/08/plugins/chrome-plugin/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>plugin</category>
        <category>chrome</category>
      </categories>
      <tags>
        <tag>plugin</tag>
        <tag>chrome</tag>
      </tags>
  </entry>
  <entry>
    <title>VSCode æ’ä»¶å¼€å‘</title>
    <url>/2022/02/08/plugins/vscode-plugin/</url>
    <content><![CDATA[<h1 id="VSCodeè‡ªå®šä¹‰æ’ä»¶å¼€å‘"><a href="#VSCodeè‡ªå®šä¹‰æ’ä»¶å¼€å‘" class="headerlink" title="VSCodeè‡ªå®šä¹‰æ’ä»¶å¼€å‘"></a>VSCodeè‡ªå®šä¹‰æ’ä»¶å¼€å‘</h1><h2 id="VSCodeæ’ä»¶å¼€å‘æœ‰ä»€ä¹ˆç”¨"><a href="#VSCodeæ’ä»¶å¼€å‘æœ‰ä»€ä¹ˆç”¨" class="headerlink" title="VSCodeæ’ä»¶å¼€å‘æœ‰ä»€ä¹ˆç”¨"></a>VSCodeæ’ä»¶å¼€å‘æœ‰ä»€ä¹ˆç”¨</h2><p>æ¯ä¸ªå…¬å¸ã€é¡¹ç›®ç»„ã€å„äººéƒ½æœ‰è‡ªå·±ç‰¹æ®Šçš„å®šåˆ¶åŒ–ã€å¯å…¬ç”¨çš„éœ€æ±‚ï¼Œvscodeçš„å·²æœ‰æ’ä»¶æ˜¾ç„¶ä¸èƒ½æ»¡è¶³æˆ‘ä»¬å„ç§å„æ ·çš„è¦æ±‚ï¼Œæ‰€ä»¥å¼€å‘ä¸€ä¸ªé€‚ç”¨äºæˆ‘ä»¬è‡ªå·±çš„å®šåˆ¶åŒ–æ’ä»¶ï¼Œæ— ç–‘èƒ½å¤§å¤§æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ä»¥åŠå›¢é˜Ÿçš„è¯­æ³•è§„èŒƒ</p>
<h2 id="VSCodeæ’ä»¶å¼€å‘ã€å‘å¸ƒä¸»è¦æµç¨‹"><a href="#VSCodeæ’ä»¶å¼€å‘ã€å‘å¸ƒä¸»è¦æµç¨‹" class="headerlink" title="VSCodeæ’ä»¶å¼€å‘ã€å‘å¸ƒä¸»è¦æµç¨‹"></a>VSCodeæ’ä»¶å¼€å‘ã€å‘å¸ƒä¸»è¦æµç¨‹</h2><ol>
<li>æ’ä»¶å¼€å‘å‰çš„å‡†å¤‡ï¼švscodeã€nodejsã€vscodeæ’ä»¶ç”Ÿäº§å·¥å…·ã€gitã€å¾®è½¯è´¦å·</li>
<li>æ’ä»¶å¼€å‘ï¼šæ’ä»¶æ„æ€ã€å®˜æ–¹æ–‡æ¡£æŸ¥é˜…</li>
<li>æ’ä»¶å‘å¸ƒï¼šæ‰“åŒ…ã€ä¸Šä¼ ã€æ’ä»¶å¸‚åœºæ“ä½œ</li>
<li>æ’ä»¶ç»´æŠ¤ï¼šæ›´æ–°è¿­ä»£åæ‰“åŒ…ã€ä¸Šä¼ ã€æ’ä»¶å¸‚åœºæ“ä½œ</li>
</ol>
<h2 id="æ’ä»¶å¼€å‘å‰çš„å‡†å¤‡ï¼š"><a href="#æ’ä»¶å¼€å‘å‰çš„å‡†å¤‡ï¼š" class="headerlink" title="æ’ä»¶å¼€å‘å‰çš„å‡†å¤‡ï¼š"></a>æ’ä»¶å¼€å‘å‰çš„å‡†å¤‡ï¼š</h2><p>vscodeã€nodejsã€gitã€å¾®è½¯è´¦å·<br>vscodeæ’ä»¶ç”Ÿäº§å·¥å…·ï¼šå®˜æ–¹æ¨èä½¿ç”¨Yeoman å’Œ VS Code Extension Generatorã€‚ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">npm install -g yo generator-code</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ä½¿ç”¨ç”Ÿäº§å·¥å…·åˆå§‹åŒ–ä»£ç "><a href="#ä½¿ç”¨ç”Ÿäº§å·¥å…·åˆå§‹åŒ–ä»£ç " class="headerlink" title="ä½¿ç”¨ç”Ÿäº§å·¥å…·åˆå§‹åŒ–ä»£ç "></a>ä½¿ç”¨ç”Ÿäº§å·¥å…·åˆå§‹åŒ–ä»£ç </h3><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">yo code</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>ç›®å½•å¦‚ä¸‹</li>
</ul>
<figure class="highlight awk"><table><tbody><tr><td class="code"><pre><span class="line">â”œâ”€â”€ .vscode      <span class="regexp">//</span> èµ„æºé…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ CHANGELOG.md <span class="regexp">//</span> æ›´æ”¹è®°å½•æ–‡ä»¶ï¼Œä¼šå±•ç¤ºåˆ°vscodeæ’ä»¶å¸‚åœº</span><br><span class="line">â”œâ”€â”€ extension.js <span class="regexp">//</span> æ‹“å±•æºä»£ç æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ jsconfig.json</span><br><span class="line">â”œâ”€â”€ package.json <span class="regexp">//</span> èµ„æºé…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ README.md    <span class="regexp">//</span> æ’ä»¶ä»‹ç»æ–‡ä»¶ï¼Œä¼šå±•ç¤ºåˆ°vscodeæ’ä»¶å¸‚åœº</span><br><span class="line">â”œâ”€â”€ test         <span class="regexp">//</span> æµ‹è¯•æ–‡ä»¶</span><br><span class="line">â””â”€â”€ vsc-extension-quickstart.md</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨jsæ‹“å±•é¡¹ç›®ä¸‹ï¼Œæœ€é‡è¦çš„å°±æ˜¯extension.jså’Œpackage.jsonã€‚</p>
<h2 id="å¼€å‘çš„æ’ä»¶åŠŸèƒ½"><a href="#å¼€å‘çš„æ’ä»¶åŠŸèƒ½" class="headerlink" title="å¼€å‘çš„æ’ä»¶åŠŸèƒ½"></a>å¼€å‘çš„æ’ä»¶åŠŸèƒ½</h2><ol>
<li>åˆå§‹åŒ–é¡¹ç›®çš„ç»„ä»¶æ¨¡å—</li>
<li>åˆå§‹åŒ–é¡¹ç›®é‡Œé¢èƒ½å…±ç”¨çš„æ¨¡å—</li>
</ol>
<h1 id="æ‰“åŒ…"><a href="#æ‰“åŒ…" class="headerlink" title="æ‰“åŒ…"></a>æ‰“åŒ…</h1><p><a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension">å®˜æ–¹æ–‡æ¡£</a>   <a href="https://www.yuque.com/chengkuan/web/yr5r7u?language=en-us">Bugs</a></p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>Make sure you have <a href="https://nodejs.org/">Node.js</a> installed. Then run:</p>
<figure class="highlight cmake"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -g vsce</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>You can use <code>vsce</code> to easily <a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension#packaging-extensions">package</a> and <a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension#publishing-extensions">publish</a> your extensions:</p>
<figure class="highlight powershell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="variable">$</span> <span class="built_in">cd</span> myExtension</span><br><span class="line"><span class="variable">$</span> vsce package</span><br><span class="line"><span class="comment"># myExtension.vsix generated</span></span><br><span class="line"><span class="variable">$</span> vsce publish</span><br><span class="line"><span class="comment"># &lt;publisherID&gt;.myExtension published to VS Code MarketPlace</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>plugin</category>
        <category>vscode</category>
      </categories>
      <tags>
        <tag>plugin</tag>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2022/02/08/plugins/readme/</url>
    <content><![CDATA[<h1 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h1><p>å„ç§æ’ä»¶å¼€å‘</p>
]]></content>
  </entry>
  <entry>
    <title>HTML è§„èŒƒ</title>
    <url>/2022/02/08/lang/html/html/</url>
    <content><![CDATA[<h1 id="DOCTYPE-å£°æ˜"><a href="#DOCTYPE-å£°æ˜" class="headerlink" title="DOCTYPE å£°æ˜"></a>DOCTYPE å£°æ˜</h1><p>ä¸€ä¸ªDOCTYPEå¿…é¡»åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼Œå¹¶ä¸¥æ ¼æŒ‰ç…§é¡ºåºå‡ºç°ï¼š</p>
<blockquote>
<ol>
<li>A string that is an ASCII case-insensitive match for the string â€œ&lt;!DOCTYPEâ€.</li>
<li>One or more space characters.</li>
<li>A string that is an ASCII case-insensitive match for the string â€œhtmlâ€.</li>
<li>Optionally, a DOCTYPE legacy string or an obsolete permitted DOCTYPE string (defined below).</li>
<li>Zero or more space characters.</li>
<li>A â€œ&gt;â€ (U+003E) character.</li>
</ol>
</blockquote>
<ol>
<li>ä¸€ä¸ªASCIIå­—ç¬¦ä¸² â€œ&lt;!DOCTYPEâ€ ï¼Œå¤§å°å†™ä¸æ•æ„Ÿ</li>
<li>ä¸€ä¸ªæˆ–å¤šä¸ªç©ºç™½å­—ç¬¦</li>
<li>ä¸€ä¸ªASCIIå­—ç¬¦ä¸²â€htmlâ€ï¼Œå¤§å°å†™ä¸æ•æ„Ÿ</li>
<li>ä¸€ä¸ªå¯é€‰çš„å†å²é—ç•™çš„DOCTYPEå­—ç¬¦ä¸² ï¼ˆ<a href="http://www.w3.org/TR/2014/REC-html5-20141028/syntax.html#doctype-legacy-string">DOCTYPE legacy string</a>ï¼‰ï¼Œæˆ–è€…ä¸€ä¸ªå¯é€‰çš„å·²è¿‡æ—¶ä½†è¢«å…è®¸çš„DOCTYPEå­—ç¬¦ä¸² ï¼ˆ<a href="http://www.w3.org/TR/2014/REC-html5-20141028/syntax.html#obsolete-permitted-doctype-string">obsolete permitted DOCTYPE string</a>ï¼‰ å­—ç¬¦ä¸²</li>
<li>ä¸€ä¸ªæˆ–å¤šä¸ªç©ºç™½å­—ç¬¦</li>
<li>ä¸€ä¸ªç¼–ç ä¸º U+003E çš„å­—ç¬¦ â€œ&gt;â€</li>
</ol>
<h2 id="å›¢é˜Ÿçº¦å®š"><a href="#å›¢é˜Ÿçº¦å®š" class="headerlink" title="å›¢é˜Ÿçº¦å®š"></a>å›¢é˜Ÿçº¦å®š</h2><p>HTMLæ–‡ä»¶å¿…é¡»åŠ ä¸Š DOCTYPE å£°æ˜ï¼Œå¹¶ç»Ÿä¸€ä½¿ç”¨ HTML5 çš„æ–‡æ¡£å£°æ˜ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="æ›´å¤šå…³äº-DOCTYPEå£°æ˜"><a href="#æ›´å¤šå…³äº-DOCTYPEå£°æ˜" class="headerlink" title="æ›´å¤šå…³äº DOCTYPEå£°æ˜"></a>æ›´å¤šå…³äº DOCTYPEå£°æ˜</h2><p><a href="http://www.w3.org/TR/2014/REC-html5-20141028/syntax.html#the-doctype">#The DOCTYPE</a></p>
<h1 id="é¡µé¢è¯­è¨€LANG"><a href="#é¡µé¢è¯­è¨€LANG" class="headerlink" title="é¡µé¢è¯­è¨€LANG"></a>é¡µé¢è¯­è¨€LANG</h1><p>Langå±æ€§çš„å–å€¼åº”è¯¥éµå¾ªäº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„â€“IETFï¼ˆThe Internet Engineering Task Forceï¼‰åˆ¶å®šçš„å…³äºè¯­è¨€æ ‡ç­¾çš„æ–‡æ¡£ <a href="http://tools.ietf.org/html/bcp47">BCP 47 - Tags for Identifying Languages</a></p>
<h2 id="å›¢é˜Ÿçº¦å®š-1"><a href="#å›¢é˜Ÿçº¦å®š-1" class="headerlink" title="å›¢é˜Ÿçº¦å®š"></a>å›¢é˜Ÿçº¦å®š</h2><p>æ¨èä½¿ç”¨å±æ€§å€¼ <code>cmn-Hans-CN</code>ï¼ˆç®€ä½“, ä¸­å›½å¤§é™†ï¼‰ï¼Œä½†æ˜¯è€ƒè™‘æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿçš„å…¼å®¹æ€§ï¼Œç›®å‰ä»ç„¶ä½¿ç”¨ <code>zh-CN</code> å±æ€§å€¼</p>
<figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">&lt;html <span class="attribute">lang</span>=<span class="string">"zh-CN"</span>&gt;</span><br></pre></td></tr></tbody></table></figure>



<p>æ›´å¤šåœ°åŒºè¯­è¨€å‚è€ƒï¼š</p>
<figure class="highlight scss"><table><tbody><tr><td class="code"><pre><span class="line">zh-SG ä¸­æ–‡ (ç®€ä½“, æ–°åŠ å¡)   å¯¹åº” cmn-Hans-SG æ™®é€šè¯ (ç®€ä½“, æ–°åŠ å¡)</span><br><span class="line">zh-HK ä¸­æ–‡ (ç¹ä½“, é¦™æ¸¯)     å¯¹åº” cmn-Hant-HK æ™®é€šè¯ (ç¹ä½“, é¦™æ¸¯)</span><br><span class="line">zh-MO ä¸­æ–‡ (ç¹ä½“, æ¾³é—¨)     å¯¹åº” cmn-Hant-MO æ™®é€šè¯ (ç¹ä½“, æ¾³é—¨)</span><br><span class="line">zh-TW ä¸­æ–‡ (ç¹ä½“, å°æ¹¾)     å¯¹åº” cmn-Hant-TW æ™®é€šè¯ (ç¹ä½“, å°æ¹¾)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å·²åºŸå¼ƒä¸æ¨èä½¿ç”¨çš„-Languages-Tags"><a href="#å·²åºŸå¼ƒä¸æ¨èä½¿ç”¨çš„-Languages-Tags" class="headerlink" title="å·²åºŸå¼ƒä¸æ¨èä½¿ç”¨çš„ Languages Tags"></a>å·²åºŸå¼ƒä¸æ¨èä½¿ç”¨çš„ Languages Tags</h2><p>ä»¥ä¸‹å†™æ³•å·²äº 2009 å¹´åºŸå¼ƒï¼Œè¯·å‹¿ä½¿ç”¨ï¼ˆcmnã€wuuã€yueã€gan ç­‰å·²ç”± 2005 å¹´çš„ extlang å‡çº§åˆ° 2009 å¹´çš„ languageï¼‰ï¼š</p>
<figure class="highlight avrasm"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">zh</span>-cmn, <span class="built_in">zh</span>-cmn-Hans, <span class="built_in">zh</span>-cmn-Hant, <span class="built_in">zh</span>-wuu, <span class="built_in">zh</span>-yue, <span class="built_in">zh</span>-gan</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸‹å†™æ³•å·²äº 2009 å¹´åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨ï¼š</p>
<figure class="highlight avrasm"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">zh</span>-Hans, <span class="built_in">zh</span>-Hans-CN, <span class="built_in">zh</span>-Hans-SG, <span class="built_in">zh</span>-Hans-HK, <span class="built_in">zh</span>-Hans-MO, <span class="built_in">zh</span>-Hans-TW, </span><br><span class="line"><span class="built_in">zh</span>-Hant, <span class="built_in">zh</span>-Hant-CN, <span class="built_in">zh</span>-Hant-SG, <span class="built_in">zh</span>-Hant-HK, <span class="built_in">zh</span>-Hant-MO, <span class="built_in">zh</span>-Hant-TW</span><br></pre></td></tr></tbody></table></figure>

<p>æ›´å¤šå·²åºŸå¼ƒ Languages Tags å‚è€ƒ <a href="http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry">IANA Language Subtag Registry</a> é‡Œé¢çš„ â€œType: redundantâ€œâ€</p>
<h2 id="æ›´å¤šå…³äº-Languages-Tags-ï¼š"><a href="#æ›´å¤šå…³äº-Languages-Tags-ï¼š" class="headerlink" title="æ›´å¤šå…³äº Languages Tags ï¼š"></a>æ›´å¤šå…³äº Languages Tags ï¼š</h2><p><a href="http://www.w3.org/International/articles/language-tags/">W3C Language tags in HTML and XML</a></p>
<p><a href="http://www.zhihu.com/question/20797118?utm_source=weibo&amp;utm_medium=weibo_share&amp;utm_content=share_question&amp;utm_campaign=share_sidebar">ç½‘é¡µå¤´éƒ¨çš„å£°æ˜åº”è¯¥æ˜¯ç”¨ lang=â€zhâ€ è¿˜æ˜¯ lang=â€zh-cnâ€ï¼Ÿ</a></p>
<h1 id="CHARSET"><a href="#CHARSET" class="headerlink" title="CHARSET"></a>CHARSET</h1><blockquote>
<p>Because the character sets in ISO-8859 was limited in size, and not compatible in multilingual environments, the Unicode Consortium developed the Unicode Standard.</p>
<p>The Unicode Standard covers (almost) all the characters, punctuations, and symbols in the world.</p>
<p>Unicode enables processing, storage, and transport of text independent of platform and language.</p>
<p>The default character encoding in HTML-5 is UTF-8.</p>
</blockquote>
<p>å› ä¸º ISO-8859 ä¸­å­—ç¬¦é›†å¤§å°æ˜¯æœ‰é™çš„ï¼Œä¸”åœ¨å¤šè¯­è¨€ç¯å¢ƒä¸­ä¸å…¼å®¹ï¼Œæ‰€ä»¥ Unicode è”ç›Ÿå¼€å‘äº† Unicode æ ‡å‡†ã€‚</p>
<p>Unicode æ ‡å‡†è¦†ç›–äº†ï¼ˆå‡ ä¹ï¼‰æ‰€æœ‰çš„å­—ç¬¦ã€æ ‡ç‚¹ç¬¦å·å’Œç¬¦å·ã€‚</p>
<p>Unicode ä½¿æ–‡æœ¬çš„å¤„ç†ã€å­˜å‚¨å’Œè¿è¾“ï¼Œç‹¬ç«‹äºå¹³å°å’Œè¯­è¨€ã€‚</p>
<p>HTML-5 ä¸­é»˜è®¤çš„å­—ç¬¦ç¼–ç æ˜¯ UTF-8</p>
<p>å‚é˜… <a href="http://www.w3schools.com/charsets/ref_html_utf8.asp">HTML Unicode (UTF-8) Reference</a></p>
<h2 id="å›¢é˜Ÿçº¦å®š-2"><a href="#å›¢é˜Ÿçº¦å®š-2" class="headerlink" title="å›¢é˜Ÿçº¦å®š"></a>å›¢é˜Ÿçº¦å®š</h2><p>ä¸€èˆ¬æƒ…å†µä¸‹ç»Ÿä¸€ä½¿ç”¨ â€œUTF-8â€ ç¼–ç </p>
<figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">&lt;meta <span class="attribute">charset</span>=<span class="string">"UTF-8"</span>&gt;</span><br></pre></td></tr></tbody></table></figure>



<p>ç”±äºå†å²åŸå› ï¼Œæœ‰äº›ä¸šåŠ¡å¯èƒ½ä¼šä½¿ç”¨ â€œGBKâ€ ç¼–ç </p>
<figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">&lt;meta <span class="attribute">charset</span>=<span class="string">"GBK"</span>&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>è¯·å°½é‡ç»Ÿä¸€å†™æˆæ ‡å‡†çš„ â€œUTF-8â€ï¼Œä¸è¦å†™æˆ â€œutf-8â€ æˆ– â€œutf8â€ æˆ– â€œUTF8â€ã€‚æ ¹æ® <a href="http://www.ietf.org/rfc/rfc3629">IETFå¯¹UTF-8çš„å®šä¹‰</a>ï¼Œå…¶ç¼–ç æ ‡å‡†çš„å†™æ³•æ˜¯ â€œUTF-8â€ï¼›è€Œ UTF8 æˆ– utf8 çš„å†™æ³•åªæ˜¯å‡ºç°åœ¨æŸäº›ç¼–ç¨‹ç³»ç»Ÿä¸­ï¼Œå¦‚ .NET framework çš„ç±» System.Text.Encoding ä¸­çš„ä¸€ä¸ªå±æ€§åå°±å« UTF8ã€‚</p>
<h2 id="æ›´å¤šå…³äº"><a href="#æ›´å¤šå…³äº" class="headerlink" title="æ›´å¤šå…³äº"></a>æ›´å¤šå…³äº</h2><p>UTF-8å†™æ³•: <a href="http://stackoverflow.com/questions/809620/utf8-or-utf-8">UTF8 or UTF-8?</a></p>
<p>GBKï¼š<a href="http://www.ietf.org/assignments/charset-reg/GBK">Application of IANA Charset Registration for GBK</a></p>
<p>Charset ï¼š<a href="http://www.w3.org/TR/html5/document-metadata.html#character-encoding-declaration">character-encoding-declaration</a></p>
<h1 id="å…ƒç´ åŠæ ‡ç­¾é—­åˆ"><a href="#å…ƒç´ åŠæ ‡ç­¾é—­åˆ" class="headerlink" title="å…ƒç´ åŠæ ‡ç­¾é—­åˆ"></a>å…ƒç´ åŠæ ‡ç­¾é—­åˆ</h1><p>HTMLå…ƒç´ å…±æœ‰ä»¥ä¸‹5ç§ï¼š</p>
<ul>
<li>ç©ºå…ƒç´ ï¼šareaã€baseã€brã€colã€commandã€embedã€hrã€imgã€inputã€keygenã€linkã€metaã€paramã€sourceã€trackã€wbr</li>
<li>åŸå§‹æ–‡æœ¬å…ƒç´ ï¼šscriptã€style</li>
<li>RCDATAå…ƒç´ ï¼štextareaã€title</li>
<li>å¤–æ¥å…ƒç´ ï¼šæ¥è‡ªMathMLå‘½åç©ºé—´å’ŒSVGå‘½åç©ºé—´çš„å…ƒç´ ã€‚</li>
<li>å¸¸è§„å…ƒç´ ï¼šå…¶ä»–HTMLå…è®¸çš„å…ƒç´ éƒ½ç§°ä¸ºå¸¸è§„å…ƒç´ ã€‚</li>
</ul>
<p>å…ƒç´ æ ‡ç­¾çš„é—­åˆåº”éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š</p>
<blockquote>
<p>Tags are used to delimit the start and end of elements in the markup. Raw text, escapable raw text, and normal elements have a start tag to indicate where they begin, and an end tag to indicate where they end. The start and end tags of certain normal elements can be omitted, as described below in the section on optional tags. Those that cannot be omitted must not be omitted. Void elements only have a start tag; end tags must not be specified for void elements. Foreign elements must either have a start tag and an end tag, or a start tag that is marked as self-closing, in which case they must not have an end tag.</p>
</blockquote>
<ul>
<li>åŸå§‹æ–‡æœ¬å…ƒç´ ã€RCDATAå…ƒç´ ä»¥åŠå¸¸è§„å…ƒç´ éƒ½æœ‰ä¸€ä¸ªå¼€å§‹æ ‡ç­¾æ¥è¡¨ç¤ºå¼€å§‹ï¼Œä¸€ä¸ªç»“æŸæ ‡ç­¾æ¥è¡¨ç¤ºç»“æŸã€‚</li>
<li><a href="http://www.w3.org/TR/html5/syntax.html#optional-tags">æŸäº›å…ƒç´ çš„å¼€å§‹å’Œç»“æŸæ ‡ç­¾æ˜¯å¯ä»¥çœç•¥çš„</a>ï¼Œå¦‚æœè§„å®šæ ‡ç­¾ä¸èƒ½è¢«çœç•¥ï¼Œé‚£ä¹ˆå°±ç»å¯¹ä¸èƒ½çœç•¥å®ƒã€‚</li>
<li>ç©ºå…ƒç´ åªæœ‰ä¸€ä¸ªå¼€å§‹æ ‡ç­¾ï¼Œä¸”ä¸èƒ½ä¸ºç©ºå…ƒç´ è®¾ç½®ç»“æŸæ ‡ç­¾ã€‚</li>
<li>å¤–æ¥å…ƒç´ å¯ä»¥æœ‰ä¸€ä¸ªå¼€å§‹æ ‡ç­¾å’Œé…å¯¹çš„ç»“æŸæ ‡ç­¾ï¼Œæˆ–è€…åªæœ‰ä¸€ä¸ªè‡ªé—­åˆçš„å¼€å§‹æ ‡ç­¾ï¼Œä¸”åè€…æƒ…å†µä¸‹è¯¥å…ƒç´ ä¸èƒ½æœ‰ç»“æŸæ ‡ç­¾ã€‚</li>
</ul>
<h2 id="å›¢é˜Ÿçº¦å®š-3"><a href="#å›¢é˜Ÿçº¦å®š-3" class="headerlink" title="å›¢é˜Ÿçº¦å®š"></a>å›¢é˜Ÿçº¦å®š</h2><p>ä¸ºäº†èƒ½è®©æµè§ˆå™¨æ›´å¥½çš„è§£æä»£ç ä»¥åŠèƒ½è®©ä»£ç å…·æœ‰æ›´å¥½çš„å¯è¯»æ€§ï¼Œæœ‰å¦‚ä¸‹çº¦å®šï¼š</p>
<ul>
<li>æ‰€æœ‰å…·æœ‰å¼€å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾çš„å…ƒç´ éƒ½è¦å†™ä¸Šèµ·æ­¢æ ‡ç­¾ï¼ŒæŸäº›å…è®¸çœç•¥å¼€å§‹æ ‡ç­¾æˆ–å’ŒæŸæ ‡ç­¾çš„å…ƒç´ äº¦éƒ½è¦å†™ä¸Šã€‚</li>
<li>ç©ºå…ƒç´ æ ‡ç­¾éƒ½ä¸åŠ  â€œ/â€ å­—ç¬¦</li>
</ul>
<p><em>æ¨èï¼š</em></p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘æ˜¯h1æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€æ®µæ–‡å­—ï¼Œæˆ‘æœ‰å§‹æœ‰ç»ˆï¼Œæµè§ˆå™¨èƒ½æ­£ç¡®è§£æ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><em>ä¸æ¨èï¼š</em></p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆ‘æ˜¯h1æ ‡é¢˜<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯ä¸€æ®µæ–‡å­—ï¼Œæˆ‘æœ‰å§‹æ— ç»ˆï¼Œæµè§ˆå™¨äº¦èƒ½æ­£ç¡®è§£æ</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ›´å¤šå…³äºå…ƒç´ åŠæ ‡ç­¾å…³é—­ï¼š<a href="http://www.w3.org/TR/html5/syntax.html#elements-0">#Elements</a></p>
<h1 id="ä¹¦å†™é£æ ¼"><a href="#ä¹¦å†™é£æ ¼" class="headerlink" title="ä¹¦å†™é£æ ¼"></a>ä¹¦å†™é£æ ¼</h1><h2 id="HTMLä»£ç å¤§å°å†™"><a href="#HTMLä»£ç å¤§å°å†™" class="headerlink" title="HTMLä»£ç å¤§å°å†™"></a>HTMLä»£ç å¤§å°å†™</h2><p>HTMLæ ‡ç­¾åã€ç±»åã€æ ‡ç­¾å±æ€§å’Œå¤§éƒ¨åˆ†å±æ€§å€¼ç»Ÿä¸€ç”¨å°å†™</p>
<p><em>æ¨èï¼š</em></p>
<figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="built_in">class</span>=<span class="string">"demo"</span>&gt;&lt;/<span class="keyword">div</span>&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><em>ä¸æ¨èï¼š</em></p>
<figure class="highlight gradle"><table><tbody><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="keyword">class</span>=<span class="string">"DEMO"</span>&gt;&lt;/<span class="keyword">div</span>&gt;</span><br><span class="line">    </span><br><span class="line">&lt;<span class="keyword">DIV</span> <span class="keyword">CLASS</span>=<span class="string">"DEMO"</span>&gt;&lt;/<span class="keyword">DIV</span>&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>HTMLæ–‡æœ¬ã€CDATAã€JavaScriptã€metaæ ‡ç­¾æŸäº›å±æ€§ç­‰å†…å®¹å¯å¤§å°å†™æ··åˆ</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¼˜å…ˆä½¿ç”¨ IE æœ€æ–°ç‰ˆæœ¬å’Œ Chrome Frame --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- HTMLæ–‡æœ¬å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>I AM WHAT I AM <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- JavaScript å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> demoName = <span class="string">'demoName'</span>;</span></span><br><span class="line"><span class="language-javascript">    ...</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!-- CDATA å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="language-handlebars"><span class="language-xml">&lt;![CDATA[</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">...</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">]]&gt;</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="ç±»å‹å±æ€§"><a href="#ç±»å‹å±æ€§" class="headerlink" title="ç±»å‹å±æ€§"></a>ç±»å‹å±æ€§</h2><p>ä¸éœ€è¦ä¸º CSSã€JS æŒ‡å®šç±»å‹å±æ€§ï¼ŒHTML5 ä¸­é»˜è®¤å·²åŒ…å«</p>
<p><em>æ¨èï¼š</em></p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">""</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><em>ä¸æ¨èï¼š</em></p>
<figure class="highlight abnf"><table><tbody><tr><td class="code"><pre><span class="line">&lt;link rel<span class="operator">=</span><span class="string">"stylesheet"</span> type<span class="operator">=</span><span class="string">"text/css"</span> href<span class="operator">=</span><span class="string">""</span> &gt;</span><br><span class="line">&lt;script type<span class="operator">=</span><span class="string">"text/javascript"</span> src<span class="operator">=</span><span class="string">""</span> &gt;&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å…ƒç´ å±æ€§"><a href="#å…ƒç´ å±æ€§" class="headerlink" title="å…ƒç´ å±æ€§"></a>å…ƒç´ å±æ€§</h2><ul>
<li>å…ƒç´ å±æ€§å€¼ä½¿ç”¨åŒå¼•å·è¯­æ³•</li>
<li>å…ƒç´ å±æ€§å€¼å¯ä»¥å†™ä¸Šçš„éƒ½å†™ä¸Š</li>
</ul>
<p><em>æ¨èï¼š</em></p>
<figure class="highlight pgsql"><table><tbody><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">input</span> <span class="keyword">type</span>="text"&gt;</span><br><span class="line">    </span><br><span class="line">&lt;<span class="keyword">input</span> <span class="keyword">type</span>="radio" <span class="type">name</span>="name" checked="checked" &gt;</span><br></pre></td></tr></tbody></table></figure>

<p><em>ä¸æ¨èï¼š</em></p>
<figure class="highlight pgsql"><table><tbody><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">input</span> <span class="keyword">type</span>=<span class="type">text</span>&gt;    </span><br><span class="line">&lt;<span class="keyword">input</span> <span class="keyword">type</span>=<span class="string">'text'</span>&gt;</span><br><span class="line">    </span><br><span class="line">&lt;<span class="keyword">input</span> <span class="keyword">type</span>="radio" <span class="type">name</span>="name" checked &gt;</span><br></pre></td></tr></tbody></table></figure>

<p>æ›´å¤šå…³äºå…ƒç´ å±æ€§ï¼š<a href="http://www.w3.org/TR/html5/syntax.html#attributes-0">#Attributes</a></p>
<h2 id="ç‰¹æ®Šå­—ç¬¦å¼•ç”¨"><a href="#ç‰¹æ®Šå­—ç¬¦å¼•ç”¨" class="headerlink" title="ç‰¹æ®Šå­—ç¬¦å¼•ç”¨"></a>ç‰¹æ®Šå­—ç¬¦å¼•ç”¨</h2><blockquote>
<p>In certain cases described in other sections, text may be mixed with character references. These can be used to escape characters that couldnâ€™t otherwise legally be included in text.</p>
</blockquote>
<p>æ–‡æœ¬å¯ä»¥å’Œå­—ç¬¦å¼•ç”¨æ··åˆå‡ºç°ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ç”¨æ¥è½¬ä¹‰åœ¨æ–‡æœ¬ä¸­ä¸èƒ½åˆæ³•å‡ºç°çš„å­—ç¬¦ã€‚</p>
<p>åœ¨ HTML ä¸­ä¸èƒ½ä½¿ç”¨å°äºå· â€œ&lt;â€ å’Œå¤§äºå· â€œ&gt;â€ç‰¹æ®Šå­—ç¬¦ï¼Œæµè§ˆå™¨ä¼šå°†å®ƒä»¬ä½œä¸ºæ ‡ç­¾è§£æï¼Œè‹¥è¦æ­£ç¡®æ˜¾ç¤ºï¼Œåœ¨ HTML æºä»£ç ä¸­ä½¿ç”¨å­—ç¬¦å®ä½“</p>
<p><em>æ¨èï¼š</em></p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>more<span class="symbol">&amp;gt;</span><span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><em>ä¸æ¨èï¼š</em></p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>more&gt;&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ›´å¤šå…³äºç¬¦å·å¼•ç”¨ï¼š<a href="http://www.w3.org/TR/html5/syntax.html#character-references">#Character references</a></p>
<h2 id="ä»£ç ç¼©è¿›"><a href="#ä»£ç ç¼©è¿›" class="headerlink" title="ä»£ç ç¼©è¿›"></a>ä»£ç ç¼©è¿›</h2><p>ç»Ÿä¸€ä½¿ç”¨å››ä¸ªç©ºæ ¼è¿›è¡Œä»£ç ç¼©è¿›ï¼Œä½¿å¾—å„ç¼–è¾‘å™¨è¡¨ç°ä¸€è‡´ï¼ˆå„ç¼–è¾‘å™¨æœ‰ç›¸å…³é…ç½®ï¼‰</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>="<span class="symbol">jdc</span>"&gt;</span><br><span class="line">    &lt;<span class="symbol">a</span> <span class="symbol">href</span>="#"&gt;&lt;/<span class="symbol">a</span>&gt;</span><br><span class="line">&lt;/<span class="symbol">div</span>&gt;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="çº¯æ•°å­—è¾“å…¥æ¡†"><a href="#çº¯æ•°å­—è¾“å…¥æ¡†" class="headerlink" title="çº¯æ•°å­—è¾“å…¥æ¡†"></a>çº¯æ•°å­—è¾“å…¥æ¡†</h2><p>ä½¿ç”¨ <code>type="tel"</code> è€Œä¸æ˜¯ <code>type="number"</code></p>
<figure class="highlight lua"><table><tbody><tr><td class="code"><pre><span class="line">&lt;<span class="built_in">input</span> <span class="built_in">type</span>=<span class="string">"tel"</span>&gt;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ä»£ç åµŒå¥—"><a href="#ä»£ç åµŒå¥—" class="headerlink" title="ä»£ç åµŒå¥—"></a>ä»£ç åµŒå¥—</h2><p>å…ƒç´ åµŒå¥—è§„èŒƒï¼Œæ¯ä¸ªå—çŠ¶å…ƒç´ ç‹¬ç«‹ä¸€è¡Œï¼Œå†…è”å…ƒç´ å¯é€‰</p>
<p><em>æ¨èï¼š</em></p>
<figure class="highlight apache"><table><tbody><tr><td class="code"><pre><span class="line"><span class="section">&lt;div&gt;</span></span><br><span class="line">    <span class="section">&lt;h1&gt;</span><span class="section">&lt;/h1&gt;</span></span><br><span class="line">    <span class="section">&lt;p&gt;</span><span class="section">&lt;/p&gt;</span></span><br><span class="line"><span class="section">&lt;/div&gt;</span>    </span><br><span class="line"><span class="section">&lt;p&gt;</span><span class="section">&lt;span&gt;</span><span class="section">&lt;/span&gt;</span><span class="section">&lt;span&gt;</span><span class="section">&lt;/span&gt;</span><span class="section">&lt;/p&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><em>ä¸æ¨èï¼š</em></p>
<figure class="highlight apache"><table><tbody><tr><td class="code"><pre><span class="line"><span class="section">&lt;div&gt;</span></span><br><span class="line">    <span class="section">&lt;h1&gt;</span><span class="section">&lt;/h1&gt;</span><span class="section">&lt;p&gt;</span><span class="section">&lt;/p&gt;</span></span><br><span class="line"><span class="section">&lt;/div&gt;</span>    </span><br><span class="line"><span class="section">&lt;p&gt;</span> </span><br><span class="line">    <span class="section">&lt;span&gt;</span><span class="section">&lt;/span&gt;</span></span><br><span class="line">    <span class="section">&lt;span&gt;</span><span class="section">&lt;/span&gt;</span></span><br><span class="line"><span class="section">&lt;/p&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ®µè½å…ƒç´ ä¸æ ‡é¢˜å…ƒç´ åªèƒ½åµŒå¥—å†…è”å…ƒç´ </p>
<p><em>æ¨èï¼š</em></p>
<figure class="highlight apache"><table><tbody><tr><td class="code"><pre><span class="line"><span class="section">&lt;h1&gt;</span><span class="section">&lt;span&gt;</span><span class="section">&lt;/span&gt;</span><span class="section">&lt;/h1&gt;</span></span><br><span class="line"><span class="section">&lt;p&gt;</span><span class="section">&lt;span&gt;</span><span class="section">&lt;/span&gt;</span><span class="section">&lt;span&gt;</span><span class="section">&lt;/span&gt;</span><span class="section">&lt;/p&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><em>ä¸æ¨èï¼š</em></p>
<figure class="highlight apache"><table><tbody><tr><td class="code"><pre><span class="line"><span class="section">&lt;h1&gt;</span><span class="section">&lt;div&gt;</span><span class="section">&lt;/div&gt;</span><span class="section">&lt;/h1&gt;</span></span><br><span class="line"><span class="section">&lt;p&gt;</span><span class="section">&lt;div&gt;</span><span class="section">&lt;/div&gt;</span><span class="section">&lt;div&gt;</span><span class="section">&lt;/div&gt;</span><span class="section">&lt;/p&gt;</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>ç¼–ç è§„èŒƒ</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>ç¼–ç è§„èŒƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>npmå¸¸ç”¨å‘½ä»¤</title>
    <url>/2022/02/08/lang/nodejs/npm/</url>
    <content><![CDATA[<p>cnpm</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">npm adduser --registry http://nexus.domain.cn/repository/npm-hosted/</span><br><span class="line">user: user</span><br><span class="line">password: dev123</span><br><span class="line">email :  dev@domain.com</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">npm publish</span><br></pre></td></tr></tbody></table></figure>

<h3 id="node-sass-ä¿®æ”¹åœ°å€"><a href="#node-sass-ä¿®æ”¹åœ°å€" class="headerlink" title="node-sass ä¿®æ”¹åœ°å€"></a>node-sass ä¿®æ”¹åœ°å€</h3><figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">SASS_BINARY_SITE=https://npm.taobao.org/mirrors/node-sass/ npm install node-sass</span><br></pre></td></tr></tbody></table></figure>

<p>Linux æ‰§è¡Œå‘½ä»¤æƒé™é—®é¢˜ï¼ŒåŠ ä¸Šå‚æ•°ï¼š</p>
<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">--unsafe-perm</span><br></pre></td></tr></tbody></table></figure>

]]></content>
      <categories>
        <category>nodejs</category>
        <category>npm</category>
      </categories>
  </entry>
  <entry>
    <title>vscodeæ‰“åŒ…é—®é¢˜</title>
    <url>/2022/02/08/plugins/vscode/vscode-package/</url>
    <content><![CDATA[<h1 id="æ‰“åŒ…è¿‡ç¨‹æŠ¥é”™"><a href="#æ‰“åŒ…è¿‡ç¨‹æŠ¥é”™" class="headerlink" title="æ‰“åŒ…è¿‡ç¨‹æŠ¥é”™"></a>æ‰“åŒ…è¿‡ç¨‹æŠ¥é”™</h1><ol>
<li>npm listé”™è¯¯</li>
</ol>
<figure class="highlight apache"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">npm</span> run package</span><br><span class="line"></span><br><span class="line"><span class="attribute">Error</span>: Command failed: npm list --production --parseable --depth=<span class="number">99999</span>`</span><br><span class="line"></span><br><span class="line"><span class="attribute">peer</span> dep missing: webpack@^<span class="number">2</span>.<span class="number">0</span>.<span class="number">0</span> || ^<span class="number">3</span>.<span class="number">0</span>.<span class="number">0</span> || ^<span class="number">4</span>.<span class="number">0</span>.<span class="number">0</span>, required by less-loader@<span class="number">4</span>.<span class="number">1</span>.<span class="number">0</span></span><br></pre></td></tr></tbody></table></figure>



<ol>
<li>max bufferé—®é¢˜</li>
</ol>
<figure class="highlight subunit"><table><tbody><tr><td class="code"><pre><span class="line">npm run package</span><br><span class="line"></span><br><span class="line"><span class="keyword">Error: </span>stdout maxBuffer exceeded</span><br></pre></td></tr></tbody></table></figure>



<h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><ol>
<li><p>é€‰ç”¨yarnæ‰§è¡Œ</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">vsce package --yarn</span><br></pre></td></tr></tbody></table></figure>


</li>
<li><p>è§£å†³npm listé”™è¯¯</p>
</li>
</ol>
<p><a href="https://github.com/Microsoft/vscode-vsce/issues/246">https://github.com/Microsoft/vscode-vsce/issues/246</a> vscodeå†…çš„æ–¹æ¡ˆ</p>
<p><a href="https://github.com/npm/npm/issues/19393">https://github.com/npm/npm/issues/19393</a> npmlistçš„é”™è¯¯issue</p>
<figure class="highlight jboss-cli"><table><tbody><tr><td class="code"><pre><span class="line">yarn install <span class="params">--ignore-engines</span> <span class="params">--registry=http</span>:<span class="string">//registry.npm.alibaba-inc.com</span></span><br><span class="line">npm run postinstall</span><br><span class="line">npm run package -&gt; <span class="string">//</span> vsce package <span class="params">--yarn</span> åœ¨listæ—¶ï¼Œä¼šé€‰ç”¨yarnæ‰§è¡Œ</span><br></pre></td></tr></tbody></table></figure>



<ol start="3">
<li>max bufferé—®é¢˜</li>
</ol>
<p>å› ä¸ºä¾èµ–çš„npmåŒ…å¤ªå¤šäº†ï¼Œä½¿ç”¨execæ‰§è¡Œæ—¶ï¼Œè¶…è¿‡äº†stdoutçš„buffer</p>
<figure class="highlight php"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// vsce out/npm.js</span></span><br><span class="line"><span class="comment">// fn getYarnProductionDependencies</span></span><br><span class="line"></span><br><span class="line">cp.<span class="title function_ invoke__">exec</span>(<span class="string">'yarn list --json'</span>, { <span class="attr">cwd</span>: cwd,  <span class="attr">maxBuffer</span>: <span class="number">5000</span> * <span class="number">1024</span> , <span class="attr">encoding</span>: <span class="string">'utf8'</span>, <span class="attr">env</span>: <span class="title function_ invoke__">__assign</span>({}, process.env, { <span class="attr">NODE_ENV</span>: <span class="string">'production'</span> }) </span><br><span class="line"></span><br><span class="line">// åŠ ä¸Šäº†ä¸€å¥ï¼Œ<span class="attr">maxBuffer</span>: <span class="number">5000</span> * <span class="number">1024</span>çš„é…ç½®</span><br></pre></td></tr></tbody></table></figure>



<h1 id="ä¸ºä»€ä¹ˆæ‰§è¡Œnpm-list"><a href="#ä¸ºä»€ä¹ˆæ‰§è¡Œnpm-list" class="headerlink" title="ä¸ºä»€ä¹ˆæ‰§è¡Œnpm list"></a>ä¸ºä»€ä¹ˆæ‰§è¡Œnpm list</h1><p>ä¸ºä»€ä¹ˆæ‰§è¡Œï¼Œä»¥åŠnpm listä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šæŠ¥é”™</p>
<p>è¿è¡Œæ—¶æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„</p>
<h1 id="npm-listæŠ¥é”™"><a href="#npm-listæŠ¥é”™" class="headerlink" title="npm listæŠ¥é”™"></a>npm listæŠ¥é”™</h1><p><code>npm list --production --parseable --depth=99999</code> è¿™ä¸ªå‘½ä»¤ï¼Œå¯¼è‡´å„ç§å¥‡è‘©çš„æŠ¥é”™</p>
<ol>
<li>missing</li>
</ol>
<p>è¿™ä¸¤ä¸ªæ˜¯æœªå¸¦ç‰ˆæœ¬å·çš„</p>
<figure class="highlight apache"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">Error</span>: Command failed: npm list --production --parseable --depth=<span class="number">99999</span></span><br><span class="line"><span class="attribute">npm</span> ERR! peer dep missing: webpack@^<span class="number">2</span>.<span class="number">0</span>.<span class="number">0</span> || ^<span class="number">3</span>.<span class="number">0</span>.<span class="number">0</span> || ^<span class="number">4</span>.<span class="number">0</span>.<span class="number">0</span>, required by less-loader@<span class="number">4</span>.<span class="number">1</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">npm</span> ERR! missing: mkdirp@, required by kissy-xtemplate@<span class="number">0</span>.<span class="number">4</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">npm</span> ERR! missing: lodash@, required by kissy-xtemplate@<span class="number">0</span>.<span class="number">4</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">npm</span> ERR! missing: commander@, required by kissy-xtemplate@<span class="number">0</span>.<span class="number">4</span>.<span class="number">3</span></span><br><span class="line"><span class="attribute">npm</span> ERR! missing: async@, required by wmic@<span class="number">0</span>.<span class="number">0</span>.<span class="number">7</span></span><br></pre></td></tr></tbody></table></figure>



<ol>
<li>externous</li>
</ol>
<p>æ€ä¹ˆç†è§£ï¼Ÿå®‰è£…ä½†æ˜¯ä¸ºå†™å…¥ <code>package.json</code> ï¼Œä½†æ˜¯æˆ‘æ˜¯å…¨åˆ é™¤äº†ï¼Œé‡æ–° <code>tnpm install</code> çš„ã€‚</p>
<p>1. </p>
<h1 id="yarnæ‰“åŒ…æ²¡æœ‰ç‰ˆæœ¬å·"><a href="#yarnæ‰“åŒ…æ²¡æœ‰ç‰ˆæœ¬å·" class="headerlink" title="yarnæ‰“åŒ…æ²¡æœ‰ç‰ˆæœ¬å·"></a>yarnæ‰“åŒ…æ²¡æœ‰ç‰ˆæœ¬å·</h1><figure class="highlight apache"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">kissy</span>-xtemplate@~<span class="number">0</span>.<span class="number">4</span>.<span class="number">3</span>:</span><br><span class="line">  <span class="attribute">version</span> <span class="string">"0.4.3"</span></span><br><span class="line">  <span class="attribute">resolved</span> <span class="string">"http://registry.npm.alibaba-inc.com/kissy-xtemplate/download/kissy-xtemplate-0.4.3.tgz#f6f682b1531e8a66002eea265458330ad3dc92ab"</span></span><br><span class="line">  <span class="attribute">integrity</span> sha1-<span class="number">9</span>vaCsVMeimYALuomVFgzCtPckqs=</span><br><span class="line">  <span class="attribute">dependencies</span>:</span><br><span class="line">    <span class="attribute">colors</span> <span class="string">"&gt;=0.6.0-1"</span></span><br><span class="line">    <span class="attribute">commander</span> <span class="string">""</span></span><br><span class="line">    <span class="attribute">escodegen</span> <span class="string">"~1.3.2"</span></span><br><span class="line">    <span class="attribute">esprima</span> <span class="string">"~1.1.1"</span></span><br><span class="line">    <span class="attribute">event</span>-stream <span class="string">"~3.1.1"</span></span><br><span class="line">    <span class="attribute">iconv</span>-lite <span class="string">"&gt;=0.1.0"</span></span><br><span class="line">    <span class="attribute">js</span>-beautify <span class="string">"~1.4.0"</span></span><br><span class="line">    <span class="attribute">lodash</span> <span class="string">""</span></span><br><span class="line">    <span class="attribute">logger</span>-manager <span class="string">"*"</span></span><br><span class="line">    <span class="attribute">mkdirp</span> <span class="string">""</span></span><br><span class="line">    <span class="attribute">node</span>.extend <span class="string">"~1.0.10"</span></span><br></pre></td></tr></tbody></table></figure>



<p>è¿™æ˜¯åŒ…å†™çš„ä¸è§„èŒƒå§ï¼Ÿ</p>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">"dependencies"</span><span class="punctuation">:</span> <span class="punctuation">{</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">"mkdirp"</span><span class="punctuation">:</span> <span class="string">""</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"lodash"</span><span class="punctuation">:</span> <span class="string">""</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"commander"</span><span class="punctuation">:</span> <span class="string">""</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure>



<h1 id="yarnå’Œnpmæ‰“åŒ…ç›®å½•ç»“æ„"><a href="#yarnå’Œnpmæ‰“åŒ…ç›®å½•ç»“æ„" class="headerlink" title="yarnå’Œnpmæ‰“åŒ…ç›®å½•ç»“æ„"></a>yarnå’Œnpmæ‰“åŒ…ç›®å½•ç»“æ„</h1><ul>
<li><p>yarnæ˜¯æ ‘å‹ï¼Œéæ‰å¹³çš„ç»“æ„</p>
</li>
<li><p>npmæ˜¯æ‰å¹³çš„ç»“æ„ï¼Œé€šè¿‡è½¯é“¾æ¥çš„å½¢å¼</p>
</li>
<li><p>tnpmå‘¢ï¼Ÿåˆä¸€ç§æ–°çš„</p>
</li>
</ul>
<h1 id="è¿‡ç¨‹åˆ†æ"><a href="#è¿‡ç¨‹åˆ†æ" class="headerlink" title="è¿‡ç¨‹åˆ†æ"></a>è¿‡ç¨‹åˆ†æ</h1><h2 id="ä¸€-è¿™ä¸ªé”™è¯¯ä»å“ªé‡Œæ¥çš„ï¼Ÿ"><a href="#ä¸€-è¿™ä¸ªé”™è¯¯ä»å“ªé‡Œæ¥çš„ï¼Ÿ" class="headerlink" title="ä¸€ è¿™ä¸ªé”™è¯¯ä»å“ªé‡Œæ¥çš„ï¼Ÿ"></a>ä¸€ è¿™ä¸ªé”™è¯¯ä»å“ªé‡Œæ¥çš„ï¼Ÿ</h2><h2 id="äºŒ-è¿™ä¸ªé”™è¯¯çš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#äºŒ-è¿™ä¸ªé”™è¯¯çš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="äºŒ è¿™ä¸ªé”™è¯¯çš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ"></a>äºŒ è¿™ä¸ªé”™è¯¯çš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</h2><h2 id="ä¸‰-ä¸ºä»€ä¹ˆä¼šæŠ¥é”™ï¼Œé—®é¢˜æ—¶ä»€ä¹ˆ"><a href="#ä¸‰-ä¸ºä»€ä¹ˆä¼šæŠ¥é”™ï¼Œé—®é¢˜æ—¶ä»€ä¹ˆ" class="headerlink" title="ä¸‰ ä¸ºä»€ä¹ˆä¼šæŠ¥é”™ï¼Œé—®é¢˜æ—¶ä»€ä¹ˆ"></a>ä¸‰ ä¸ºä»€ä¹ˆä¼šæŠ¥é”™ï¼Œé—®é¢˜æ—¶ä»€ä¹ˆ</h2><h2 id="å››-å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ"><a href="#å››-å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ" class="headerlink" title="å›› å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ"></a>å›› å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ</h2><figure class="highlight actionscript"><table><tbody><tr><td class="code"><pre><span class="line">vsce <span class="keyword">package</span></span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight avrasm"><table><tbody><tr><td class="code"><pre><span class="line"><span class="symbol">vscode:</span>prepublish: tsc -p ./</span><br></pre></td></tr></tbody></table></figure>



<p>Npméœ€è¦æ·±å…¥ç†è§£äº†ï¼Œè¿™ç©æ„åšçš„å¤ªå´©æºƒäº†</p>
<p>ä¸è¦ç€æ€¥ï¼Œå„ç§ä¹±è¯•ï¼Œæ³¨æ„åŠ›é›†ä¸­åœ¨å‘å£°é”™è¯¯ï¼Œä»¥åŠé”™è¯¯çš„åŸå› ä¸Šã€‚</p>
<ul>
<li><code>npm list --production --parseable --depth=99999</code> æ‰§è¡Œè¿™å¥ï¼Œä¸ºä»€ä¹ˆä¼šæŠ¥é”™å‘¢ï¼Ÿè¿™å¥å‘½ä»¤ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ</li>
</ul>
<p><a href="https://github.com/Microsoft/vscode-vsce/issues/246">Have NPM as a runtime dependency Â· Issue #246 Â· Microsoft/vscode-vsce Â· GitHub</a></p>
<p><a href="https://github.com/npm/npm/issues/19393">https://github.com/npm/npm/issues/19393</a> è¿™ä¸ªå®Œå…¨è§£é‡Šäº†é”™è¯¯çš„åŸå› <code>optional dependencies</code></p>
<p><a href="https://github.com/Microsoft/vscode-vsce/issues/52">https://github.com/Microsoft/vscode-vsce/issues/52</a> npm listçš„é—®é¢˜</p>
<ul>
<li>vscodeæ‰“åŒ…æ—¶æŠ¥é”™</li>
</ul>
<figure class="highlight awk"><table><tbody><tr><td class="code"><pre><span class="line">ä¿®æ”¹ä»¥ä¸‹ä¸¤éƒ¨åˆ†</span><br><span class="line"><span class="regexp">//</span> yarn install --ignore-engines --registry=http:<span class="regexp">//</span>registry.npm.alibaba-inc.com</span><br><span class="line"><span class="regexp">//</span> vsce package --yarn</span><br></pre></td></tr></tbody></table></figure>



<ul>
<li><p>extraneousæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆ<code>npm list</code>æ‰§è¡Œä¸Šé¢çš„æŠ¥extraneousé”™è¯¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p>
</li>
<li><p><code>optional dependencies</code> è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</p>
</li>
<li><p>ä¸ºä»€ä¹ˆyarnå®‰è£…çš„ï¼Œå¾ˆå¤šéƒ½æ²¡æœ‰package.jsonæ–‡ä»¶å‘¢ï¼Ÿ</p>
</li>
</ul>
<p>Yarnå®‰è£…çš„æ–‡ä»¶ç»“æ„æ€ä¹ˆé‚£ä¹ˆä¹–ï¼Ÿ</p>
<ul>
<li>tnpmå®‰è£…çš„æ–‡ä»¶å¤¹ç»“æ„</li>
</ul>
]]></content>
      <categories>
        <category>plugin</category>
        <category>vscode</category>
      </categories>
      <tags>
        <tag>plugin</tag>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title>postgis</title>
    <url>/2022/02/08/service/db/postgis/</url>
    <content><![CDATA[<h2 id="Docker-PGå†…-å®‰è£…"><a href="#Docker-PGå†…-å®‰è£…" class="headerlink" title="Docker PGå†… å®‰è£…"></a>Docker PGå†… <a href="https://www.vultr.com/docs/install-the-postgis-extension-for-postgresql-on-ubuntu-linux">å®‰è£…</a></h2><figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#å®‰è£… gis:</span></span><br><span class="line">apt-get install-y postgresql-13-postgis-3 postgresql-13-postgis-3-dbgsym postgresql-13-postgis-3-scripts</span><br></pre></td></tr></tbody></table></figure>
<p>é€‰æ‹©æ•°æ®åº“&gt;sql</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">-- è¿›å»psqlå¯ç”¨æ‰©å±•</span></span><br><span class="line"><span class="keyword">CREATE</span> EXTENSION postgis;</span><br><span class="line"><span class="comment">-- æµ‹è¯•æ˜¯å¦å¯ç”¨æˆåŠŸ</span></span><br><span class="line"><span class="keyword">select</span> postgis_full_version();</span><br></pre></td></tr></tbody></table></figure>





<h2 id="å…¨æ–‡æ£€ç´¢"><a href="#å…¨æ–‡æ£€ç´¢" class="headerlink" title="å…¨æ–‡æ£€ç´¢"></a>å…¨æ–‡æ£€ç´¢</h2><p> <a href="https://github.com/hightman/scws">https://github.com/hightman/scws</a></p>
<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">install bzip2</span><br><span class="line"><span class="built_in">cd</span> /opt</span><br><span class="line">wget http://www.xunsearch.com/scws/down/scws-1.2.3.tar.bz2</span><br><span class="line">tar -jxvf ./scws-1.2.3.tar.bz2</span><br><span class="line"><span class="built_in">cd</span> scws-1.2.3/</span><br><span class="line">./configure </span><br><span class="line">make </span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">ldconfig</span><br><span class="line"><span class="comment">#https://github.com/amutu/zhparser</span></span><br></pre></td></tr></tbody></table></figure>





<p>apt install -y postgresql-server-dev-13</p>
<figure class="highlight pgsql"><table><tbody><tr><td class="code"><pre><span class="line">PG_CONFIG=/usr/lib/postgresql/<span class="number">13</span>/bin/pg_config make </span><br><span class="line">PG_CONFIG=/usr/lib/postgresql/<span class="number">13</span>/bin/pg_config make install</span><br></pre></td></tr></tbody></table></figure>

<p><a href="https://mlog.club/article/2514326">https://mlog.club/article/2514326</a></p>
<p> <strong>CREATE</strong> <strong>INDEX</strong> mytable_description_tsvector_idx <strong>ON</strong> mytable(to_tsvector(description))  <strong>WHERE</strong> created_at &gt; <strong>now</strong>() - â€˜1 yearâ€™::interval;</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">-- å®‰è£…æ‰©å±•</span></span><br><span class="line"><span class="keyword">CREATE</span> EXTENSION zhparser;</span><br><span class="line"><span class="comment">-- ä¸­æ–‡åˆ†è¯é…ç½®</span></span><br><span class="line"><span class="keyword">CREATE</span> TEXT <span class="keyword">SEARCH</span> CONFIGURATION chinese_parser (PARSER <span class="operator">=</span> zhparser);</span><br><span class="line"><span class="keyword">ALTER</span> TEXT <span class="keyword">SEARCH</span> CONFIGURATION chinese_parser <span class="keyword">ADD</span> MAPPING <span class="keyword">FOR</span> n,v,a,i,e,l,j <span class="keyword">WITH</span> simple;</span><br><span class="line"><span class="comment">-- create test table</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> text_search(</span><br><span class="line">  text_id SERIAL <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    text_name <span class="type">VARCHAR</span>(<span class="number">32</span>),</span><br><span class="line">  text_content TEXT,</span><br><span class="line">  tsv_column tsvector</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- åˆ›å»ºgin_indexä»¥åŠ å¿«åŒ¹é…é€Ÿåº¦</span></span><br><span class="line"><span class="keyword">CREATE</span> INDEX idx_gin_tsv <span class="keyword">ON</span> text_search <span class="keyword">USING</span> GIN(tsv_column);</span><br><span class="line"><span class="comment">-- åˆ›å»ºè§¦å‘å™¨ä»¥ä»ç›®æ ‡åŒæ­¥tsvectoråˆ—</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> sync_trigger </span><br><span class="line">   BEFORE <span class="keyword">INSERT</span> <span class="keyword">OR</span> <span class="keyword">UPDATE</span> <span class="keyword">ON</span> text_search <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> </span><br><span class="line">   <span class="keyword">EXECUTE</span> <span class="keyword">PROCEDURE</span> </span><br><span class="line">   tsvector_update_trigger(tsv_column, <span class="string">'public.chinese_parser'</span>, text_name , text_content);</span><br><span class="line"><span class="comment">-- æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> text_search(text_name,text_content) <span class="keyword">VALUES</span> (<span class="string">'é»„å›½å®‹'</span>,<span class="string">'ThinkPad å°çº¢ç‚¹å¤šåŠŸèƒ½è“ç‰™é”®ç›˜å¤šå¹³å°WINå®‰å“IOSæ”¯æŒ 4X30K12182'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> text_search(text_name,text_content) <span class="keyword">VALUES</span> (<span class="string">'é™ˆå®¶è±ª'</span>,<span class="string">'å¤šå¹³å° å¯Œæ–‡æœ¬ å†™ä½œè½¯ä»¶'</span>);</span><br><span class="line"><span class="comment">-- æœç´¢å…³é”®è¯</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> text_search <span class="keyword">WHERE</span> tsv_column @@ to_tsquery(<span class="string">'chinese_parser'</span>, <span class="string">'å¤šå¹³å°é»„å›½å®‹'</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> text_search <span class="keyword">WHERE</span> tsv_column @@ to_tsquery(<span class="string">'chinese_parser'</span>, <span class="string">'å°çº¢ç‚¹&amp;å¤šå¹³å°'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> CONCAT(text_name ,<span class="string">','</span> , text_content) <span class="keyword">FROM</span> text_search</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>



]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>å…³ç³»</category>
        <category>postgis</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>postgis</tag>
      </tags>
  </entry>
  <entry>
    <title>pg-es-fdw</title>
    <url>/2022/02/08/service/db/pg-es-fdw/</url>
    <content><![CDATA[<h2 id="å®‰è£…ES"><a href="#å®‰è£…ES" class="headerlink" title="å®‰è£…ES"></a>å®‰è£…ES</h2><p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.9/docker.html">https://www.elastic.co/guide/en/elasticsearch/reference/7.9/docker.html</a></p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'2.2'</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">es01:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">docker.elastic.co/elasticsearch/elasticsearch:7.9.3</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">es01</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">discovery.type=single-node</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"ES_JAVA_OPTS=-Xms512m -Xmx512m"</span></span><br><span class="line">    <span class="attr">ulimits:</span></span><br><span class="line">      <span class="attr">memlock:</span></span><br><span class="line">        <span class="attr">soft:</span> <span class="number">-1</span></span><br><span class="line">        <span class="attr">hard:</span> <span class="number">-1</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/usr/share/elasticsearch/data</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">9200</span><span class="string">:9200</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"> apt-get update &amp;&amp;    apt-get -y install</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"> <span class="comment">#apt-get install python python-pip -y (Python3)</span></span></span><br></pre></td></tr></tbody></table></figure>

<p>å®‰è£…python3</p>
<p><a href="https://blog.csdn.net/bz0446/article/details/105500585">https://blog.csdn.net/bz0446/article/details/105500585</a></p>
<h2 id="å®‰è£…fdw"><a href="#å®‰è£…fdw" class="headerlink" title="å®‰è£…fdw"></a>å®‰è£…fdw</h2><p><a href="https://github.com/matthewfranglen/postgres-elasticsearch-fdw">GitHub</a></p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> pg_terminate_backend(pid) <span class="keyword">from</span> pg_stat_activity <span class="keyword">where</span> DATNAME <span class="operator">=</span> <span class="string">'gis'</span>;</span><br></pre></td></tr></tbody></table></figure>

]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>æ—¶åº</category>
        <category>TimescaleDB</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>TimescaleDB</tag>
      </tags>
  </entry>
  <entry>
    <title>TimescaleDB å®‰è£…&amp;ä½¿ç”¨</title>
    <url>/2022/02/08/service/db/timescaledb/</url>
    <content><![CDATA[<h2 id="Dockerå®‰è£…"><a href="#Dockerå®‰è£…" class="headerlink" title="Dockerå®‰è£…"></a>Dockerå®‰è£…</h2><figure class="highlight yaml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3'</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">timescaledb:</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">postgistime</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">timescale/timescaledb-postgis:latest-pg13</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"5432:5432"</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">POSTGRES_USER:</span> <span class="string">xxx</span> </span><br><span class="line">      <span class="attr">POSTGRES_DB:</span> <span class="string">postgres</span></span><br><span class="line">      <span class="attr">POSTGRES_PASSWORD:</span> <span class="string">xxxxx</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/var/lib/postgresql:rw</span></span><br></pre></td></tr></tbody></table></figure>

<span id="more"></span>

<p>ä½¿ç”¨TimescaleDBå»ºè¡¨æ—¶ï¼Œæœ€å¥½å°†éè¶…è¡¨å­—æ®µé»˜è®¤è®¾ä¸ºnullè­¦å‘Šï¼šå¦‚æœå°†ä»»ä½•å…¶ä»–åˆ—çš„é»˜è®¤å€¼è®¾ç½®ä¸ºNULLï¼Œåˆ™æ›´æ”¹è¡¨çš„æ¶æ„å°†éå¸¸æœ‰æ•ˆã€‚å¦‚æœé»˜è®¤å€¼è®¾ç½®ä¸ºénullå€¼ï¼Œåˆ™TimescaleDBå°†éœ€è¦ä¸ºå±äºè¯¥è¶…è¡¨çš„æ‰€æœ‰è¡Œï¼ˆæ‰€æœ‰å—ï¼‰å¡«å……è¯¥å€¼ã€‚</p>
<!-- more -->

<h2 id="åˆ›å»ºè¶…è¡¨"><a href="#åˆ›å»ºè¶…è¡¨" class="headerlink" title="åˆ›å»ºè¶…è¡¨:"></a>åˆ›å»ºè¶…è¡¨:</h2><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">--1.åˆ›å»ºæ ‡å‡†è¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> conditions (</span><br><span class="line">  <span class="type">time</span>        TIMESTAMPTZ       <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  location    TEXT              <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  temperature <span class="type">DOUBLE PRECISION</span>  <span class="keyword">NULL</span>,</span><br><span class="line">  humidity    <span class="type">DOUBLE PRECISION</span>  <span class="keyword">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2.å°†æ ‡å‡†è¡¨è½¬æ¢æˆè¶…è¡¨ï¼Œå°†æ—¶é—´å­—æ®µä½œä¸ºåˆ†ç‰‡å­—æ®µ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> create_hypertable(<span class="string">'conditions'</span>, <span class="string">'time'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--3.æ“ä½œè¶…è¡¨ï¼Œè·Ÿæ™®é€šæ•°æ®åº“æ“ä½œä¸€æ ·</span></span><br><span class="line"><span class="comment">--æ’å…¥ä¸æŸ¥è¯¢</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> conditions(<span class="type">time</span>, location, temperature, humidity)</span><br><span class="line">  <span class="keyword">VALUES</span> (NOW(), <span class="string">'office'</span>, <span class="number">70.0</span>, <span class="number">50.0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> conditions <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="type">time</span> <span class="keyword">DESC</span> LIMIT <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä¿®æ”¹è¶…çº§è¡¨</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> conditions</span><br><span class="line">  <span class="keyword">ADD</span> <span class="keyword">COLUMN</span> humidity <span class="type">DOUBLE PRECISION</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ é™¤è¶…è¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> conditions;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h2><p>TimescaleDBçš„ç”¨æˆ·ç»å¸¸æœ‰ä¸¤ä¸ªå¸¸è§é—®é¢˜ï¼š<br><strong>æˆ‘åº”è¯¥ä¸ºæ—¶é—´åˆ†å‰²é…ç½®å¤šé•¿æ—¶é—´ï¼Ÿ</strong><br><strong>æˆ‘åº”è¯¥ä½¿ç”¨ç©ºé—´åˆ†åŒºå—ï¼Ÿåº”è¯¥ä½¿ç”¨å¤šå°‘ä¸ªç©ºé—´åˆ†åŒºï¼Ÿ</strong><br>æ—¶é—´é—´éš”ï¼šè¶…è¡¨é»˜è®¤æ—¶é—´é—´éš”æ˜¯ï¼Œä»v0.11.0å¼€å§‹çš„7å¤©å’Œv0.11.0ä¹‹å‰çš„1ä¸ªæœˆã€‚<br>è®¾ç½®æ—¶é—´é—´éš”åŸåˆ™ï¼šæ‰€æœ‰è¶…è¡¨æ—¶é—´é—´éš”æ€»å—çš„å¤§å°ä¸è¶…è¿‡ä¸»å†…å­˜çš„25%ã€‚æ¯”å¦‚ç”µè„‘å†…å­˜æ˜¯16Gï¼Œæ€»å…±10å°è®¾å¤‡ï¼Œæ¯50mså­˜ä¸€æ¡æ•°æ®ï¼Œ1ç§’é’Ÿå­˜20æ¡æ•°æ®ï¼Œä¸€å¤©å­˜çš„æ•°æ®æ¡æ•°ä¸ºï¼š2036002410çº¦ç­‰äº1åƒ700ä¸‡æ¡ï¼Œå¤§å°å¤§æ¦‚çº¦ä¸º1Gï¼Œä¸€å¤©å­˜1Gæ•°æ®ï¼Œç”µè„‘å†…å­˜ä¸º16Gï¼Œæ€»å—å¤§å°ä¸è¶…è¿‡4Gï¼Œæ‰€ä»¥æ—¶é—´é—´éš”è®¾ä¸ºå°äº4å¤©ã€‚<br>è™½ç„¶é€šå¸¸å°†å—åšæˆè¾ƒå°è€Œä¸æ˜¯å¤ªå¤§æ˜¯æ¯”è¾ƒå®‰å…¨çš„ï¼Œä½†æ˜¯å°†é—´éš”è®¾ç½®å¾—å¤ªå°ä¼šå¯¼è‡´å¾ˆå¤šå—ï¼Œè¿™å¯¹åº”äºæŸäº›ç±»å‹çš„æŸ¥è¯¢çš„è®¡åˆ’ç­‰å¾…æ—¶é—´çš„å¢åŠ ï¼Œæ‰€ä»¥å°†æ—¶é—´é—´éš”è®¾ä¸º3å¤©æ¯”è¾ƒåˆé€‚ã€‚<br>è®¾ç½®æ—¶é—´é—´éš”ï¼š1.é€šè¿‡chunk_time_intervalåœ¨åˆ›å»ºè¶…è¡¨æ—¶è¿›è¡Œè®¾ç½®æ¥æ˜¾å¼é…ç½®æ—¶é—´é—´éš”<br>chunk_time_intervalï¼šå—è¦†ç›–æ—¶é—´ç²¾ç¡®åˆ°çº³ç§’ï¼Œä¸€å¤©æ˜¯100010006060*24<br>å®ä¾‹ï¼š</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> create_hypertable(<span class="string">'conditions'</span>, <span class="string">'time'</span>, chunk_time_interval <span class="operator">=</span><span class="operator">&gt;</span> <span class="number">86400000000</span>);</span><br><span class="line"><span class="keyword">SELECT</span> create_hypertable(<span class="string">'conditions'</span>, <span class="string">'time'</span>, chunk_time_interval <span class="operator">=</span><span class="operator">&gt;</span> <span class="type">interval</span> <span class="string">'1 day'</span>)<span class="comment">--ï¼šæŒ‡å®šå—çš„è¦†ç›–æ—¶é—´æ˜¯1å¤©</span></span><br></pre></td></tr></tbody></table></figure>
<p>2.åˆ›å»ºè¶…è¡¨ä¹‹åï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨æ›´æ”¹ç”¨äºæ–°å—çš„é—´éš”set_chunk_time_interval<br>ä¾‹å­ï¼š</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> set_chunk_time_interval(<span class="string">'conditions'</span>, <span class="type">interval</span> <span class="string">'24 hours'</span>);</span><br><span class="line"><span class="keyword">SELECT</span> set_chunk_time_interval(<span class="string">'conditions'</span>, <span class="number">86400000000</span>);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="æ¨¡å¼ç®¡ç†"><a href="#æ¨¡å¼ç®¡ç†" class="headerlink" title="æ¨¡å¼ç®¡ç†"></a>æ¨¡å¼ç®¡ç†</h3><h4 id="åˆ›å»ºç´¢å¼•"><a href="#åˆ›å»ºç´¢å¼•" class="headerlink" title="åˆ›å»ºç´¢å¼•"></a>åˆ›å»ºç´¢å¼•</h4><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> INDEX <span class="keyword">ON</span> conditions (location, <span class="type">time</span> <span class="keyword">DESC</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>åˆ›å»ºç´¢å¼•çš„å¥½å¤„ï¼šåˆ›å»ºç´¢å¼•ä¹‹åï¼Œèƒ½æœ‰æ•ˆåœ°æé«˜æŸ¥è¯¢æ•°æ®æ•ˆç‡ã€‚<br>åˆ›å»ºç´¢å¼•å’Œä½¿ç”¨æŸ¥è¯¢è¯­å¥çš„åŸåˆ™ï¼šæŸ¥è¯¢è¯­å¥çš„ç­›é€‰æ¡ä»¶é¡ºåºæ ¹æ®åˆ›å»ºç´¢å¼•çš„è§„åˆ™æ¥æ’åºã€‚<br>æŒ‰æ—¶é—´åˆ†åŒºå»ºè¶…è¡¨æ—¶ï¼Œtimescaledbä¼šè‡ªåŠ¨åœ¨è¡¨æ•°æ®ä¸Šåˆ›å»ºæ—¶é—´ç´¢å¼•ã€‚<br>å»ºè®®ï¼šä¸€ä¸ªè¡¨å»ºä¸€ä¸ªå¤åˆç´¢å¼•ï¼Œç„¶åæŸ¥è¯¢è¯­å¥æŒ‰ç…§åˆ›å»ºçš„ç´¢å¼•å­—æ®µé¡ºåºæ¥æŸ¥è¯¢è¯­å¥</p>
<h4 id="åˆ›å»ºè§¦å‘å™¨"><a href="#åˆ›å»ºè§¦å‘å™¨" class="headerlink" title="åˆ›å»ºè§¦å‘å™¨"></a>åˆ›å»ºè§¦å‘å™¨</h4><p>TimescaleDBæ”¯æŒè§¦å‘å™¨çš„å…¨åŸŸï¼ˆä¹Ÿå³æ˜¯è§¦å‘å™¨è§¦å‘çš„æ—¶åˆ»ï¼‰ï¼šBEFORE INSERTï¼ŒAFTER INSERTï¼ŒBEFORE UPDATEï¼ŒAFTER UPDATEï¼ŒBEFORE DELETEï¼ŒAFTER DELETE<br>åˆ›å»ºè§¦å‘å™¨ï¼šåˆ›å»ºä¸€ä¸ªè§¦å‘å™¨ï¼Œåªè¦åœ¨è¶…è¡¨ä¸­æ’å…¥æ–°è¡Œï¼Œè¯¥è§¦å‘å™¨ä¾¿ä¼šè°ƒç”¨æ­¤å‡½æ•°</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> record_error</span><br><span class="line">  BEFORE <span class="keyword">INSERT</span> <span class="keyword">ON</span> conditions</span><br><span class="line">  <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line">  <span class="keyword">EXECUTE</span> <span class="keyword">PROCEDURE</span> record_error();</span><br></pre></td></tr></tbody></table></figure>
<p>åˆ›å»ºè§¦å‘å™¨å‡½æ•°ï¼š</p>
<p>å¥½å¤„ï¼Œå‡å°‘ç¨‹åºæ‰§è¡Œçš„ä»£ç ï¼Œè®©æ•°æ®åº“æ¥æ‰§è¡Œã€‚æ›´åŠ å¥½çš„æ¥åˆ†é…ä»»åŠ¡ã€‚</p>
<h4 id="æ·»åŠ çº¦æŸ"><a href="#æ·»åŠ çº¦æŸ" class="headerlink" title="æ·»åŠ çº¦æŸ"></a>æ·»åŠ çº¦æŸ</h4><p>1.çº¦æŸæŸä¸ªå­—æ®µå€¼å¾—èŒƒå›´<br>2.æŸä¸ªå­—æ®µå¤–é”®çº¦æŸ<br>3.å°†ä¸¤ä¸ªå­—æ®µè®¾ä¸ºä¸»é”®</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> conditions (</span><br><span class="line">    <span class="type">time</span>       TIMESTAMPTZ</span><br><span class="line">    temp       <span class="type">FLOAT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    device_id  <span class="type">INTEGER</span> <span class="keyword">CHECK</span> (device_id <span class="operator">&gt;</span> <span class="number">0</span>),</span><br><span class="line">    location   <span class="type">INTEGER</span> <span class="keyword">REFERENCES</span> locations (id),</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY(<span class="type">time</span>, device_id)</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span><span class="operator">/</span><span class="keyword">UNIQUE</span>(<span class="type">time</span>, device_id, location)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">SELECT</span> create_hypertable(<span class="string">'conditions'</span>, <span class="string">'time'</span>);</span><br></pre></td></tr></tbody></table></figure>
<p>åˆ›å»ºJsonç±»å‹è¡¨å­—æ®µ</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> metrics (</span><br><span class="line">  <span class="type">time</span> TIMESTAMPTZ,</span><br><span class="line">  user_id <span class="type">INT</span>,</span><br><span class="line">  device_id <span class="type">INT</span>,</span><br><span class="line">  data JSONB</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure>
<p>åˆ›å»ºJsonç±»å‹è¡¨å­—æ®µæ…ç”¨,æœ€å¥½åˆ«ç”¨ã€‚<br>æ•°æ®åº“JSONå­—æ®µè®¾è®¡æ€è·¯ï¼š<a href="https://www.cnblogs.com/xiashiwendao/p/6985093.html">https://www.cnblogs.com/xiashiwendao/p/6985093.html</a></p>
<p>æ’å…¥æ•°æ®<br>åœ¨æ’å…¥è¯­å¥æ—¶ä½¿ç”¨ON CONFLICTä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼š</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> conditions</span><br><span class="line">  <span class="keyword">VALUES</span> (<span class="string">'2017-07-28 11:42:42.846621+00'</span>, <span class="string">'office'</span>, <span class="number">70.1</span>, <span class="number">50.0</span>)</span><br><span class="line">  <span class="keyword">ON</span> CONFLICT DO NOTHING;</span><br></pre></td></tr></tbody></table></figure>
<p>åœ¨æ’å…¥è¯­å¥æ—¶æ›´æ–°ç°æœ‰æ•°æ®ï¼š</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> conditions</span><br><span class="line">  <span class="keyword">VALUES</span> (<span class="string">'2017-07-28 11:42:42.846621+00'</span>, <span class="string">'office'</span>, <span class="number">70.2</span>, <span class="number">50.1</span>)</span><br><span class="line">  <span class="keyword">ON</span> CONFLICT (<span class="type">time</span>, location) DO <span class="keyword">UPDATE</span></span><br><span class="line">    <span class="keyword">SET</span> temperature <span class="operator">=</span> excluded.temperature,</span><br><span class="line">        humidity <span class="operator">=</span> excluded.humidity;</span><br></pre></td></tr></tbody></table></figure>
<p>ä½¿ç”¨ON CONFLICTçš„å¥½å¤„ï¼Œå½“æ‰¹é‡æ’å…¥æ•°æ®æ—¶ï¼Œä½¿ç”¨ON CONFLICTï¼Œæ•´ä¸ªäº‹åŠ¡ä¸ä¼šå¤±è´¥ï¼Œä»…ä»…åªæ˜¯è·³è¿‡æœ‰å†²çªçš„è¡Œã€‚</p>
<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> conditions</span><br><span class="line">  <span class="keyword">VALUES</span></span><br><span class="line">    (NOW(), <span class="string">'office'</span>, <span class="number">70.0</span>, <span class="number">50.0</span>),</span><br><span class="line">    (NOW(), <span class="string">'basement'</span>, <span class="number">66.5</span>, <span class="number">60.0</span>),</span><br><span class="line">    (NOW(), <span class="string">'garage'</span>, <span class="number">77.0</span>, <span class="number">65.2</span>);</span><br></pre></td></tr></tbody></table></figure>
<p>æé†’ï¼šåœ¨åé¢ç€é‡çš„å»çœ‹çœ‹è¯»å–æ•°æ®ï¼Œå¯è§†åŒ–æ•°æ®ï¼Œæå–æ•°æ®ï¼Œè¶…è¡¨ç®¡ç†ï¼Œåˆ†æå·¥å…·ï¼Œå®ç”¨ç¨‹åº/ç»Ÿè®¡ã€‚</p>
]]></content>
      <categories>
        <category>æ•°æ®åº“</category>
        <category>æ—¶åº</category>
        <category>TimescaleDB</category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
        <tag>TimescaleDB</tag>
      </tags>
  </entry>
  <entry>
    <title>RocketMQ</title>
    <url>/2022/02/08/service/mq/rocketmq/</url>
    <content><![CDATA[<p>ç”Ÿäº§è€…å‘é€æ¶ˆæ¯ï¼š<br>export NAMESRV_ADDR=127.0.0.1:9876<br>sh tools.sh org.apache.rocketmq.example.quickstart.Producer</p>
<p>æ¶ˆè´¹è€…æ¥å—æ¶ˆæ¯ï¼š<br>sh tools.sh org.apache.rocketmq.example.quickstart.Consumer<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œæ£®é›¨æµ·å··ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/qq_33767353/java/article/details/103082730">https://blog.csdn.net/qq_33767353/java/article/details/103082730</a></p>
]]></content>
      <categories>
        <category>MQ</category>
      </categories>
      <tags>
        <tag>MQ</tag>
        <tag>services</tag>
      </tags>
  </entry>
  <entry>
    <title>minIO</title>
    <url>/2022/02/08/service/file/minio/</url>
    <content><![CDATA[<p><a href="https://www.cnblogs.com/eason-d/p/12711041.html">Docker å®‰è£… minio</a></p>
<p>å‚è€ƒåœ°å€: <a href="https://www.jianshu.com/p/52dbc679094a">https://www.jianshu.com/p/52dbc679094a</a></p>
<p>æ³¨æ„çš„åœ°æ–¹:</p>
<p>echo å‘½ä»¤è®¾ç½® ACCESS_KEY å’Œ SECRET_KEY</p>
<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"admin"</span> | docker secret create access_key -</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"12345678"</span> | docker secret create secret_key </span><br><span class="line">-æ­¤å¤„secret_keyé•¿åº¦è‡³å°‘8ä½, è‹¥å·²ç»è®¾ç½®å¯†ç ä¸è¶³8ä½ï¼Œå¯é€šè¿‡å‘½ä»¤</span><br><span class="line">docker secret --<span class="built_in">help</span></span><br><span class="line">æŸ¥çœ‹ç›¸å…³å‘½ä»¤ä¸­</span><br><span class="line">docker secret <span class="built_in">rm</span> secret_key</span><br><span class="line">æ¥ç§»é™¤ è‹¥æ‰§è¡Œå‡ºç° Error response from daemon: This node is not a swarm manager. Use <span class="string">"docker swarm init"</span> or <span class="string">"docker swarm join"</span> to connect this node to swarm and try again.é”™è¯¯, éœ€æ‰§è¡Œ</span><br><span class="line">docker swarm init</span><br></pre></td></tr></tbody></table></figure>

<p>å¯åŠ¨å‘½ä»¤</p>
<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">docker run -itd -p 9000:9000 --name minio1   -e <span class="string">"MINIO_ACCESS_KEY=admin"</span>   -e <span class="string">"MINIO_SECRET_KEY=admin"</span>   -v /mnt/data:/data   -v /mnt/config:/root/.minio   minio/minio server /data</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰“å¼€ç½‘å€: <a href="http://x.x.x.x:9000/">http://x.x.x.x:9000/</a> å‘ç°å¯åŠ¨å¤±è´¥, ä½†æ˜¯æ”¹å›åŸæ¥çš„ç”¨æˆ·å¯†é’¥ æ­£ç¡® ä¼°è®¡æ˜¯ç”¨æˆ·åæœ‰é—®é¢˜ï¼Œ æœ€åä½¿ç”¨é»˜è®¤çš„æ–¹å¼å¯åŠ¨,</p>
<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">docker run -itd -p 9000:9000 --name minio1   -e <span class="string">"MINIO_ACCESS_KEY=AKIAIOSFODNN7EXAMPLE"</span>   -e <span class="string">"MINIO_SECRET_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"</span>   -v /mnt/data:/data   -v /mnt/config:/root/.minio   minio/minio server /data</span><br></pre></td></tr></tbody></table></figure>

<p>docker-compose.yml</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'2'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">minio:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">minio/minio</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">server</span> <span class="string">/data</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MINIO_ACCESS_KEY=admin</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MINIO_SECRET_KEY=admin123456</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">'9000:9000'</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">'minio_data:/data'</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">'config:/root/.minio'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">minio_data:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">local</span></span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">docker run -p 9000:9000 --name minio \</span><br><span class="line">  -v /mnt/data1:/data1 \</span><br><span class="line">  -v /mnt/data2:/data2 \</span><br><span class="line">  -v /mnt/data3:/data3 \</span><br><span class="line">  -v /mnt/data4:/data4 \</span><br><span class="line">  -v /mnt/data5:/data5 \</span><br><span class="line">  -v /mnt/data6:/data6 \</span><br><span class="line">  -v /mnt/data7:/data7 \</span><br><span class="line">  -v /mnt/data8:/data8 \</span><br><span class="line">  minio/minio server /data1 /data2 /data3 /data4 /data5 /data6 /data7 /data8</span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>file</category>
        <category>minio</category>
      </categories>
      <tags>
        <tag>file</tag>
        <tag>cdn</tag>
      </tags>
  </entry>
  <entry>
    <title>Grafana+Promethus+Altermanager</title>
    <url>/2022/02/08/service/monitor/grafana-promethus-altermanager/</url>
    <content><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><a href="https://github.com/vegasbrianc/prometheus">ã€Githubã€‘</a></p>
]]></content>
      <categories>
        <category>è¿ç»´</category>
      </categories>
      <tags>
        <tag>grafana</tag>
        <tag>tools</tag>
      </tags>
  </entry>
  <entry>
    <title>è½»é‡çº§BIå·¥å…·Supersetçš„æ­å»ºä¸ä½¿ç”¨</title>
    <url>/2022/02/08/tools/bi/superset/</url>
    <content><![CDATA[<p><a href="https://blog.csdn.net/whq12789/article/details/89640453">https://blog.csdn.net/whq12789/article/details/89640453</a></p>
<p>å‡†å¤‡ç¯å¢ƒdocker</p>
<p>ç„¶åæ‰§è¡Œå‘½ä»¤</p>
<p>docker pull amancevice/superset</p>
<p>docker run â€“detach â€“name superset -p 8088:8088 -v ./superset:/usr/local/lib/python3.6/site-packages/superset/ amancevice/superset</p>
<p>docker exec -it superset  superset db upgrade</p>
<p>docker exec -it superset superset-init</p>
<p>å›è½¦å›è½¦</p>
<p>è¾“å…¥å¯†ç </p>
<p>â€”â€”å®‰è£…å®Œæˆ</p>
<p>è¾“å…¥IP:8088è®¿é—®</p>
<p><a href="http://192.168.91.146:8088/">http://192.168.91.146:8088</a></p>
<p>ç”¨æˆ·åadmin</p>
<p>å¯†ç æ˜¯åˆšæ‰çš„å¯†ç </p>
<p>åŠ æ•°æ®æº</p>
<p>sourcesâ€”â€”databases</p>
<p>å³ä¸Šè§’åŠ å·ï¼šadd a new record</p>
<p>Databaseä¸­å¡«å†™ä¸ªåç§°</p>
<p>SQLAlchemy URIä¸­å¡«å†™</p>
<p>postgresql://scott:tiger@localhost/mydatabase</p>
<p>åŠ è¡¨</p>
<p>sourcesâ€”â€”tables</p>
<p>å³ä¸Šè§’åŠ å·ï¼šadd a new record</p>
<p>é€‰æ‹©æ•°æ®åº“</p>
<p>å¡«å†™schemaå’Œtable nameå³å¯</p>
<p>ç‚¹å‡»è¡¨è¿›å…¥è¿›è¡Œç»Ÿè®¡å¤„ç†</p>
<p>ç‚¹å‡»Datasource &amp; Chart Typeâ€”â€”Visualization Type ä¸‹çš„Tableå­—æ ·å¯ä»¥é€‰æ‹©Chartå½¢å¼</p>
<p>éœ€è¦æ”¹æºç çš„è¯ï¼Œåˆ°dockerä¸­çš„</p>
<p>/usr/local/lib/python3.6/site-packages/superset/</p>
<p>ç›®å½•</p>
<p>æ±‰åŒ–</p>
<p><a href="https://blog.csdn.net/u014589856/article/details/103582824">https://blog.csdn.net/u014589856/article/details/103582824</a></p>
]]></content>
      <categories>
        <category>BI</category>
        <category>Superset</category>
      </categories>
      <tags>
        <tag>BI</tag>
        <tag>Superset</tag>
      </tags>
  </entry>
  <entry>
    <title>Frpå®‰è£…ä½¿ç”¨</title>
    <url>/2022/02/08/service/proxy/frp/</url>
    <content><![CDATA[<h2 id="FRP"><a href="#FRP" class="headerlink" title="FRP"></a>FRP</h2><p>frp æ˜¯ä¸€ä¸ªå¯ç”¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ tcp, udp åè®®ï¼Œä¸º http å’Œ https åº”ç”¨åè®®æä¾›äº†é¢å¤–çš„èƒ½åŠ›ï¼Œä¸”å°è¯•æ€§æ”¯æŒäº†ç‚¹å¯¹ç‚¹ç©¿é€ã€‚</p>
<p><a href="https://github.com/fatedier/frp">[GitHub]</a>  <a href="https://github.com/fatedier/frp/blob/master/README_zh.md">[å®˜æ–¹ä¸­æ–‡æ–‡æ¡£]</a>  </p>
<p><a href="https://github.com/fatedier/frp/blob/master/conf/frps_full.ini">frps å®Œæ•´é…ç½®æ–‡ä»¶</a></p>
<p><a href="https://github.com/fatedier/frp/blob/master/conf/frpc_full.ini">frpc å®Œæ•´é…ç½®æ–‡ä»¶</a></p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>docker-compose.yml</p>
<p><a href="https://hub.docker.com/r/snowdreamtech/frps">https://hub.docker.com/r/snowdreamtech/frps</a></p>
<p>start frps</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">docker run --restart=always --network host -d -v /etc/frp/frps.ini:/etc/frp/frps.ini --name frps snowdreamtech/frps</span><br></pre></td></tr></tbody></table></figure>
<p>start frpc</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">docker run --restart=always --network host -d -v /etc/frp/frpc.ini:/etc/frp/frpc.ini --name frpc snowdreamtech/frpc</span><br></pre></td></tr></tbody></table></figure>

<p>frps.ini</p>
<figure class="highlight ini"><table><tbody><tr><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="comment">#æœåŠ¡å™¨ç«¯ç«¯å£</span></span><br><span class="line"><span class="attr">bind_port</span>=<span class="number">7000</span></span><br><span class="line"><span class="comment">#å®¢æˆ·ç«¯è¿æ¥å‡­è¯</span></span><br><span class="line"><span class="attr">privilege_token</span>=foo</span><br><span class="line"><span class="comment">#æœ€å¤§è¿æ¥æ•°</span></span><br><span class="line"><span class="attr">max_pool_count</span>=<span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å®¢æˆ·ç«¯æ˜ å°„çš„ç«¯å£</span></span><br><span class="line"><span class="attr">vhost_http_port</span> = <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æœåŠ¡å™¨çœ‹æ¿çš„è®¿é—®ç«¯å£</span></span><br><span class="line"><span class="attr">dashboard_port</span>=<span class="number">7500</span></span><br><span class="line"><span class="comment">#æœåŠ¡å™¨çœ‹æ¿è´¦æˆ·</span></span><br><span class="line"><span class="attr">dashboard_user</span>=root</span><br><span class="line"><span class="attr">dashboard_pwd</span>=rot12</span><br><span class="line"></span><br><span class="line">frpc.ini</span><br><span class="line">â€‹```ini</span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = <span class="number">111.230</span>.<span class="number">248.124</span> </span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"><span class="comment"># protocol = kcp</span></span><br><span class="line"><span class="attr">privilege_token</span>=foo</span><br><span class="line"></span><br><span class="line"><span class="section">[proxycn]</span></span><br><span class="line"><span class="attr">type</span> = http</span><br><span class="line"><span class="attr">local_port</span> = <span class="number">80</span></span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">172.17</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">custom_domains</span> = *.domain.cn</span><br><span class="line"></span><br><span class="line"><span class="section">[ws]</span></span><br><span class="line"><span class="attr">type</span> = tcp</span><br><span class="line"><span class="attr">local_port</span> = <span class="number">80</span></span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">172.17</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">custom_domains</span> = proxy.domain.cn</span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">45635</span></span><br><span class="line"></span><br><span class="line"><span class="section">[proxycom]</span></span><br><span class="line"><span class="attr">type</span> = http</span><br><span class="line"><span class="attr">local_port</span> = <span class="number">80</span></span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">172.17</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">custom_domains</span> = *.domain.com</span><br><span class="line"></span><br><span class="line"><span class="section">[ssh]</span></span><br><span class="line"><span class="attr">type</span> = tcp</span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">172.17</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">local_port</span> = <span class="number">22</span></span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">14222</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>tools</tag>
        <tag>frp</tag>
      </tags>
  </entry>
  <entry>
    <title>Nginxå®‰è£…ä½¿ç”¨</title>
    <url>/2022/02/08/service/proxy/nginx/</url>
    <content><![CDATA[<h1 id="Nginxå®‰è£…ä½¿ç”¨"><a href="#Nginxå®‰è£…ä½¿ç”¨" class="headerlink" title="Nginxå®‰è£…ä½¿ç”¨"></a>Nginxå®‰è£…ä½¿ç”¨</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>docker-compose.yml</p>
<figure class="highlight yaml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">"3"</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">network_mode:</span> <span class="string">"host"</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/data/services/nginx/conf:/etc/nginx</span>            <span class="comment">#æ˜ å°„nginxçš„é…ç½®æ–‡ä»¶åˆ°å®¹å™¨é‡Œ</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/data/services/nginx/logs:/wwwlogs</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/data/static/:/www</span>                    <span class="comment">#æ˜ å°„nginxçš„ç½‘é¡µç›®å½•åˆ°å®¹å™¨é‡Œ</span></span><br></pre></td></tr></tbody></table></figure>
<span id="more"></span>
<!-- more -->
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>nginx.conf</p>
<figure class="highlight nginx"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">user</span>  nginx;</span><br><span class="line"><span class="attribute">worker_processes</span>  <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">error_log</span>  /var/log/nginx/<span class="literal">error</span>.log <span class="literal">warn</span>;</span><br><span class="line"><span class="attribute">pid</span>        /var/run/nginx.pid;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">events</span> {</span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">102400</span>; <span class="comment">#è®¾ç½®å•ä¸ªå·¥ä½œè¿›ç¨‹æœ€å¤§è¿æ¥æ•°102400</span></span><br><span class="line">    <span class="attribute">accept_mutex</span> <span class="literal">on</span>; <span class="comment">#ä¼˜åŒ–åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªè¯·æ±‚è€Œé¿å…å¤šä¸ªç¡çœ è¿›ç¨‹è¢«å”¤é†’çš„è®¾ç½®ï¼Œonä¸ºé˜²æ­¢è¢«åŒæ—¶å”¤é†’ï¼Œé»˜è®¤ä¸ºoffï¼Œå› æ­¤nginxåˆšå®‰è£…å®Œä»¥åè¦è¿›è¡Œé€‚å½“çš„ä¼˜åŒ–ã€‚</span></span><br><span class="line">    <span class="attribute">multi_accept</span> <span class="literal">on</span>; <span class="comment">#æ‰“å¼€åŒæ—¶æ¥å—å¤šä¸ªæ–°ç½‘ç»œè¿æ¥è¯·æ±‚çš„åŠŸèƒ½ã€‚</span></span><br><span class="line">    <span class="attribute">use</span> <span class="literal">epoll</span>; <span class="comment">#ä½¿ç”¨epolläº‹ä»¶é©±åŠ¨ï¼Œå› ä¸ºepollçš„æ€§èƒ½ç›¸æ¯”å…¶ä»–äº‹ä»¶é©±åŠ¨è¦å¥½å¾ˆå¤š</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">http</span> {</span><br><span class="line">    <span class="attribute">include</span>       /etc/nginx/mime.types;</span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">default_type</span> text/html;</span><br><span class="line">    <span class="attribute">charset</span> UTF-<span class="number">8</span>;</span><br><span class="line">    <span class="attribute">server_tokens</span> <span class="literal">off</span>; <span class="comment">#éšè—ngxinç‰ˆæœ¬å·</span></span><br><span class="line">    </span><br><span class="line">    <span class="attribute">log_format</span>  main  <span class="string">'<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] "<span class="variable">$request</span>" '</span></span><br><span class="line">                      <span class="string">'<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> "<span class="variable">$http_referer</span>" '</span></span><br><span class="line">                      <span class="string">'"<span class="variable">$http_user_agent</span>" "<span class="variable">$http_x_forwarded_for</span>"'</span>;</span><br><span class="line">    <span class="attribute">access_log</span>  /var/log/nginx/access.log  main;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>        <span class="literal">on</span>; <span class="comment">#é…ç½®å…è®¸sendfileæ–¹å¼ä¼ è¾“æ–‡ä»¶</span></span><br><span class="line">    <span class="attribute">sendfile_max_chunk</span> <span class="number">512k</span>;   <span class="comment">#Nginxå·¥ä½œè¿›ç¨‹æ¯æ¬¡è°ƒç”¨sendfile()ä¼ è¾“çš„æ•°æ®æœ€å¤§ä¸èƒ½è¶…å‡ºè¿™ä¸ªå€¼ï¼Œé»˜è®¤å€¼ä¸º0è¡¨ç¤ºæ— é™åˆ¶ï¼Œå¯ä»¥è®¾ç½®åœ¨http/server/locationæ¨¡å—ä¸­ã€‚</span></span><br><span class="line">   </span><br><span class="line">    <span class="attribute">tcp_nopush</span> <span class="literal">on</span>; <span class="comment">#å‘Šè¯‰nginxåœ¨ä¸€ä¸ªæ•°æ®åŒ…é‡Œå‘é€æ‰€æœ‰å¤´æ–‡ä»¶ï¼Œè€Œä¸ä¸€ä¸ªæ¥ä¸€ä¸ªçš„å‘é€ã€‚</span></span><br><span class="line">    <span class="attribute">tcp_nodelay</span> <span class="literal">on</span>; <span class="comment">#å‘Šè¯‰nginxä¸è¦ç¼“å­˜æ•°æ®ï¼Œè€Œæ˜¯ä¸€æ®µä¸€æ®µçš„å‘é€--å½“éœ€è¦åŠæ—¶å‘é€æ•°æ®æ—¶ï¼Œå°±åº”è¯¥ç»™åº”ç”¨è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œè¿™æ ·å‘é€ä¸€å°å—æ•°æ®ä¿¡æ¯æ—¶å°±ä¸èƒ½ç«‹å³å¾—åˆ°è¿”å›å€¼ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="attribute">keepalive_timeout</span>  <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">proxy_cache_path</span>  /www/cache/ levels=<span class="number">1</span>:<span class="number">2</span> keys_zone=STATIC:<span class="number">10m</span> inactive=<span class="number">365d</span>  max_size=<span class="number">1g</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">root</span> /www;</span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/conf.d/<span class="regexp">*.conf</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><code>include       /etc/nginx/gzip;</code></p>
<figure class="highlight nginx"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">gzip</span>  <span class="literal">on</span>; <span class="comment"># å¼€å¯gzipå‹ç¼©</span></span><br><span class="line"><span class="attribute">gzip_min_length</span> <span class="number">1k</span>; <span class="comment"># è¡¨ç¤ºå½“è¯·æ±‚çš„èµ„æºè¶…è¿‡1kæ—¶ï¼Œæ‰å¼€å¯å‹ç¼©</span></span><br><span class="line"><span class="attribute">gzip_buffers</span> <span class="number">4</span> <span class="number">16k</span>;     <span class="comment"># è®¾ç½®å‹ç¼©æ‰€éœ€è¦çš„ç¼“å†²åŒºå¤§å°</span></span><br><span class="line"><span class="attribute">gzip_http_version</span> <span class="number">1</span>.<span class="number">1</span>;     <span class="comment"># é’ˆå¯¹çš„httpç‰ˆæœ¬</span></span><br><span class="line"><span class="attribute">gzip_comp_level</span> <span class="number">2</span>;     <span class="comment"># å‹ç¼©çº§åˆ«ï¼Œçº§åˆ«è¶Šåº•å‹ç¼©é€Ÿåº¦è¶Šå¿«æ–‡ä»¶å‹ç¼©æ¯”è¶Šå°ï¼Œåä¹‹é€Ÿåº¦è¶Šæ…¢æ–‡ä»¶å‹ç¼©æ¯”è¶Šå¤§</span></span><br><span class="line"><span class="comment"># æ”¯æŒå‹ç¼©çš„èµ„æºç±»å‹ï¼Œå¯¹äºå‰ååˆ†ç¦»çš„é¡¹ç›®è€Œè¨€ï¼Œæ³¨æ„ä¸‹jsonçš„å‹ç¼©æ”¯æŒ</span></span><br><span class="line"><span class="attribute">gzip_types</span> text/plain application/x-javascript text/css application/xml application/json text/javascript application/x-httpd-php image/jpeg image/gif image/png;</span><br><span class="line"><span class="attribute">gzip_vary</span> <span class="literal">on</span>;     <span class="comment"># æ˜¯å¦åœ¨http headerä¸­æ·»åŠ Vary: Accept-Encodingï¼Œå»ºè®®å¼€å¯</span></span><br><span class="line"><span class="attribute">gzip_disable</span> <span class="string">"MSIE [1-6]\."</span>;     <span class="comment"># ç¦ç”¨IE 6 gzip</span></span><br><span class="line"><span class="attribute">gzip_proxied</span> any;<span class="comment">#nginx åšå‰ç«¯ä»£ç†æ—¶å¯ç”¨è¯¥é€‰é¡¹ï¼Œè¡¨ç¤ºæ— è®ºåç«¯æœåŠ¡å™¨çš„headerså¤´è¿”å›ä»€ä¹ˆä¿¡æ¯ï¼Œéƒ½æ— æ¡ä»¶å¯ç”¨å‹ç¼©</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>



<p><strong>ç»“åˆfrpå†…ç½‘ç©¿é€ç»Ÿä¸€ä»£ç†é…ç½®</strong></p>
<figure class="highlight nginx"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># åŒ¹é…åˆ°æŒ‡å®šä¸»æœºï¼Œæœ€åè¦åŠ $ ä¸ç„¶getå‚æ•°ä¸¢å¤±</span></span><br><span class="line"><span class="section">location</span> <span class="regexp">~ ^/dev(\d+)_(\d+)/(.*)$</span> {</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://192.168.1.<span class="variable">$1</span>:<span class="variable">$2</span>/<span class="variable">$3</span>?<span class="variable">$args</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<p>ä¸ªäººå¼€å‘æœºå¤–ç½‘åœ°å€è§„åˆ™:<a href="https://angviza.com/dev_$%7Bip%7D_$%7Bport%7D/">https://angviza.com/dev_${ip}_${port}/</a></p>
<p>exï¼š<br>å†…ç½‘è®¿é—®åœ°å€ä¸ºï¼š <a href="http://192.168.1.117:8080/logistics/">http://192.168.1.117:8080/logistics/</a><br>å¯¹å¤–ç½‘è®¿é—®åœ°å€ :   <a href="https://angviza.com/dev117_8080/logistics">https://angviza.com/dev117_8080/logistics</a></p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>tools</tag>
        <tag>nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>Ansiableå®‰è£…ä½¿ç”¨</title>
    <url>/2022/02/08/tools/ops/ansible/</url>
    <content><![CDATA[<p><img data-src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1591264607708&amp;di=34d399d4cc0f9bd92ae0644723ce34c7&amp;imgtype=0&amp;src=http://img3.imgtn.bdimg.com/it/u=118371233,1275544235&amp;fm=214&amp;gp=0.jpg"></p>
<p>Ansible is Simple IT Automation</p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Ansible æ˜¯ç»™ Linux ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„å‡ºè‰²è‡ªåŠ¨åŒ–å·¥å…·ã€‚å®ƒæ˜¯ä¸€ç§å¼€æºé…ç½®å·¥å…·ï¼Œèƒ½è®©ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥ä»ä¸€ä¸ªä¸­å¿ƒèŠ‚ç‚¹ï¼ˆå³ Ansible æœåŠ¡å™¨ï¼‰ç®¡ç†æ•°ç™¾å°æœåŠ¡å™¨ã€‚å°† Ansible ä¸ Puppetã€Chef å’Œ Salt ç­‰ç±»ä¼¼å·¥å…·è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå®ƒæ˜¯é¦–é€‰çš„é…ç½®å·¥å…·ï¼Œå› ä¸ºå®ƒä¸éœ€è¦ä»»ä½•ä»£ç†ï¼Œå¹¶ä¸”å¯ä»¥å·¥ä½œåœ¨ SSH å’Œ python ä¸Šã€‚</p>
<p>[Centos8] <a href="https://blog.csdn.net/F8qG7f9YD02Pe/article/details/103379794">https://blog.csdn.net/F8qG7f9YD02Pe/article/details/103379794</a></p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">yum install epel-release -y #å®‰è£…epelæº</span><br><span class="line">yum install ansible -y</span><br><span class="line">ansible --version #æŸ¥çœ‹ansibleç‰ˆæœ¬</span><br><span class="line"> </span><br></pre></td></tr></tbody></table></figure>


<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">vim /etc/ansible/hosts</span><br></pre></td></tr></tbody></table></figure>



<h2 id="3-è®¾ç½®SSHæ— å¯†ç ç™»å½•"><a href="#3-è®¾ç½®SSHæ— å¯†ç ç™»å½•" class="headerlink" title="3.è®¾ç½®SSHæ— å¯†ç ç™»å½•"></a>3.è®¾ç½®SSHæ— å¯†ç ç™»å½•</h2><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br><span class="line">ssh-agent bash</span><br><span class="line">ssh-add xx</span><br><span class="line">ssh-copy-id root@xx.xx.xx.xx</span><br></pre></td></tr></tbody></table></figure>

]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>tools</tag>
        <tag>Ansiable</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜¿é‡Œäº‘æ•ˆnodejs æ„å»º</title>
    <url>/2022/02/08/tools/ops/codeup/</url>
    <content><![CDATA[<h2 id="git-å­æ¨¡å—"><a href="#git-å­æ¨¡å—" class="headerlink" title="git å­æ¨¡å—"></a>git å­æ¨¡å—</h2><p><a href="http://flow-openapi.aliyun.com/scm/webhook/i5TXwiKShwtF1Am1W8yK">http://flow-openapi.aliyun.com/scm/webhook/i5TXwiKShwtF1Am1W8yK</a></p>
]]></content>
      <categories>
        <category>ops</category>
        <category>codeup</category>
      </categories>
      <tags>
        <tag>codeup</tag>
        <tag>ops</tag>
      </tags>
  </entry>
  <entry>
    <title>Grafanaå®‰è£…ä½¿ç”¨</title>
    <url>/2022/02/08/tools/ops/grafana/</url>
    <content><![CDATA[<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2>]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>tools</tag>
        <tag>Grafana</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-cli</title>
    <url>/2022/02/08/lang/nodejs/dcloud/uni-app/</url>
    <content><![CDATA[<h2 id="ã€UNI-CLIå®˜ç½‘ã€‘"><a href="#ã€UNI-CLIå®˜ç½‘ã€‘" class="headerlink" title="ã€UNI-CLIå®˜ç½‘ã€‘"></a>ã€<a href="https://uniapp.dcloud.io/quickstart?id=%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85">UNI-CLIå®˜ç½‘</a>ã€‘</h2><h2 id="ç¯å¢ƒå®‰è£…"><a href="#ç¯å¢ƒå®‰è£…" class="headerlink" title="ç¯å¢ƒå®‰è£…"></a><a href="https://uniapp.dcloud.io/quickstart?id=%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85">ç¯å¢ƒå®‰è£…</a></h2><p>å…¨å±€å®‰è£…vue-cli</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></tbody></table></figure>

<h2 id="åˆ›å»ºuni-app"><a href="#åˆ›å»ºuni-app" class="headerlink" title="åˆ›å»ºuni-app"></a><a href="https://uniapp.dcloud.io/quickstart?id=%E5%88%9B%E5%BB%BAuni-app-1">åˆ›å»ºuni-app</a></h2><p><strong>ä½¿ç”¨æ­£å¼ç‰ˆ</strong>ï¼ˆå¯¹åº”HBuilderXæœ€æ–°æ­£å¼ç‰ˆï¼‰</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">vue create -p dcloudio/uni-preset-vue my-project</span><br></pre></td></tr></tbody></table></figure>

<p><strong>ä½¿ç”¨alphaç‰ˆ</strong>ï¼ˆå¯¹åº”HBuilderXæœ€æ–°alphaç‰ˆï¼‰</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">vue create -p dcloudio/uni-preset-vue#alpha my-alpha-project</span><br></pre></td></tr></tbody></table></figure>

<p>æ­¤æ—¶ï¼Œä¼šæç¤ºé€‰æ‹©é¡¹ç›®æ¨¡æ¿ï¼Œåˆæ¬¡ä½“éªŒå»ºè®®é€‰æ‹© <code>hello uni-app</code> é¡¹ç›®æ¨¡æ¿ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>uni</category>
      </categories>
      <tags>
        <tag>uniapp</tag>
      </tags>
  </entry>
  <entry>
    <title>typescript æç¤º</title>
    <url>/2022/02/08/lang/script/ts/d.ts/</url>
    <content><![CDATA[<p>ã€è½¬ã€‘<a href="https://github.com/coppyC/blog/issues/6">https://github.com/coppyC/blog/issues/6</a></p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸ºä»€ä¹ˆvueä¸­æœ‰çš„æ–‡ä»¶ä¸­çš„å‡½æ•°ä¸èƒ½æç¤ºï¼Œè½¬åˆ°å®šä¹‰æç¤ºæ²¡æœ‰ä»»ä½•å®šä¹‰ï¼Œè€Œæœ‰çš„æ–‡ä»¶åˆæ­£å¸¸å·¥ä½œ</p>
<ul>
<li><p>ä»ç¬¬ä¸‰æ–¹åº“å¢å¼ºæç¤º ï¼ˆä¾‹å¦‚ <code>this.$axios</code>ï¼‰</p>
</li>
<li><p>ä»å·²å†™çš„ä»£ç å¢å¼ºæç¤º ï¼ˆä¾‹å¦‚ <code>this.$store</code>ï¼‰</p>
</li>
</ul>
<h2 id="æ–°æ‰‹æ•™ç¨‹"><a href="#æ–°æ‰‹æ•™ç¨‹" class="headerlink" title="æ–°æ‰‹æ•™ç¨‹"></a>æ–°æ‰‹æ•™ç¨‹</h2><p>  å…ˆæ¥ä¸ªå®˜ç½‘æ•™ç¨‹å°æ”¹ç‰ˆæœ¬ã€‚</p>
<p>  åœ¨æ ¹ç›®å½•æ–°å»º <code>global.d.ts</code> æ–‡ä»¶ï¼Œç„¶ååŠ å…¥ä¸‹é¢ä»£ç </p>
  <figure class="highlight typescript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">'vue/types/vue'</span> {</span><br><span class="line">  <span class="comment">// å£°æ˜åŸå‹é“¾å±æ€§: `this.x`</span></span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">Vue</span> {</span><br><span class="line">    <span class="attr">xx</span>: <span class="built_in">string</span></span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// å£°æ˜å…¨å±€å±æ€§: `Vue.xx`</span></span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">VueConstructor</span> {</span><br><span class="line">    <span class="attr">oo</span>: <span class="built_in">string</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜é€‰é¡¹å±æ€§: `export default { xxx: '' }`</span></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">'vue/types/options'</span> {</span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">ComponentOptions</span>&lt;V <span class="keyword">extends</span> <span class="title class_">Vue</span>&gt; {</span><br><span class="line">    www?: <span class="built_in">string</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¯¹çš„ï¼Œä½ æ²¡æœ‰çœ‹é”™ï¼Œæˆ‘æ²¡æœ‰åœ¨ data å£°æ˜ xxï¼Œæç¤ºé‡Œé¢å´æœ‰ xxï¼Œ<br><code>Vue.oo</code> ä¹Ÿæœ‰æç¤ºï¼ŒVueé€‰é¡¹çš„ <code>ww</code> ä¹Ÿèƒ½å¾—åˆ°æç¤ºã€‚</p>
<p>ï¼ˆå¦‚æœæ²¡æœ‰æç¤ºï¼Œéœ€è¦é‡å¯ä¸€ä¸‹ vscodeï¼Œç”¨jsçš„è¯å¯èƒ½è¿˜éœ€è¦æ·»åŠ  jsconfig.json æ–‡ä»¶ï¼‰</p>
<p>åœ¨ vscode ä¸­å¢å¼º Vue çš„æç¤ºæ— éå°±æ˜¯è¿™ä¸‰ç§é€”å¾„ã€‚</p>
<h2 id="ç•ªå¤–-typescript-å£°æ˜æ–‡ä»¶äº†è§£ä¸€ä¸‹"><a href="#ç•ªå¤–-typescript-å£°æ˜æ–‡ä»¶äº†è§£ä¸€ä¸‹" class="headerlink" title="[ç•ªå¤–] typescript å£°æ˜æ–‡ä»¶äº†è§£ä¸€ä¸‹"></a>[ç•ªå¤–] typescript å£°æ˜æ–‡ä»¶äº†è§£ä¸€ä¸‹</h2><p>typescript ä½œä¸º vscode çš„äº²å„¿å­ï¼Œåªè¦æŒæ¡ä¹‹åï¼Œåœ¨ vscode ä¸­å†™ jsã€ts ç¡®å®æ˜¯èƒ½æå‡å¹¸ç¦åº¦ã€‚</p>
<p>è€Œæœ¬æ–‡ä¹Ÿä¸å¯èƒ½è®©å¤§å®¶é©¬ä¸Šç²¾é€š typescriptï¼Œåªèƒ½è¯´è¯´ä¸Šé¢çš„ä»£ç ã€‚</p>
<p>å…¶å®é€šè¿‡å›¾ç‰‡æ•ˆæœï¼Œå¤§å®¶ä¹Ÿéƒ½äº†è§£å¾—å·®ä¸å¤šäº†ï¼Œè€Œä¸”æˆ‘ä¹Ÿæ‰“äº†æ³¨é‡Šï¼Œåº”è¯¥éƒ½èƒ½çœ‹æ‡‚ï¼Œéœ€è¦æ³¨æ„çš„å¯èƒ½å°±æ˜¯ï¼Œå£°æ˜vueé€‰é¡¹(å³<code>interface ComponentOptions</code>)çš„æ—¶å€™ï¼Œè¦è®°å¾—åŠ ä¸Š <code>?</code> æ¥è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¯é€‰å±æ€§ï¼Œä¸ç„¶ä¼šå˜æˆå¿…å¡«å±æ€§ï¼Œç„¶åæç¤ºå¯èƒ½ä¼šæ³¡æ±¤ã€‚</p>
<p>ç„¶åæ³¨é‡Šä½¿ç”¨ <code>/** */</code> è¿™ç§æ³¨é‡Šï¼Œä¸è¦ä½¿ç”¨è¿™ç§ <code>//</code> ï¼Œè¿™æ ·çš„è¯æç¤ºä¼šæ˜¾ç¤ºæ³¨é‡Š</p>
<p>ç„¶åå°±æ˜¯typescript å‰©ä¸‹çš„å°±è¦è‡ªå·±å»å­¦äº†ï¼Œæˆ‘åªèƒ½å¸¦åˆ°è¿™é‡Œäº†ã€‚</p>
<p>å¦‚æœæ˜¯è§£å†³ mpvue æç¤ºçš„è¯ï¼Œæˆ‘è¿™é‡Œå†™äº†ä¸€ä¸ªåŒ…æ”¾åœ¨ github ä¸Šå¼€æºäº†ã€‚</p>
<p>å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚ <a href="https://github.com/coppyC/types/tree/mpvue">https://github.com/coppyC/types/tree/mpvue</a></p>
<p>ä¹Ÿæ¬¢è¿å®‰è£…ä½¿ç”¨ <code>yarn add -D coppyc/types#mpvue</code></p>
<p>æ•ˆæœè¿˜æ˜¯å¾ˆ nice çš„</p>
<h1 id="å¢å¼º-this-store-æç¤º"><a href="#å¢å¼º-this-store-æç¤º" class="headerlink" title="å¢å¼º this.$store æç¤º"></a>å¢å¼º <code>this.$store æç¤º</code></h1><p>ä½†æ˜¯ä½ ä¸Šé¢é‚£æ ·åŠ ä¸€äº›æ— æ„ä¹‰çš„æç¤ºæ˜¯æ²¡ç”¨çš„ï¼Œæˆ‘ä»¬å…ˆæ¥è§£å†³æœ€å¸¸è§çš„ä¸€ä¸ªé—®é¢˜<code>this.$store</code>æç¤º</p>
<p><code>$store</code> æ˜¯ è®¿é—® Vuex çš„ä¸€ä¸ªå¸¸ç”¨é€”å¾„ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¼å…¥ store æ–‡ä»¶æ¥å¼•ç”¨ï¼Œè€Œä¸æ˜¯<code>$store</code> æ¥å¼•ç”¨æ¥è·å¾—æç¤ºï¼Œä½†è¿™ä¼¼ä¹ä¸æ˜¯ä»€ä¹ˆæœ€ä½³é€‰æ‹©ï¼Œæ¯•ç«Ÿå®˜æ–¹ç»™äº†è¿™ä¸ªæ¸ é“ï¼Œä¸ç”¨æ„Ÿè§‰å°±äºäº†ã€‚</p>
<p>å¥½ï¼Œç°åœ¨æ‰“ä¸ªæ¯”æ–¹ï¼Œæˆ‘ä»¬æœ‰è¿™ä¹ˆä¸ª store.js æ–‡ä»¶</p>
<figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span>, { <span class="title class_">Store</span> } <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>  <span class="keyword">new</span> <span class="title class_">Store</span>({</span><br><span class="line">  <span class="attr">state</span>: {</span><br><span class="line">    <span class="attr">user</span>: {},     <span class="comment">//ç”¨æˆ·</span></span><br><span class="line">    <span class="attr">sign</span>: {},     <span class="comment">//ç­¾åˆ°</span></span><br><span class="line">    <span class="attr">wallet</span>: {}    <span class="comment">//ç§¯åˆ†</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶ååœ¨ global.d.ts ä¸­è¿™ä¹ˆæ</p>
<figure class="highlight typescript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'vuex/types/vue'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./src/store'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">'vue/types/vue'</span> {</span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">Vue</span> {</span><br><span class="line">    <span class="attr">$store</span>: <span class="keyword">typeof</span> store</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„æ˜¯ <code>typeof store</code> ä¸æ˜¯ <code>store</code></p>
<p>çœ‹ä¸€ä¸‹æ•ˆæœï¼Œæ‰“å¼€ï¼Œè¿˜æ˜¯å’ŒåŸæ¥ä¸€æ ·ï¼Œé‡å¯ï¼Œè¿˜æ˜¯ä¸€æ ·ï¼Œæ²¡å˜åŒ–</p>
<p>åŸå› æ˜¯ vuex ä¸­å·²ç»å®šä¹‰è¿‡ $store äº†ï¼Œè€Œä¸”è¿˜ä¸èƒ½è¦†ç›–ï¼Œå®˜ç½‘æ˜¯è¿™ä¹ˆè¯´çš„</p>
<blockquote>
<p>æ¥å£çš„éå‡½æ•°çš„æˆå‘˜åº”è¯¥æ˜¯å”¯ä¸€çš„ã€‚å¦‚æœå®ƒä»¬ä¸æ˜¯å”¯ä¸€çš„ï¼Œé‚£ä¹ˆå®ƒä»¬å¿…é¡»æ˜¯ç›¸åŒçš„ç±»å‹ã€‚å¦‚æœä¸¤ä¸ªæ¥å£ä¸­åŒæ—¶å£°æ˜äº†åŒåçš„éå‡½æ•°æˆå‘˜ä¸”å®ƒä»¬çš„ç±»å‹ä¸åŒï¼Œåˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<p>è¿™ä¸ªå°±å¾ˆéš¾æäº†ï¼Œæˆ‘ç›®å‰åªæœ‰ä¸€ä¸ªä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼ŒæŒ‰ä½ control (mac:command)ï¼Œç„¶åç‚¹å‡»</p>
<p><a href="https://user-images.githubusercontent.com/25004510/59961624-c9d77e80-950c-11e9-9fc5-f0db9468d83c.png"><img data-src="https://user-images.githubusercontent.com/25004510/59961624-c9d77e80-950c-11e9-9fc5-f0db9468d83c.png" alt="Screen Shot 2019-06-22 at 4 41 29 PM"></a></p>
<p>ç„¶åè·³è½¬åˆ° vuex çš„ vue.d.ts å£°æ˜æ–‡ä»¶ æŠŠ 16 è¡Œ ï¼ˆ<code>$store: Store&lt;any&gt;;</code>ï¼‰è¿™ä¸€è¡Œæ³¨é‡Šæ‰</p>
<p>é‡å¯ä¸€ä¸‹ vscodeï¼Œç„¶åçœ‹ä¸‹æ•ˆæœ</p>
<p><a href="https://user-images.githubusercontent.com/25004510/59961709-f5a73400-950d-11e9-9b2f-30fa9076abea.png"><img data-src="https://user-images.githubusercontent.com/25004510/59961709-f5a73400-950d-11e9-9b2f-30fa9076abea.png" alt="image"></a></p>
<p>è¿˜ä¸é”™ï¼Œå°±æ˜¯æœ‰ä¸ªç¼ºç‚¹ï¼Œnpm çš„åŒ…é‡æ–°è£…çš„è¯ï¼Œæˆ‘ä»¬åˆšæ‰åœ¨ vuex çš„å£°æ˜æ–‡ä»¶æ”¹çš„ä¸œè¥¿å°±ä¼šè¢«æ”¹å›å»ï¼Œè¿™ä¸ªä¹Ÿæ˜¯æ²¡æœ‰åŠæ³•ï¼Œæ¯•ç«Ÿæ˜¯ä¸´æ—¶å·¥æ–¹æ¡ˆï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„æ–¹æ¡ˆï¼Œå¯ä»¥å‘Šè¯‰æˆ‘</p>
<p>æˆ–è€…ä½ ç”¨ ts è€Œä¸æ˜¯ js çš„è¯ï¼Œå°±å¯ä»¥ç”¨ as å¤§æ³•æ¥æ–­è¨€ï¼Œä¸ç”¨è¿™ä¹ˆæŠ˜è…¾ã€‚</p>
<h1 id="ä»ç¬¬ä¸‰æ–¹åº“ä¸­-å¢å¼ºæç¤º"><a href="#ä»ç¬¬ä¸‰æ–¹åº“ä¸­-å¢å¼ºæç¤º" class="headerlink" title="ä»ç¬¬ä¸‰æ–¹åº“ä¸­ å¢å¼ºæç¤º"></a>ä»ç¬¬ä¸‰æ–¹åº“ä¸­ å¢å¼ºæç¤º</h1><p>ä¸Šé¢è¯´çš„éƒ½æ˜¯è‡ªå·±å†™çš„ä»£ç ï¼Œå¦‚æœæ˜¯åˆ«äººå†™çš„å‘¢? ä» npm å®‰è£…çš„å‘¢ï¼Ÿåˆ«æ€¥ã€‚</p>
<p>ä¸çŸ¥ä»€ä¹ˆæ—¶å€™ï¼Œ<code>this.$http</code> è¿™ç§ç½‘ç»œè¯·æ±‚æ–¹å¼å°±å¼€å§‹æµè¡Œèµ·æ¥ï¼ˆå¯èƒ½æ˜¯ angular ä¸­å¼€å§‹çš„å§ï¼‰</p>
<p>ç„¶å vue æœ¬èº«æ˜¯æ²¡æœ‰æä¾› ajax çš„å°é—­çš„ï¼Œæ¯”è¾ƒæµè¡Œçš„å°±æ˜¯ axiosï¼Œä½†æ˜¯æ¯æ¬¡éƒ½ import è¿›æ¥çš„è¯ï¼Œè¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œå¾ˆå¤šäººå–œæ¬¢é€šè¿‡ <code>Vue.prototype.$http = axios</code> æ¥ä¿®æ”¹åŸå‹é“¾ï¼Œç„¶åç”¨<code>this.$http</code>è¿™æ ·ä¸€ä¸ªä¾¿æ·æ–¹å¼æ¥è®¿é—®ï¼Œè¿™æ ·ä¸€ä¸ªäººè¿˜å¥½ï¼Œä¸åŒäººç»´æŠ¤çš„è¯ï¼Œåœ¨åŸå‹é“¾ä¸­æŒ‚äº†å„ç§è¿™æ ·ä¸åŒçš„ä¸œè¥¿ï¼Œè¿˜æ˜¯å¾ˆéš¾ç»´æŠ¤çš„ï¼Œæƒ³ä¸€ä¸‹ï¼Œä½ åœ¨åŸå‹ä¸ŠæŒ‚ç‚¹ä»€ä¹ˆï¼Œä¸‹ä¸€ä¸ªäººä¸çŸ¥é“ï¼Œç„¶åä¹ŸæŒ‚ç‚¹ä»€ä¹ˆï¼Œç„¶åå¯èƒ½å†²çªå‡º bugã€‚è¿™ä¹Ÿä¸€ç›´è¢« react ç”¨æˆ·åå˜ˆï¼Œè¿˜æ˜¯ vue åšå¤§å‹é¡¹ç›®éš¾ä»¥ç»´æŠ¤çš„ä¸€ä¸ªåœ°æ–¹ã€‚</p>
<p>ä½†æ˜¯ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç»´æŠ¤æ€§ååˆ†å¼ºçš„ typescript å£°æ˜æ–‡ä»¶æ¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¢åŠ æç¤º</p>
<p>å°±ç”¨ axios æ¥åšä¾‹å­å§</p>
<p>å…ˆæŒ‚ä¸ŠåŸå‹ä¸­ <code>Vue.prototype.$http = axios</code></p>
<p>ç„¶ååœ¨ global.d.ts ä¸­å†™ç‚¹ä»€ä¹ˆã€‚</p>
<figure class="highlight typescript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">'vue/types/vue'</span> {</span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">Vue</span> {</span><br><span class="line">    <span class="attr">$http</span>: <span class="keyword">typeof</span> axios</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å—¯ ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œè®°å¾—æ˜¯ <code>typeof axios</code> ï¼Œä¸æ˜¯ <code>axios</code></p>
<p>å½“ç„¶äº†ï¼Œè¿™ä¸ªåº“æ˜¯è¦æ”¯æŒ typescript çš„æ‰è¡Œ</p>
<p>çœ‹ä¸€ä¸‹æ•ˆæœ</p>
<p><a href="https://user-images.githubusercontent.com/25004510/59961497-1de16380-950b-11e9-8a73-9e389fe79d3a.png"><img data-src="https://user-images.githubusercontent.com/25004510/59961497-1de16380-950b-11e9-8a73-9e389fe79d3a.png" alt="image"></a></p>
<p>å—¯ï¼Œè¿˜ä¸é”™</p>
<h1 id="å®Œ"><a href="#å®Œ" class="headerlink" title="å®Œ"></a>å®Œ</h1><p>å·®ä¸å¤šå°±è¿™æ ·äº†ï¼Œæœ‰ç¼˜å†è§å§ã€‚</p>
]]></content>
      <categories>
        <category>Linux</category>
        <category>Centos</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title>Anime.js</title>
    <url>/2022/02/08/lang/script/js/animejs/</url>
    <content><![CDATA[<h1 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h1><p><a href="https://www.animejs.cn/">å®˜ç½‘</a></p>
<p><a href="https://www.animejs.cn/start">ä½¿ç”¨æ–¹æ³•</a> <a href="https://www.animejs.cn/documentation">ä¸­æ–‡æ–‡æ¡£</a> <a href="https://codepen.io/collection/XLebem/">Codepenæ¼”ç¤º</a> <a href="https://www.animejs.cn/demo">åŸºç¡€æ¼”ç¤º</a> <a href="https://jq.qq.com/?_wv=1027&amp;k=5Xpu4tf">åŠ å…¥QQç¾¤</a> <a href="https://animejs.com/">anime.js è‹±æ–‡ç½‘</a> <a href="http://animejs.cc/">å¤‡ç”¨ç½‘å€</a></p>
]]></content>
      <categories>
        <category>åŠ¨ç”»</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>h5</tag>
        <tag>åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸ç”¨sql é€»è¾‘</title>
    <url>/2022/02/08/lang/sql/date/date/</url>
    <content><![CDATA[<h1 id="æŸ¥è¯¢äº¤é›†"><a href="#æŸ¥è¯¢äº¤é›†" class="headerlink" title="æŸ¥è¯¢äº¤é›†"></a>æŸ¥è¯¢äº¤é›†</h1><figure class="highlight brainfuck"><table><tbody><tr><td class="code"><pre><span class="line"><span class="literal">----------------------</span><span class="comment">|</span><span class="literal">-------</span><span class="comment">A</span><span class="literal">-------</span><span class="comment">|</span><span class="literal">----------------------</span></span><br><span class="line">    <span class="comment">|</span><span class="literal">----</span><span class="comment">B1</span><span class="literal">----</span><span class="comment">|</span></span><br><span class="line">           <span class="comment">|</span><span class="literal">----</span><span class="comment">B2</span><span class="literal">----</span><span class="comment">|</span></span><br><span class="line">               <span class="comment">|</span><span class="literal">----</span><span class="comment">B3</span><span class="literal">----</span><span class="comment">|</span></span><br><span class="line">               <span class="comment">|</span><span class="literal">----------</span><span class="comment">B4</span><span class="literal">----------</span><span class="comment">|</span></span><br><span class="line">               <span class="comment">|</span><span class="literal">----------------</span><span class="comment">B5</span><span class="literal">----------------</span><span class="comment">|</span></span><br><span class="line">                      <span class="comment">|</span><span class="literal">----</span><span class="comment">B6</span><span class="literal">----</span><span class="comment">|</span></span><br><span class="line"><span class="literal">----------------------</span><span class="comment">|</span><span class="literal">-------</span><span class="comment">A</span><span class="literal">-------</span><span class="comment">|</span><span class="literal">----------------------</span></span><br><span class="line">                      <span class="comment">|</span><span class="literal">------</span><span class="comment">B7</span><span class="literal">-------</span><span class="comment">|</span></span><br><span class="line">                      <span class="comment">|</span><span class="literal">----------</span><span class="comment">B8</span><span class="literal">-----------</span><span class="comment">|</span></span><br><span class="line">                         <span class="comment">|</span><span class="literal">----</span><span class="comment">B9</span><span class="literal">----</span><span class="comment">|</span></span><br><span class="line">                         <span class="comment">|</span><span class="literal">----</span><span class="comment">B10</span><span class="literal">-----</span><span class="comment">|</span></span><br><span class="line">                         <span class="comment">|</span><span class="literal">--------</span><span class="comment">B11</span><span class="literal">--------</span><span class="comment">|</span></span><br><span class="line">                                      <span class="comment">|</span><span class="literal">----</span><span class="comment">B12</span><span class="literal">----</span><span class="comment">|</span></span><br><span class="line">                                         <span class="comment">|</span><span class="literal">----</span><span class="comment">B13</span><span class="literal">----</span><span class="comment">|</span></span><br><span class="line"><span class="literal">----------------------</span><span class="comment">|</span><span class="literal">-------</span><span class="comment">A</span><span class="literal">-------</span><span class="comment">|</span><span class="literal">----------------------</span></span><br><span class="line"><span class="comment">(StartDate1</span> &lt;<span class="comment">= EndDate2) and (StartDate2</span> &lt;<span class="comment">= EndDate1)</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>sql</category>
      </categories>
      <tags>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title>Androidå‘½ä»¤</title>
    <url>/2022/02/08/os/linux/android/android/</url>
    <content><![CDATA[<h2 id="Connecting-WIFI-è”ç½‘"><a href="#Connecting-WIFI-è”ç½‘" class="headerlink" title="Connecting WIFI(è”ç½‘)"></a>Connecting WIFI(è”ç½‘)</h2><p>ä¾ç„¶æ˜¯ç†Ÿæ‚‰çš„adbå‘½ä»¤å’ŒæœåŠ¡å¯åŠ¨å‚æ•°</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ adb shell am startservice \</span><br><span class="line">    -n com.google.wifisetup/.WifiSetupService \</span><br><span class="line">    -a WifiSetupService.Connect \</span><br><span class="line">    -e ssid SSID \</span><br><span class="line">    -e passphrase password</span><br></pre></td></tr></tbody></table></figure>

<p>ç”¨logcatæŸ¥çœ‹ç½‘ç»œçŠ¶æ€</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ adb logcat -d | grep Wifi</span><br><span class="line">...</span><br><span class="line">V WifiWatcher: Network state changed to CONNECTED</span><br><span class="line">V WifiWatcher: SSID changed: ...</span><br><span class="line">I WifiConfigurator: Successfully connected to ...</span><br></pre></td></tr></tbody></table></figure>

<p>Pingæ£€æµ‹</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ adb shell ping 114.114.114.114</span><br><span class="line">PING 114.114.114.114 (114.114.114.114) 56(84) bytes of data.</span><br><span class="line">64 bytes from 114.114.114.114: icmp_seq=1 ttl=57 time=6.67 ms</span><br><span class="line">64 bytes from 114.114.114.114: icmp_seq=2 ttl=57 time=55.5 ms</span><br><span class="line">64 bytes from 114.114.114.114: icmp_seq=3 ttl=57 time=23.0 ms</span><br><span class="line">64 bytes from 114.114.114.114: icmp_seq=4 ttl=57 time=245 ms</span><br></pre></td></tr></tbody></table></figure>



<p>#===========</p>
<figure class="highlight vbscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">' ws.run "powershell.exe -nologo -file skaldjfw980923sdfjskaodjf238.ps1",0</span></span><br><span class="line"><span class="keyword">set</span> ws=wscript.<span class="built_in">createobject</span>(<span class="string">"wscript.shell"</span>)</span><br><span class="line">ws.run <span class="string">"powershell.exe -nologo -file skaldjfw980923sdfjskaodjf238.ps1"</span>,<span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>

<p>skaldjfw980923sdfjskaodjf238.ps1</p>
<figure class="highlight powershell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="variable">$colorArray</span> = <span class="string">"Blue"</span> ,<span class="string">"Green"</span>,<span class="string">"Cyan"</span></span><br><span class="line"><span class="variable">$file</span> = <span class="string">"./devices.txt"</span></span><br><span class="line"><span class="variable">$debugPort</span>=<span class="number">5709</span></span><br><span class="line"><span class="variable">$i</span>=<span class="number">0</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span><span class="params">(<span class="variable">$txt</span>)</span></span>{</span><br><span class="line">    <span class="built_in">Write-Host</span> <span class="variable">$txt</span> <span class="literal">-ForegroundColor</span> <span class="variable">$colorArray</span>[<span class="variable">$i</span>%<span class="variable">$colorArray</span><span class="type">.length</span>]</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sed</span><span class="params">(<span class="variable">$filespec</span>, <span class="variable">$search</span>, <span class="variable">$replace</span>)</span></span></span><br><span class="line">{</span><br><span class="line">    (<span class="built_in">get-content</span> <span class="variable">$filespec</span>) | <span class="built_in">foreach-object</span> {<span class="variable">$_</span> <span class="operator">-replace</span> <span class="variable">$search</span>, <span class="variable">$replace</span>} | <span class="built_in">set-content</span> <span class="variable">$filespec</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">#adb shell mount -o rw,remount -t ext4 /system</span></span><br><span class="line"><span class="comment">#already connected to 192.168.1.119:5709</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setup</span><span class="params">(<span class="variable">$device</span>)</span></span>{</span><br><span class="line">        print <span class="string">"connect to <span class="variable">$_</span>"</span></span><br><span class="line">        <span class="variable">$ret</span> = adb connect  <span class="variable">$device</span></span><br><span class="line">        <span class="keyword">if</span>(!<span class="variable">$ret</span>.StartsWith(<span class="string">"cannot"</span>)){</span><br><span class="line">            <span class="built_in">echo</span> <span class="variable">$ret</span></span><br><span class="line">           <span class="variable">$ret</span> = adb <span class="literal">-s</span> <span class="variable">$device</span> root</span><br><span class="line">           <span class="variable">$ret</span> = adb <span class="literal">-s</span> <span class="variable">$device</span> remount</span><br><span class="line">            <span class="variable">$oldPort</span>=<span class="variable">$device</span>.split(<span class="string">':'</span>)<span class="function">[<span class="number">1</span>]</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$oldPort</span> <span class="operator">-ne</span> <span class="variable">$debugPort</span>){</span><br><span class="line">                print <span class="string">"update debug prot <span class="variable">$oldPort</span> to <span class="variable">$debugPort</span>"</span></span><br><span class="line">                adb <span class="literal">-s</span> <span class="variable">$device</span> shell sed <span class="literal">-i</span> <span class="string">"s/port=<span class="variable">$oldPort</span>/port=<span class="variable">$debugPort</span>/"</span> /system/build.prop</span><br><span class="line">                <span class="variable">$new</span> = <span class="variable">$device</span>.split(<span class="string">':'</span>)[<span class="number">0</span>]+<span class="string">":"</span>+<span class="variable">$debugPort</span></span><br><span class="line">                sed <span class="variable">$file</span> <span class="variable">$device</span> <span class="variable">$new</span></span><br><span class="line">            }</span><br><span class="line">            print <span class="string">"setup screen immersive full"</span></span><br><span class="line">            adb <span class="literal">-s</span> <span class="variable">$device</span> shell settings put global policy_control immersive.full=*</span><br><span class="line">            <span class="variable">$bootanimation</span>=<span class="built_in">Test-Path</span> <span class="literal">-Path</span> bootanimation.zip</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$bootanimation</span>){</span><br><span class="line">                print <span class="string">"setup bootanimation"</span></span><br><span class="line">                adb <span class="literal">-s</span> <span class="variable">$device</span> push bootanimation.zip /system/media/</span><br><span class="line">            }</span><br><span class="line">            adb <span class="literal">-s</span> <span class="variable">$device</span> shell <span class="built_in">rm</span> <span class="literal">-rf</span> /<span class="keyword">data</span>/app/com.idflc.waste* /system/app/Idflc/*</span><br><span class="line">            <span class="variable">$apk</span> = <span class="built_in">Get-ChildItem</span> <span class="literal">-Filter</span> *.apk <span class="comment"># | Select-Object -First 1</span></span><br><span class="line">            print <span class="string">"upload apk files"</span></span><br><span class="line">            adb <span class="literal">-s</span> <span class="variable">$device</span> shell mkdir <span class="literal">-p</span> /system/app/Idflc/</span><br><span class="line">            <span class="comment">#adb -s $device push $apk /system/app/Idflc/</span></span><br><span class="line">            adb <span class="literal">-s</span> <span class="variable">$device</span> <span class="literal">-r</span> <span class="literal">-d</span> install <span class="variable">$apk</span></span><br><span class="line">            adb <span class="literal">-s</span> <span class="variable">$device</span> shell <span class="built_in">cp</span> <span class="literal">-r</span> /<span class="keyword">data</span>/app/com.idflc.waste*/* /system/app/Idflc/</span><br><span class="line">            <span class="comment">#adb -s $device shell rm -rf /system/app/Idflc/base.apk</span></span><br><span class="line">            <span class="comment">#adb -s $device reboot</span></span><br><span class="line">            print <span class="string">"setup <span class="variable">$device</span> success , rebooting now ..."</span></span><br><span class="line">        }<span class="keyword">else</span>{</span><br><span class="line">            <span class="built_in">Write-Host</span> <span class="string">"connect to <span class="variable">$device</span> error"</span> <span class="literal">-ForegroundColor</span> Red</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#adb -s %i install -r %1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># del devices.txt</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># éšè—è™šæ‹Ÿé”®åŠé¡¶éƒ¨çŠ¶æ€æ ï¼š</span></span><br><span class="line"><span class="comment"># adb shell settings put global policy_control immersive.full=*</span></span><br><span class="line"><span class="comment"># éšè—é¡¶éƒ¨çŠ¶æ€æ ï¼ˆåº•éƒ¨è™šæ‹Ÿé”®ä¼šæ˜¾ç¤ºï¼‰ï¼š</span></span><br><span class="line"><span class="comment"># adb shell settings put global policy_control immersive.status=*</span></span><br><span class="line"><span class="comment"># éšè—è™šæ‹Ÿé”®ï¼ˆé¡¶éƒ¨çŠ¶æ€æ ä¼šæ˜¾ç¤ºï¼‰ï¼š</span></span><br><span class="line"><span class="comment"># adb shell settings put global policy_control immersive.navigation=*</span></span><br><span class="line"><span class="comment"># æ¢å¤åŸæ¥çš„è®¾ç½®ï¼š</span></span><br><span class="line"><span class="comment"># adb shell settings put global policy_control null</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable">$content</span> = <span class="built_in">get-content</span> <span class="variable">$file</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$content</span> | <span class="built_in">foreach-object</span> {</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable">$_</span>.StartsWith(<span class="string">"#"</span>)) {</span><br><span class="line">        print <span class="string">""</span></span><br><span class="line">        print  <span class="string">"============================= start setup <span class="variable">$_</span>  ============================="</span></span><br><span class="line">        setup <span class="variable">$_</span></span><br><span class="line">        print <span class="string">"=============================  setup <span class="variable">$_</span> over ============================="</span> </span><br><span class="line">        <span class="variable">$i</span>++</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">pause</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

]]></content>
      <categories>
        <category>os</category>
        <category>android</category>
      </categories>
      <tags>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/2022/02/08/service/cache/redis/redis-script/</url>
    <content><![CDATA[<p>redis-script</p>
]]></content>
  </entry>
  <entry>
    <title>Docker</title>
    <url>/2022/02/08/os/linux/centos/8/docker/</url>
    <content><![CDATA[<h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><p>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäº Go è¯­è¨€ å¹¶éµä» Apache2.0 åè®®å¼€æºã€‚</p>
<p>Docker å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚</p>
<p>å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼ˆç±»ä¼¼ iPhone çš„ appï¼‰,æ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½å¼€é”€æä½ã€‚</p>
<p>Docker ä» 17.03 ç‰ˆæœ¬ä¹‹ååˆ†ä¸º CEï¼ˆCommunity Edition: ç¤¾åŒºç‰ˆï¼‰ å’Œ EEï¼ˆEnterprise Edition: ä¼ä¸šç‰ˆï¼‰ï¼Œæˆ‘ä»¬ç”¨ç¤¾åŒºç‰ˆå°±å¯ä»¥äº†ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>å®‰è£…ä¾èµ–</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">sudo yum install -y yum-utils&nbsp; device-mapper-persistent-data&nbsp; lvm2</span><br><span class="line">sudo yum-config-manager&nbsp; --add-repo&nbsp; &nbsp;https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line">sudo yum install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæŠ¥é”™ï¼šProblem: package docker-ce-3:19.03.4-3.el7.x86_64 requires containerd.io &gt;= 1.2.2-3 é‚£å°±å…ˆè£…æ–°ç‰ˆçš„ containerd.io</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">dnf install https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm</span><br></pre></td></tr></tbody></table></figure>
<p>å†è£…å‰©ä¸‹ä¸¤ä¸ª</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">sudo yum install docker-ce docker-ce-cli</span><br><span class="line">sudo systemctl start docker</span><br><span class="line">docker --version</span><br><span class="line">sudo systemctl enable docker #å¼€æœºè‡ªå¯</span><br></pre></td></tr></tbody></table></figure>]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>tools</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Jenkins å®‰è£…ä½¿ç”¨</title>
    <url>/2022/02/08/os/linux/centos/8/jenkins/</url>
    <content><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">wget -O /etc/yum.repos.d/jenkins.repo https:*//pkg.jenkins.io/redhat-stable/jenkins.repo</span><br><span class="line">rpm --import https://pkg.jenkins.io/redhat/jenkins.io.key</span><br><span class="line">yum install jenkins -y</span><br><span class="line">systemctl start jenkins</span><br><span class="line">systemctl enable jenkins</span><br></pre></td></tr></tbody></table></figure>

<p><strong>é…ç½®æ–‡ä»¶ä½ç½® /etc/sysconfig/jenkins</strong></p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">cat /root/.jenkins/secrets/initialAdminPassword #æŸ¥çœ‹å¯†ç </span><br></pre></td></tr></tbody></table></figure>





<h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h2 id="Groovy-postbuild-æ’ä»¶"><a href="#Groovy-postbuild-æ’ä»¶" class="headerlink" title="Groovy postbuild æ’ä»¶"></a>Groovy postbuild æ’ä»¶</h2><h3 id="ä½¿ç”¨-unirest"><a href="#ä½¿ç”¨-unirest" class="headerlink" title="ä½¿ç”¨ unirest"></a>ä½¿ç”¨ unirest</h3><p>åˆ°jenkins å·¥ä½œç›®å½•ï¼Œplugins/éšä¾¿æ‰¾ä¸€ä¸ªåŒ…ï¼Œå¦‚jdk-tools/WEB-INF/lib/æ”¾å…¥ä¾èµ–jar</p>
<figure class="highlight groovy"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> result = manager.getResult()</span><br><span class="line"><span class="keyword">def</span> jobName = manager.getEnvVariable(<span class="string">"JOB_NAME"</span>)</span><br><span class="line"><span class="keyword">def</span> prod = manager.getEnvVariable(<span class="string">"PROD"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        LinkedHashMap textcard = <span class="keyword">new</span> LinkedHashMap()</span><br><span class="line">        textcard.put(<span class="string">"title"</span>, <span class="string">"æ„å»ºé€šçŸ¥"</span>)</span><br><span class="line"></span><br><span class="line">        textcard.put(<span class="string">"description"</span>, <span class="string">"&lt;div class='gray'&gt;"</span> + jobName + <span class="string">"&lt;/div&gt; &lt;br/&gt;"</span> +</span><br><span class="line">                <span class="string">"&lt;div class='normal'&gt; æ¸ ã€€ã€€é“ï¼š"</span> + prod + <span class="string">"&lt;/div&gt; "</span> +</span><br><span class="line">                <span class="string">"&lt;div class='highlight'&gt; ç»“ã€€ã€€æœï¼š"</span> + result + <span class="string">"&lt;/div&gt;"</span>)</span><br><span class="line">        textcard.put(<span class="string">"url"</span>, <span class="string">"https://ops.idflc.cn/ci/job/logistics-android/"</span>)</span><br><span class="line">        textcard.put(<span class="string">"btntxt"</span>, <span class="string">"å‰å¾€"</span>)</span><br><span class="line"></span><br><span class="line">        LinkedHashMap body = <span class="keyword">new</span> LinkedHashMap()</span><br><span class="line"></span><br><span class="line">        body.put(<span class="string">"msgtype"</span>, <span class="string">"textcard"</span>)</span><br><span class="line">        body.put(<span class="string">"enable_id_trans"</span>, <span class="number">0</span>)</span><br><span class="line">        body.put(<span class="string">"enable_duplicate_check"</span>, <span class="number">0</span>)</span><br><span class="line">        body.put(<span class="string">"duplicate_check_interval"</span>, <span class="number">1800</span>)</span><br><span class="line">        body.put(<span class="string">"textcard"</span>, textcard)</span><br><span class="line"></span><br><span class="line">        Object res = kong.unirest.Unirest.post(<span class="string">"http://push.domain.cn/wechat/push/cp001"</span>).</span><br><span class="line">                header(<span class="string">"token"</span>, <span class="string">"test"</span>).</span><br><span class="line">                header(<span class="string">"accept"</span>, <span class="string">"*/*"</span>).header(<span class="string">"content-type"</span>, <span class="string">"application/json"</span>).body(body).</span><br><span class="line">                asJson().getBody().</span><br><span class="line">                getObject()</span><br><span class="line">manager.listener.logger.println(res)</span><br></pre></td></tr></tbody></table></figure>





]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>ops</tag>
        <tag>jenkins</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux å®‰è£…å®‰å“ç¯å¢ƒ</title>
    <url>/2022/02/08/os/linux/centos/7/android/</url>
    <content><![CDATA[<h1 id="å®‰è£…ndk"><a href="#å®‰è£…ndk" class="headerlink" title="å®‰è£…ndk"></a>å®‰è£…ndk</h1><figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">sdkmanager <span class="string">'ndk;21.2.6472646'</span></span><br></pre></td></tr></tbody></table></figure>

<h1 id="å®‰è£…android-sdk"><a href="#å®‰è£…android-sdk" class="headerlink" title="å®‰è£…android-sdk"></a>å®‰è£…android-sdk</h1><p>1.ä¸‹è½½sdk-tools-linux-4333796.zip</p>
<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">[root@CentOS-Master share]<span class="comment"># wget https://dl.google.com/android/repository/sdk-tools-linux-4333796.zip</span></span><br><span class="line">[root@CentOS-Master share]<span class="comment"># unzip sdk-tools-linux-4333796.zip -d android-sdk</span></span><br><span class="line">[root@CentOS-Master share]<span class="comment"># cd android-sdk</span></span><br><span class="line">[root@CentOS-Master android-sdk]<span class="comment"># ls</span></span><br><span class="line"> tools</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>



<h1 id="é…ç½®androidç¯å¢ƒå˜é‡"><a href="#é…ç½®androidç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®androidç¯å¢ƒå˜é‡"></a>é…ç½®androidç¯å¢ƒå˜é‡</h1><figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">[root@CentOS-Master android-sdk]<span class="comment"># vim /etc/profile</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¾“å…¥ç„¶åä¿å­˜</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> ANDROID_HOME=<span class="string">"/usr/share/android-sdk"</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">"<span class="variable">$ANDROID_HOME</span>/tools:<span class="variable">$ANDROID_HOME</span>/tools/bin:<span class="variable">$ANDROID_HOME</span>/platform-tools:<span class="variable">$PATH</span>"</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>ä¿å­˜é…ç½®ï¼Œé‡æ–°åˆ·æ–°é…ç½®</p>
<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">[root@CentOS-Master android-sdk]<span class="comment"># source profile</span></span><br></pre></td></tr></tbody></table></figure>

<p>å®‰è£…build-toolsï¼Œplatform-toolsï¼Œplatformsçš„25.0.2ç‰ˆæœ¬<br>é¦–å…ˆè¿è¡Œï¼šsdkmanager â€“list</p>
<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">[root@CentOS-Master android-sdk]<span class="comment"># sdkmanager --list</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">sdkmanager <span class="string">"build-tools;29.0.3"</span> <span class="string">"platforms;android-29"</span> <span class="string">"ndk-bundle"</span> <span class="string">"extras;android;m2repository"</span> <span class="string">"extras;google;m2repository"</span> <span class="string">"extras;m2repository;com;android;support;constraint;constraint-layout;1.0.2"</span> <span class="string">"tools"</span></span><br></pre></td></tr></tbody></table></figure>


<h1 id="å®‰è£…JDK"><a href="#å®‰è£…JDK" class="headerlink" title="å®‰è£…JDK"></a>å®‰è£…JDK</h1><p>ä¸‹è½½å‹ç¼©åŒ…å¹¶é…ç½®ç¯å¢ƒå˜é‡</p>
<p>ä¿å­˜é…ç½®ï¼Œé‡æ–°åˆ·æ–°é…ç½®</p>
<figure class="highlight profile"><table><tbody><tr><td class="code"><pre><span class="line">export GRADLE_USER_HOME=/data/.libs/gradle</span><br><span class="line"></span><br><span class="line">export JAVA_HOME=/data/services/jdk/<span class="number">11.0</span><span class="number">.5</span></span><br><span class="line">export MAVEN_HOME=/data/services/maven/<span class="number">3.6</span><span class="number">.3</span></span><br><span class="line">export GRADLE_HOME=/data/services/gradle/<span class="number">6.3</span></span><br><span class="line"></span><br><span class="line">export ANDROID_HOME=/data/services/android</span><br><span class="line"></span><br><span class="line">export NODE_HOME=/data/services/nodejs/v12.16.2</span><br><span class="line">export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib</span><br><span class="line"></span><br><span class="line">export PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$MAVEN_HOME/bin:$GRADLE_HOME/bin:$NODE_HOME/bin:$PATH</span><br><span class="line">export PATH=$ANDROID_HOME/tools:$ANDROID_HOME/tools/bin:$ANDROID_HOME/platform-tools:$PATH</span><br></pre></td></tr></tbody></table></figure>



<p>[root@CentOS-Master android-sdk]# source profile</p>
<h1 id="å®‰è£…Gradle"><a href="#å®‰è£…Gradle" class="headerlink" title="å®‰è£…Gradle"></a>å®‰è£…Gradle</h1><p>1.ä¸‹è½½Gradle-4.6.all.zipåŒ…</p>
<p>[root@CentOS-Master /]# cd /usr/share<br>[root@CentOS-Master share]# wget <a href="https://downloads.gradle.org/distributions/gradle-4.6-all.zip">https://downloads.gradle.org/distributions/gradle-4.6-all.zip</a></p>
<p>2.è§£å‹</p>
<p>unzip -D gradle-4.6-all.zip </p>
<p>3.é…ç½®ç¯å¢ƒå˜é‡</p>
<p>[root@CentOS-Master android-sdk]# vim /etc/profile</p>
<p>è¾“å…¥ç„¶åä¿å­˜</p>
<p>export GRADLE_HOME=/usr/share/gradle-4.6<br>export PATH=$PATH:$GRADLE_HOME/bin</p>
<p>ä¿å­˜é…ç½®ï¼Œé‡æ–°åˆ·æ–°é…ç½®</p>
<p>[root@CentOS-Master android-sdk]# source profile</p>
<h1 id="ä½¿ç”¨Jenkinsé…ç½®æ‰“åŒ…Androidå·¥ç¨‹"><a href="#ä½¿ç”¨Jenkinsé…ç½®æ‰“åŒ…Androidå·¥ç¨‹" class="headerlink" title="ä½¿ç”¨Jenkinsé…ç½®æ‰“åŒ…Androidå·¥ç¨‹"></a>ä½¿ç”¨Jenkinsé…ç½®æ‰“åŒ…Androidå·¥ç¨‹</h1><p>ç³»ç»Ÿç®¡ç†-ç³»ç»Ÿè®¾ç½®ï¼Œ æ·»åŠ ANDROID_HOME</p>
<p>ç³»ç»Ÿè®¾ç½®-å…¨å±€å·¥å…·é…ç½®ï¼Œ æ·»åŠ SDKï¼ŒGradle</p>
<p>2.åˆ›å»ºä»»åŠ¡, è¾“å…¥ä»»åŠ¡åç§°ï¼Œé€‰æ‹©è‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®</p>
<p>æ„å»ºå‚æ•°</p>
<p>å‚æ•°åŒ–æ„å»ºè¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥å¢åŠ ä¸€äº›å‚æ•°æ¥æ§åˆ¶è‡ªå·±çš„é¡¹ç›®çš„æ„å»ºï¼Œè¿™é‡Œå¯¹åº”çš„å˜é‡æ˜¯å·¥ç¨‹ä¸‹é¢çš„gradle.propertiesé‡Œé¢å®šä¹‰çš„ï¼Œç„¶åbuild.gradleè„šæœ¬ä¼šé‡‡ç”¨è¿™é‡Œé…ç½®çš„å»åŠ¨æ€æ„å»ºå·¥ç¨‹ï¼Œæ³¨æ„ä¸€å®šè¦ä¸propertiesæ–‡ä»¶ä¸­ä¸€ä¸€å¯¹åº”ã€‚<br>å¦‚æœæ²¡æœ‰å®‰è£…Git Parameter æ’ä»¶ï¼Œå…ˆåˆ°ç³»ç»Ÿç®¡ç†â€“æ’ä»¶ç®¡ç†å®‰è£…</p>
<p>æºç ç®¡ç†<br>è¿™ä¸ªtabä¸‹é¢ä¸»è¦å°±æ˜¯ç”¨æ¥æŒ‡å®šæºç å­˜æ”¾ä½ç½®çš„</p>
<p>æ„å»ºï¼Œé€‰æ‹©use gradle wrapper ï¼Œ å¡«å†™Tasks<br>clean<br>assemble$BUILD_TYPE</p>
<p>ç‚¹å¼€é«˜çº§ï¼šPass all job parameters as Project propertiesï¼Œä¸€å®šè¦å‹¾é€‰è¿™ä¸ªé€‰é¡¹ï¼Œä»£è¡¨æŠŠä½ ä¸Šé¢çš„é‚£äº›å‚æ•°ç”¨æ¥å½“ä½œgradleæ„å»ºå‚æ•°ï¼Œå¦åˆ™çš„è¯æ˜¯ä¸ä¼šèµ·ä½œç”¨çš„ã€‚<br>6.æ„å»ºåæ“ä½œï¼Œè¾“å‡ºæ–‡ä»¶</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œæœ±å»ºä¼Ÿã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/weijizhu1000/java/article/details/95752438">https://blog.csdn.net/weijizhu1000/java/article/details/95752438</a></p>
]]></content>
      <categories>
        <category>Linux</category>
        <category>Centos</category>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title>Python å®‰è£…</title>
    <url>/2022/02/08/os/linux/centos/8/python/</url>
    <content><![CDATA[<h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><p><strong>å‰è¨€</strong></p>
<p>Pythonæ˜¯ä¸–ç•Œä¸Šæœ€å—æ¬¢è¿çš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ï¼Œå‡­å€Ÿå…¶ç®€å•æ˜“å­¦çš„è¯­æ³•ï¼ŒPythonæ˜¯åˆå­¦è€…å’Œç»éªŒä¸°å¯Œçš„å¼€å‘äººå‘˜çš„æµè¡Œé€‰æ‹©ã€‚</p>
<p>å½“å‰æœ‰ä¸¤ä¸ªPythonç‰ˆæœ¬æ­£åœ¨ç§¯æå¼€å‘ä¸­ï¼Œå°½ç®¡Python 2å¾—åˆ°äº†è‰¯å¥½çš„æ”¯æŒå’Œæ´»è·ƒï¼Œä½†Python 3è¢«åº”ç”¨å¾—æ›´å¤šï¼Œä¹Ÿæ›´ä¸ºé«˜æ•ˆï¼Œå‚è€ƒ<a href="https://ywnz.com/linuxrj/5990.html">Python 3.8.0å‘å¸ƒï¼Œå·²æä¾›Python-3.8.0.tgzä¸‹è½½ï¼Œé™„æ›´æ–°åŠŸèƒ½</a>ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒRHEL/CentOS 8æ²¡æœ‰æœªç‰ˆæœ¬æ§åˆ¶çš„å…¨ç³»ç»Ÿpythonå‘½ä»¤ï¼Œä»¥é¿å…å°†ç”¨æˆ·é”å®šåˆ°ç‰¹å®šç‰ˆæœ¬çš„Pythonã€‚ç›¸åï¼Œå®ƒä½¿ç”¨æˆ·å¯ä»¥é€‰æ‹©å®‰è£…ã€é…ç½®å’Œè¿è¡Œç‰¹å®šçš„Pythonç‰ˆæœ¬ï¼Œç³»ç»Ÿå·¥å…·ï¼ˆä¾‹å¦‚yumï¼‰ä½¿ç”¨å†…éƒ¨PythonäºŒè¿›åˆ¶æ–‡ä»¶å’Œåº“ã€‚</p>
<p>æœ¬æ–‡å°†å¼•å¯¼ä½ é€æ­¥åœ¨CentOS 8æ“ä½œç³»ç»Ÿä¸Šå®‰è£…Python 3å’ŒPython 2ã€‚</p>
<p><strong>åœ¨CentOS 8ä¸Šå®‰è£…Python 3</strong></p>
<p>è¦åœ¨CentOS 8ä¸Šå®‰è£…Python 3ï¼Œè¯·ä»¥rootæˆ–sudoç”¨æˆ·èº«ä»½åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo dnf install python3</span></span><br></pre></td></tr></tbody></table></figure>
<p>è¦éªŒè¯å®‰è£…ï¼Œè¯·è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥Pythonç‰ˆæœ¬ï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">python3 --version</span></span><br></pre></td></tr></tbody></table></figure>
<p>å‚è€ƒï¼š<a href="https://ywnz.com/linuxjc/5833.html">åœ¨Linuxç³»ç»Ÿä¸­æ£€æŸ¥Pythonç‰ˆæœ¬ï¼ˆPython Versionï¼‰çš„æ–¹æ³•</a>ã€‚</p>
<p>åœ¨é€‰å†™æœ¬æ–‡æ—¶ï¼ŒCentOSå­˜å‚¨åº“ä¸­å¯ç”¨çš„Python 3çš„æœ€æ–°ç‰ˆæœ¬æ˜¯â€œ3.6.xâ€ï¼š</p>
<p>Python 3.6.8</p>
<p>æ³¨ï¼šè¯¥å‘½ä»¤è¿˜ä¼šå®‰è£…pipã€‚</p>
<p>è¦è¿è¡ŒPythonï¼Œä½ éœ€è¦æ˜ç¡®è¾“å…¥python3å¹¶è¿è¡Œpipè¾“å…¥pip3ã€‚</p>
<p>ä½ åº”è¯¥å§‹ç»ˆå–œæ¬¢ä½¿ç”¨yumæˆ–dnfå®‰è£…å‘è¡Œç‰ˆæä¾›çš„pythonæ¨¡å—ï¼Œå› ä¸ºå®ƒä»¬å—æ”¯æŒå¹¶ç»è¿‡æµ‹è¯•å¯ä»¥åœ¨CentOS 8ä¸Šæ­£å¸¸å·¥ä½œï¼Œä»…åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨pipï¼ŒPythonè™šæ‹Ÿç¯å¢ƒå…è®¸ä½ å°†Pythonæ¨¡å—å®‰è£…åœ¨ç‰¹å®šé¡¹ç›®çš„éš”ç¦»ä½ç½®ï¼Œè€Œä¸å¿…å…¨å±€å®‰è£…ï¼Œè¿™æ ·ï¼Œä½ ä¸å¿…æ‹…å¿ƒä¼šå½±å“å…¶ä»–Pythoné¡¹ç›®ã€‚</p>
<p>Python 3æ¨¡å—è½¯ä»¶åŒ…çš„åç§°ä»¥â€œpython3â€ä¸ºå‰ç¼€ï¼Œä¾‹å¦‚ï¼Œè¦å®‰è£…paramikoæ¨¡å—ï¼Œåº”è¿è¡Œï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo dnf install python3-paramiko</span></span><br></pre></td></tr></tbody></table></figure>


<p><strong>åœ¨CentOS 8ä¸Šå®‰è£…Python 2</strong></p>
<p>Python 2è½¯ä»¶åŒ…ä¹ŸåŒ…å«åœ¨é»˜è®¤çš„CentOS 8å­˜å‚¨åº“ä¸­ã€‚</p>
<p>è¦å®‰è£…Python 2ï¼Œè¯·è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo dnf install python2</span></span><br></pre></td></tr></tbody></table></figure>
<p>é€šè¿‡é”®å…¥ä»¥ä¸‹å‘½ä»¤éªŒè¯å®‰è£…ï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">python2 --version</span></span><br></pre></td></tr></tbody></table></figure>
<p>è¾“å‡ºåº”å¦‚ä¸‹æ‰€ç¤ºå†…å®¹ï¼š</p>
<p>Python 2.7.15</p>
<p>è¦æ‰§è¡ŒPython 2ï¼Œè¯·è¾“å…¥python2ï¼Œç„¶åè¿è¡Œpipå¹¶è¾“å…¥pip2ã€‚</p>
<p><strong>è®¾ç½®é»˜è®¤Pythonç‰ˆæœ¬ï¼ˆUnversioned Pythonå‘½ä»¤ï¼‰</strong></p>
<p>å¦‚æœä½ æœ‰å¸Œæœ›åœ¨ç³»ç»Ÿè·¯å¾„ä¸­æ‰¾åˆ°pythonå‘½ä»¤çš„åº”ç”¨ç¨‹åºï¼Œåˆ™éœ€è¦åˆ›å»ºunversioned pythonå‘½ä»¤å¹¶è®¾ç½®é»˜è®¤ç‰ˆæœ¬ã€‚</p>
<p>è¦å°†Python 3è®¾ç½®ä¸ºç³»ç»ŸèŒƒå›´å†…çš„éç‰ˆæœ¬åŒ–pythonå‘½ä»¤ï¼Œè¯·ä½¿ç”¨Alternativeså®ç”¨ç¨‹åºï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo alternatives --<span class="built_in">set</span> python /usr/bin/python3</span></span><br></pre></td></tr></tbody></table></figure>
<p>å¯¹äºPython 2ï¼Œè¾“å…¥ï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo alternatives --<span class="built_in">set</span> python /usr/bin/python2</span></span><br></pre></td></tr></tbody></table></figure>
<p>Alternativeså‘½ä»¤åˆ›å»ºä¸€ä¸ªæŒ‡å‘æŒ‡å®špythonç‰ˆæœ¬çš„symlink pythonã€‚</p>
<p>åœ¨ç»ˆç«¯ä¸­é”®å…¥python â€“versionï¼Œä½ åº”è¯¥çœ‹åˆ°é»˜è®¤çš„Pythonç‰ˆæœ¬ã€‚</p>
<p>è¦æ›´æ”¹é»˜è®¤ç‰ˆæœ¬ï¼Œè¯·ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤ä¹‹ä¸€ï¼Œå¦‚æœè¦åˆ é™¤æœªç‰ˆæœ¬æ§åˆ¶çš„pythonå‘½ä»¤ï¼Œè¯·è¾“å…¥ï¼š</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo alternatives --auto python</span></span><br></pre></td></tr></tbody></table></figure>


<p><strong>ç»“è®º</strong></p>
<p>åœ¨CentOS 8æ“ä½œç³»ç»Ÿä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹æœªå®‰è£…Pythonï¼Œå¦‚æœæœ‰éœ€è¦ï¼ŒæŒ‰ç…§ä»¥ä¸Šæ–¹æ³•æ“ä½œå³å¯ã€‚</p>
<p>å¦‚æœåšä¸€ä¸ªæ€»ç»“çš„è¯ï¼Œé‚£å°±æ˜¯ï¼šè¦å®‰è£…Python 3ï¼Œè¯·é”®å…¥dnf install python3ï¼Œå¦‚æœæ˜¯å®‰è£…python 2ï¼Œè¯·é”®å…¥dnf install python2ã€‚</p>
<p><a href="https://ywnz.com/linuxjc/6033.html">https://ywnz.com/linuxjc/6033.html</a></p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>ops</tag>
        <tag>jenkins</tag>
      </tags>
  </entry>
  <entry>
    <title>Centos7 å¼€æœºå¯åŠ¨</title>
    <url>/2022/02/08/os/linux/centos/7/autostart/</url>
    <content><![CDATA[<p>vim /lib/systemd/system/xx.service</p>
<figure class="highlight ini"><table><tbody><tr><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=dflc start up</span><br><span class="line"><span class="attr">After</span>=network.target remote-fs.target nss-lookup.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=forking</span><br><span class="line"><span class="attr">ExecStart</span>=/user/jar/xx-start.sh</span><br><span class="line"><span class="attr">KillSignal</span>=SIGQUIT</span><br><span class="line"><span class="attr">TimeoutStopSec</span>=<span class="number">5</span></span><br><span class="line"><span class="attr">KillMode</span>=process</span><br><span class="line"><span class="attr">PrivateTmp</span>=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#3ã€è®¾ç½®å¼€æœºå¯åŠ¨</span></span><br><span class="line">systemctl <span class="built_in">enable</span> xx</span><br><span class="line"><span class="comment">#4ã€å–æ¶ˆå¼€æœºå¯åŠ¨</span></span><br><span class="line">systemctl <span class="built_in">disable</span> xx</span><br><span class="line"><span class="comment">#5ã€å¯åŠ¨é¡¹ç›®</span></span><br><span class="line">systemctl start xx</span><br><span class="line"><span class="comment">#5ã€æŸ¥çœ‹å¯åŠ¨çŠ¶æ€æ—¥å¿—</span></span><br><span class="line">journalctl -xe</span><br><span class="line"><span class="comment">#6ã€åœæ­¢è¿è¡Œçš„é¡¹ç›®</span></span><br><span class="line">systemctl <span class="built_in">kill</span> xxï¼ˆå› ä¸ºä¸Šé¢åªé…ç½®äº†killsignalï¼‰</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
        <category>Centos</category>
        <category>7</category>
      </categories>
  </entry>
  <entry>
    <title>Redis å®‰è£…ä½¿ç”¨</title>
    <url>/2022/02/08/service/cache/redis/redis-in-docker/</url>
    <content><![CDATA[<h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><p><a href="https://www.redis.net.cn/">æ–‡æ¡£</a></p>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3'</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">redis:</span>  </span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">redis</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">redis-server</span> <span class="string">/etc/redis.conf</span> <span class="comment"># å¯åŠ¨rediså‘½ä»¤</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/etc/localtime:/etc/localtime:ro</span> <span class="comment"># è®¾ç½®å®¹å™¨æ—¶åŒºä¸å®¿ä¸»æœºä¿æŒä¸€è‡´</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data/:/data</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./conf/redis.conf:/etc/redis.conf</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./logs:/logs</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"6379:6379"</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>conf/redis.conf</strong></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Redisé…ç½®æ–‡ä»¶æ ·ä¾‹</span><br><span class="line"></span><br><span class="line"># Note on units: when memory size is needed, it is possible to specifiy</span><br><span class="line"># it in the usual form of 1k 5GB 4M and so forth:</span><br><span class="line">#</span><br><span class="line"># 1k =&gt; 1000 bytes</span><br><span class="line"># 1kb =&gt; 1024 bytes</span><br><span class="line"># 1m =&gt; 1000000 bytes</span><br><span class="line"># 1mb =&gt; 1024*1024 bytes</span><br><span class="line"># 1g =&gt; 1000000000 bytes</span><br><span class="line"># 1gb =&gt; 1024*1024*1024 bytes</span><br><span class="line">#</span><br><span class="line"># units are case insensitive so 1GB 1Gb 1gB are all the same.</span><br><span class="line"></span><br><span class="line"># Redisé»˜è®¤ä¸æ˜¯ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œå¯ä»¥é€šè¿‡è¯¥é…ç½®é¡¹ä¿®æ”¹ï¼Œä½¿ç”¨yeså¯ç”¨å®ˆæŠ¤è¿›ç¨‹</span><br><span class="line"># å¯ç”¨å®ˆæŠ¤è¿›ç¨‹åï¼ŒRedisä¼šæŠŠpidå†™åˆ°ä¸€ä¸ªpidfileä¸­ï¼Œåœ¨/var/run/redis.pid</span><br><span class="line">daemonize no</span><br><span class="line"></span><br><span class="line"># å½“Redisä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œæ—¶ï¼ŒRedisé»˜è®¤ä¼šæŠŠpidå†™å…¥/var/run/redis.pidæ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡pidfileæŒ‡å®š</span><br><span class="line">pidfile /var/run/redis.pid</span><br><span class="line"></span><br><span class="line"># æŒ‡å®šRedisç›‘å¬ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º6379</span><br><span class="line"># å¦‚æœæŒ‡å®š0ç«¯å£ï¼Œè¡¨ç¤ºRedisä¸ç›‘å¬TCPè¿æ¥</span><br><span class="line">port 6379</span><br><span class="line"></span><br><span class="line"># ç»‘å®šçš„ä¸»æœºåœ°å€</span><br><span class="line"># ä½ å¯ä»¥ç»‘å®šå•ä¸€æ¥å£ï¼Œå¦‚æœæ²¡æœ‰ç»‘å®šï¼Œæ‰€æœ‰æ¥å£éƒ½ä¼šç›‘å¬åˆ°æ¥çš„è¿æ¥</span><br><span class="line"># bind 127.0.0.1</span><br><span class="line"></span><br><span class="line"># Specify the path for the unix socket that will be used to listen for</span><br><span class="line"># incoming connections. There is no default, so Redis will not listen</span><br><span class="line"># on a unix socket when not specified.</span><br><span class="line">#</span><br><span class="line"># unixsocket /tmp/redis.sock</span><br><span class="line"># unixsocketperm 755</span><br><span class="line"></span><br><span class="line"># å½“å®¢æˆ·ç«¯é—²ç½®å¤šé•¿æ—¶é—´åå…³é—­è¿æ¥ï¼Œå¦‚æœæŒ‡å®šä¸º0ï¼Œè¡¨ç¤ºå…³é—­è¯¥åŠŸèƒ½</span><br><span class="line">timeout 0</span><br><span class="line"></span><br><span class="line"># æŒ‡å®šæ—¥å¿—è®°å½•çº§åˆ«ï¼ŒRedisæ€»å…±æ”¯æŒå››ä¸ªçº§åˆ«ï¼šdebugã€verboseã€noticeã€warningï¼Œé»˜è®¤ä¸ºverbose</span><br><span class="line"># debug (å¾ˆå¤šä¿¡æ¯, å¯¹å¼€å‘ï¼æµ‹è¯•æ¯”è¾ƒæœ‰ç”¨)</span><br><span class="line"># verbose (many rarely useful info, but not a mess like the debug level)</span><br><span class="line"># notice (moderately verbose, what you want in production probably)</span><br><span class="line"># warning (only very important / critical messages are logged)</span><br><span class="line">loglevel verbose</span><br><span class="line"></span><br><span class="line"># æ—¥å¿—è®°å½•æ–¹å¼ï¼Œé»˜è®¤ä¸ºæ ‡å‡†è¾“å‡ºï¼Œå¦‚æœé…ç½®ä¸ºredisä¸ºå®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œï¼Œè€Œè¿™é‡Œåˆé…ç½®ä¸ºæ ‡å‡†è¾“å‡ºï¼Œåˆ™æ—¥å¿—å°†ä¼šå‘é€ç»™/dev/null</span><br><span class="line">logfile /logs/redis.log</span><br><span class="line"></span><br><span class="line"># To enable logging to the system logger, just set 'syslog-enabled' to yes,</span><br><span class="line"># and optionally update the other syslog parameters to suit your needs.</span><br><span class="line"># syslog-enabled no</span><br><span class="line"></span><br><span class="line"># Specify the syslog identity.</span><br><span class="line"># syslog-ident redis</span><br><span class="line"></span><br><span class="line"># Specify the syslog facility.  Must be USER or between LOCAL0-LOCAL7.</span><br><span class="line"># syslog-facility local0</span><br><span class="line"></span><br><span class="line"># è®¾ç½®æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤æ•°æ®åº“ä¸º0ï¼Œå¯ä»¥ä½¿ç”¨select &lt;dbid&gt;å‘½ä»¤åœ¨è¿æ¥ä¸ŠæŒ‡å®šæ•°æ®åº“id</span><br><span class="line"># dbidæ˜¯ä»0åˆ°â€˜databasesâ€™-1çš„æ•°ç›®</span><br><span class="line">databases 64 </span><br><span class="line"></span><br><span class="line">################################ SNAPSHOTTING  #################################</span><br><span class="line"># æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´å†…ï¼Œæœ‰å¤šå°‘æ¬¡æ›´æ–°æ“ä½œï¼Œå°±å°†æ•°æ®åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å¤šä¸ªæ¡ä»¶é…åˆ</span><br><span class="line"># Save the DB on disk:</span><br><span class="line">#</span><br><span class="line">#   save &lt;seconds&gt; &lt;changes&gt;</span><br><span class="line">#</span><br><span class="line">#   Will save the DB if both the given number of seconds and the given</span><br><span class="line">#   number of write operations against the DB occurred.</span><br><span class="line">#</span><br><span class="line">#   æ»¡è¶³ä»¥ä¸‹æ¡ä»¶å°†ä¼šåŒæ­¥æ•°æ®:</span><br><span class="line">#   900ç§’ï¼ˆ15åˆ†é’Ÿï¼‰å†…æœ‰1ä¸ªæ›´æ”¹</span><br><span class="line">#   300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰å†…æœ‰10ä¸ªæ›´æ”¹</span><br><span class="line">#   60ç§’å†…æœ‰10000ä¸ªæ›´æ”¹</span><br><span class="line">#   Note: å¯ä»¥æŠŠæ‰€æœ‰â€œsaveâ€è¡Œæ³¨é‡Šæ‰ï¼Œè¿™æ ·å°±å–æ¶ˆåŒæ­¥æ“ä½œäº†</span><br><span class="line"></span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br><span class="line"></span><br><span class="line"># æŒ‡å®šå­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦å‹ç¼©æ•°æ®ï¼Œé»˜è®¤ä¸ºyesï¼ŒRedisé‡‡ç”¨LZFå‹ç¼©ï¼Œå¦‚æœä¸ºäº†èŠ‚çœCPUæ—¶é—´ï¼Œå¯ä»¥å…³é—­è¯¥é€‰é¡¹ï¼Œä½†ä¼šå¯¼è‡´æ•°æ®åº“æ–‡ä»¶å˜çš„å·¨å¤§</span><br><span class="line">rdbcompression yes</span><br><span class="line"></span><br><span class="line"># æŒ‡å®šæœ¬åœ°æ•°æ®åº“æ–‡ä»¶åï¼Œé»˜è®¤å€¼ä¸ºdump.rdb</span><br><span class="line">dbfilename dump.rdb</span><br><span class="line"></span><br><span class="line"># å·¥ä½œç›®å½•.</span><br><span class="line"># æŒ‡å®šæœ¬åœ°æ•°æ®åº“å­˜æ”¾ç›®å½•ï¼Œæ–‡ä»¶åç”±ä¸Šä¸€ä¸ªdbfilenameé…ç½®é¡¹æŒ‡å®š</span><br><span class="line">#</span><br><span class="line"># Also the Append Only File will be created inside this directory.</span><br><span class="line">#</span><br><span class="line"># æ³¨æ„ï¼Œè¿™é‡Œåªèƒ½æŒ‡å®šä¸€ä¸ªç›®å½•ï¼Œä¸èƒ½æŒ‡å®šæ–‡ä»¶å</span><br><span class="line">dir ./</span><br><span class="line"></span><br><span class="line">################################# REPLICATION #################################</span><br><span class="line"></span><br><span class="line"># ä¸»ä»å¤åˆ¶ã€‚ä½¿ç”¨slaveofä» RedisæœåŠ¡å™¨å¤åˆ¶ä¸€ä¸ªRediså®ä¾‹ã€‚æ³¨æ„ï¼Œè¯¥é…ç½®ä»…é™äºå½“å‰slaveæœ‰æ•ˆ</span><br><span class="line"># so for example it is possible to configure the slave to save the DB with a</span><br><span class="line"># different interval, or to listen to another port, and so on.</span><br><span class="line"># è®¾ç½®å½“æœ¬æœºä¸ºslavæœåŠ¡æ—¶ï¼Œè®¾ç½®masteræœåŠ¡çš„ipåœ°å€åŠç«¯å£ï¼Œåœ¨Rediså¯åŠ¨æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ä»masterè¿›è¡Œæ•°æ®åŒæ­¥</span><br><span class="line"># slaveof &lt;masterip&gt; &lt;masterport&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># å½“masteræœåŠ¡è®¾ç½®äº†å¯†ç ä¿æŠ¤æ—¶ï¼ŒslavæœåŠ¡è¿æ¥masterçš„å¯†ç </span><br><span class="line"># ä¸‹æ–‡çš„â€œrequirepassâ€é…ç½®é¡¹å¯ä»¥æŒ‡å®šå¯†ç </span><br><span class="line"># masterauth &lt;master-password&gt;</span><br><span class="line"></span><br><span class="line"># When a slave lost the connection with the master, or when the replication</span><br><span class="line"># is still in progress, the slave can act in two different ways:</span><br><span class="line">#</span><br><span class="line"># 1) if slave-serve-stale-data is set to 'yes' (the default) the slave will</span><br><span class="line">#    still reply to client requests, possibly with out of data data, or the</span><br><span class="line">#    data set may just be empty if this is the first synchronization.</span><br><span class="line">#</span><br><span class="line"># 2) if slave-serve-stale data is set to 'no' the slave will reply with</span><br><span class="line">#    an error "SYNC with master in progress" to all the kind of commands</span><br><span class="line">#    but to INFO and SLAVEOF.</span><br><span class="line">#</span><br><span class="line">slave-serve-stale-data yes</span><br><span class="line"></span><br><span class="line"># Slaves send PINGs to server in a predefined interval. It's possible to change</span><br><span class="line"># this interval with the repl_ping_slave_period option. The default value is 10</span><br><span class="line"># seconds.</span><br><span class="line">#</span><br><span class="line"># repl-ping-slave-period 10</span><br><span class="line"></span><br><span class="line"># The following option sets a timeout for both Bulk transfer I/O timeout and</span><br><span class="line"># master data or ping response timeout. The default value is 60 seconds.</span><br><span class="line">#</span><br><span class="line"># It is important to make sure that this value is greater than the value</span><br><span class="line"># specified for repl-ping-slave-period otherwise a timeout will be detected</span><br><span class="line"># every time there is low traffic between the master and the slave.</span><br><span class="line">#</span><br><span class="line"># repl-timeout 60</span><br><span class="line"></span><br><span class="line">################################## SECURITY ###################################</span><br><span class="line"></span><br><span class="line"># Warning: since Redis is pretty fast an outside user can try up to</span><br><span class="line"># 150k passwords per second against a good box. This means that you should</span><br><span class="line"># use a very strong password otherwise it will be very easy to break.</span><br><span class="line"># è®¾ç½®Redisè¿æ¥å¯†ç ï¼Œå¦‚æœé…ç½®äº†è¿æ¥å¯†ç ï¼Œå®¢æˆ·ç«¯åœ¨è¿æ¥Redisæ—¶éœ€è¦é€šè¿‡auth &lt;password&gt;å‘½ä»¤æä¾›å¯†ç ï¼Œé»˜è®¤å…³é—­</span><br><span class="line">requirepass foo</span><br><span class="line"># Command renaming.</span><br><span class="line">#</span><br><span class="line"># It is possilbe to change the name of dangerous commands in a shared</span><br><span class="line"># environment. For instance the CONFIG command may be renamed into something</span><br><span class="line"># of hard to guess so that it will be still available for internal-use</span><br><span class="line"># tools but not available for general clients.</span><br><span class="line">#</span><br><span class="line"># Example:</span><br><span class="line">#</span><br><span class="line"># rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52</span><br><span class="line">#</span><br><span class="line"># It is also possilbe to completely kill a command renaming it into</span><br><span class="line"># an empty string:</span><br><span class="line">#</span><br><span class="line"># rename-command CONFIG ""</span><br><span class="line"></span><br><span class="line">################################### LIMITS ####################################</span><br><span class="line"></span><br><span class="line"># è®¾ç½®åŒä¸€æ—¶é—´æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°ï¼Œé»˜è®¤æ— é™åˆ¶ï¼ŒRediså¯ä»¥åŒæ—¶æ‰“å¼€çš„å®¢æˆ·ç«¯è¿æ¥æ•°ä¸ºRedisè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ•°ï¼Œ</span><br><span class="line"># å¦‚æœè®¾ç½®maxclients 0ï¼Œè¡¨ç¤ºä¸ä½œé™åˆ¶ã€‚å½“å®¢æˆ·ç«¯è¿æ¥æ•°åˆ°è¾¾é™åˆ¶æ—¶ï¼ŒRedisä¼šå…³é—­æ–°çš„è¿æ¥å¹¶å‘å®¢æˆ·ç«¯è¿”å›max Number of clients reachedé”™è¯¯ä¿¡æ¯</span><br><span class="line"># maxclients 128</span><br><span class="line"></span><br><span class="line"># Don't use more memory than the specified amount of bytes.</span><br><span class="line"># When the memory limit is reached Redis will try to remove keys with an</span><br><span class="line"># EXPIRE set. It will try to start freeing keys that are going to expire</span><br><span class="line"># in little time and preserve keys with a longer time to live.</span><br><span class="line"># Redis will also try to remove objects from free lists if possible.</span><br><span class="line">#</span><br><span class="line"># If all this fails, Redis will start to reply with errors to commands</span><br><span class="line"># that will use more memory, like SET, LPUSH, and so on, and will continue</span><br><span class="line"># to reply to most read-only commands like GET.</span><br><span class="line">#</span><br><span class="line"># WARNING: maxmemory can be a good idea mainly if you want to use Redis as a</span><br><span class="line"># 'state' server or cache, not as a real DB. When Redis is used as a real</span><br><span class="line"># database the memory usage will grow over the weeks, it will be obvious if</span><br><span class="line"># it is going to use too much memory in the long run, and you'll have the time</span><br><span class="line"># to upgrade. With maxmemory after the limit is reached you'll start to get</span><br><span class="line"># errors for write operations, and this may even lead to DB inconsistency.</span><br><span class="line"># æŒ‡å®šRedisæœ€å¤§å†…å­˜é™åˆ¶ï¼ŒRedisåœ¨å¯åŠ¨æ—¶ä¼šæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè¾¾åˆ°æœ€å¤§å†…å­˜åï¼ŒRedisä¼šå…ˆå°è¯•æ¸…é™¤å·²åˆ°æœŸæˆ–å³å°†åˆ°æœŸçš„Keyï¼Œ</span><br><span class="line"># å½“æ­¤æ–¹æ³•å¤„ç†åï¼Œä»ç„¶åˆ°è¾¾æœ€å¤§å†…å­˜è®¾ç½®ï¼Œå°†æ— æ³•å†è¿›è¡Œå†™å…¥æ“ä½œï¼Œä½†ä»ç„¶å¯ä»¥è¿›è¡Œè¯»å–æ“ä½œã€‚</span><br><span class="line"># Redisæ–°çš„vmæœºåˆ¶ï¼Œä¼šæŠŠKeyå­˜æ”¾å†…å­˜ï¼ŒValueä¼šå­˜æ”¾åœ¨swapåŒº</span><br><span class="line"># maxmemory &lt;bytes&gt;</span><br><span class="line"></span><br><span class="line"># MAXMEMORY POLICY: how Redis will select what to remove when maxmemory</span><br><span class="line"># is reached? You can select among five behavior:</span><br><span class="line">#</span><br><span class="line"># volatile-lru -&gt; remove the key with an expire set using an LRU algorithm</span><br><span class="line"># allkeys-lru -&gt; remove any key accordingly to the LRU algorithm</span><br><span class="line"># volatile-random -&gt; remove a random key with an expire set</span><br><span class="line"># allkeys-&gt;random -&gt; remove a random key, any key</span><br><span class="line"># volatile-ttl -&gt; remove the key with the nearest expire time (minor TTL)</span><br><span class="line"># noeviction -&gt; don't expire at all, just return an error on write operations</span><br><span class="line">#</span><br><span class="line"># Note: with all the kind of policies, Redis will return an error on write</span><br><span class="line">#       operations, when there are not suitable keys for eviction.</span><br><span class="line">#</span><br><span class="line">#       At the date of writing this commands are: set setnx setex append</span><br><span class="line">#       incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd</span><br><span class="line">#       sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby</span><br><span class="line">#       zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby</span><br><span class="line">#       getset mset msetnx exec sort</span><br><span class="line">#</span><br><span class="line"># The default is:</span><br><span class="line">#</span><br><span class="line"># maxmemory-policy volatile-lru</span><br><span class="line"></span><br><span class="line"># LRU and minimal TTL algorithms are not precise algorithms but approximated</span><br><span class="line"># algorithms (in order to save memory), so you can select as well the sample</span><br><span class="line"># size to check. For instance for default Redis will check three keys and</span><br><span class="line"># pick the one that was used less recently, you can change the sample size</span><br><span class="line"># using the following configuration directive.</span><br><span class="line">#</span><br><span class="line"># maxmemory-samples 3</span><br><span class="line"></span><br><span class="line">############################## APPEND ONLY MODE ###############################</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"># Note that you can have both the async dumps and the append only file if you</span><br><span class="line"># like (you have to comment the "save" statements above to disable the dumps).</span><br><span class="line"># Still if append only mode is enabled Redis will load the data from the</span><br><span class="line"># log file at startup ignoring the dump.rdb file.</span><br><span class="line"># æŒ‡å®šæ˜¯å¦åœ¨æ¯æ¬¡æ›´æ–°æ“ä½œåè¿›è¡Œæ—¥å¿—è®°å½•ï¼ŒRedisåœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å¼‚æ­¥çš„æŠŠæ•°æ®å†™å…¥ç£ç›˜ï¼Œå¦‚æœä¸å¼€å¯ï¼Œå¯èƒ½ä¼šåœ¨æ–­ç”µæ—¶å¯¼è‡´ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®ä¸¢å¤±ã€‚</span><br><span class="line"># å› ä¸ºredisæœ¬èº«åŒæ­¥æ•°æ®æ–‡ä»¶æ˜¯æŒ‰ä¸Šé¢saveæ¡ä»¶æ¥åŒæ­¥çš„ï¼Œæ‰€ä»¥æœ‰çš„æ•°æ®ä¼šåœ¨ä¸€æ®µæ—¶é—´å†…åªå­˜åœ¨äºå†…å­˜ä¸­ã€‚é»˜è®¤ä¸ºno</span><br><span class="line"># IMPORTANT: Check the BGREWRITEAOF to check how to rewrite the append</span><br><span class="line"># log file in background when it gets too big.</span><br><span class="line"></span><br><span class="line">appendonly yes</span><br><span class="line"></span><br><span class="line"># æŒ‡å®šæ›´æ–°æ—¥å¿—æ–‡ä»¶åï¼Œé»˜è®¤ä¸ºappendonly.aof</span><br><span class="line"># appendfilename appendonly.aof</span><br><span class="line"></span><br><span class="line"># The fsync() call tells the Operating System to actually write data on disk</span><br><span class="line"># instead to wait for more data in the output buffer. Some OS will really flush</span><br><span class="line"># data on disk, some other OS will just try to do it ASAP.</span><br><span class="line"></span><br><span class="line"># æŒ‡å®šæ›´æ–°æ—¥å¿—æ¡ä»¶ï¼Œå…±æœ‰3ä¸ªå¯é€‰å€¼ï¼š</span><br><span class="line"># no:è¡¨ç¤ºç­‰æ“ä½œç³»ç»Ÿè¿›è¡Œæ•°æ®ç¼“å­˜åŒæ­¥åˆ°ç£ç›˜ï¼ˆå¿«ï¼‰</span><br><span class="line"># always:è¡¨ç¤ºæ¯æ¬¡æ›´æ–°æ“ä½œåæ‰‹åŠ¨è°ƒç”¨fsync()å°†æ•°æ®å†™åˆ°ç£ç›˜ï¼ˆæ…¢ï¼Œå®‰å…¨ï¼‰</span><br><span class="line"># everysec:è¡¨ç¤ºæ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼ˆæŠ˜è¡·ï¼Œé»˜è®¤å€¼ï¼‰</span><br><span class="line"></span><br><span class="line"># appendfsync no</span><br><span class="line"></span><br><span class="line"># When the AOF fsync policy is set to always or everysec, and a background</span><br><span class="line"># saving process (a background save or AOF log background rewriting) is</span><br><span class="line"># performing a lot of I/O against the disk, in some Linux configurations</span><br><span class="line"># Redis may block too long on the fsync() call. Note that there is no fix for</span><br><span class="line"># this currently, as even performing fsync in a different thread will block</span><br><span class="line"># our synchronous write(2) call.</span><br><span class="line">#</span><br><span class="line"># In order to mitigate this problem it's possible to use the following option</span><br><span class="line"># that will prevent fsync() from being called in the main process while a</span><br><span class="line"># BGSAVE or BGREWRITEAOF is in progress.</span><br><span class="line">#</span><br><span class="line"># This means that while another child is saving the durability of Redis is</span><br><span class="line"># the same as "appendfsync none", that in pratical terms means that it is</span><br><span class="line"># possible to lost up to 30 seconds of log in the worst scenario (with the</span><br><span class="line"># default Linux settings).</span><br><span class="line">#</span><br><span class="line"># If you have latency problems turn this to "yes". Otherwise leave it as</span><br><span class="line"># "no" that is the safest pick from the point of view of durability.</span><br><span class="line">no-appendfsync-on-rewrite no</span><br><span class="line"></span><br><span class="line"># Automatic rewrite of the append only file.</span><br><span class="line"># Redis is able to automatically rewrite the log file implicitly calling</span><br><span class="line"># BGREWRITEAOF when the AOF log size will growth by the specified percentage.</span><br><span class="line">#</span><br><span class="line"># This is how it works: Redis remembers the size of the AOF file after the</span><br><span class="line"># latest rewrite (or if no rewrite happened since the restart, the size of</span><br><span class="line"># the AOF at startup is used).</span><br><span class="line">#</span><br><span class="line"># This base size is compared to the current size. If the current size is</span><br><span class="line"># bigger than the specified percentage, the rewrite is triggered. Also</span><br><span class="line"># you need to specify a minimal size for the AOF file to be rewritten, this</span><br><span class="line"># is useful to avoid rewriting the AOF file even if the percentage increase</span><br><span class="line"># is reached but it is still pretty small.</span><br><span class="line">#</span><br><span class="line"># Specify a precentage of zero in order to disable the automatic AOF</span><br><span class="line"># rewrite feature.</span><br><span class="line"></span><br><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line">auto-aof-rewrite-min-size 64mb</span><br><span class="line"></span><br><span class="line">################################## SLOW LOG ###################################</span><br><span class="line"></span><br><span class="line"># The Redis Slow Log is a system to log queries that exceeded a specified</span><br><span class="line"># execution time. The execution time does not include the I/O operations</span><br><span class="line"># like talking with the client, sending the reply and so forth,</span><br><span class="line"># but just the time needed to actually execute the command (this is the only</span><br><span class="line"># stage of command execution where the thread is blocked and can not serve</span><br><span class="line"># other requests in the meantime).</span><br><span class="line">#</span><br><span class="line"># You can configure the slow log with two parameters: one tells Redis</span><br><span class="line"># what is the execution time, in microseconds, to exceed in order for the</span><br><span class="line"># command to get logged, and the other parameter is the length of the</span><br><span class="line"># slow log. When a new command is logged the oldest one is removed from the</span><br><span class="line"># queue of logged commands.</span><br><span class="line"></span><br><span class="line"># The following time is expressed in microseconds, so 1000000 is equivalent</span><br><span class="line"># to one second. Note that a negative number disables the slow log, while</span><br><span class="line"># a value of zero forces the logging of every command.</span><br><span class="line">slowlog-log-slower-than 10000</span><br><span class="line"></span><br><span class="line"># There is no limit to this length. Just be aware that it will consume memory.</span><br><span class="line"># You can reclaim memory used by the slow log with SLOWLOG RESET.</span><br><span class="line">slowlog-max-len 1024</span><br><span class="line"></span><br><span class="line">################################ VIRTUAL MEMORY ###############################</span><br><span class="line"></span><br><span class="line">### WARNING! Virtual Memory is deprecated in Redis 2.4</span><br><span class="line">### The use of Virtual Memory is strongly discouraged.</span><br><span class="line"></span><br><span class="line">### WARNING! Virtual Memory is deprecated in Redis 2.4</span><br><span class="line">### The use of Virtual Memory is strongly discouraged.</span><br><span class="line"></span><br><span class="line"># Virtual Memory allows Redis to work with datasets bigger than the actual</span><br><span class="line"># amount of RAM needed to hold the whole dataset in memory.</span><br><span class="line"># In order to do so very used keys are taken in memory while the other keys</span><br><span class="line"># are swapped into a swap file, similarly to what operating systems do</span><br><span class="line"># with memory pages.</span><br><span class="line"># æŒ‡å®šæ˜¯å¦å¯ç”¨è™šæ‹Ÿå†…å­˜æœºåˆ¶ï¼Œé»˜è®¤å€¼ä¸ºnoï¼Œ</span><br><span class="line"># VMæœºåˆ¶å°†æ•°æ®åˆ†é¡µå­˜æ”¾ï¼Œç”±Rediså°†è®¿é—®é‡è¾ƒå°‘çš„é¡µå³å†·æ•°æ®swapåˆ°ç£ç›˜ä¸Šï¼Œè®¿é—®å¤šçš„é¡µé¢ç”±ç£ç›˜è‡ªåŠ¨æ¢å‡ºåˆ°å†…å­˜ä¸­</span><br><span class="line"># æŠŠvm-enabledè®¾ç½®ä¸ºyesï¼Œæ ¹æ®éœ€è¦è®¾ç½®å¥½æ¥ä¸‹æ¥çš„ä¸‰ä¸ªVMå‚æ•°ï¼Œå°±å¯ä»¥å¯åŠ¨VMäº†</span><br><span class="line"># vm-enabled no</span><br><span class="line"># vm-enabled yes</span><br><span class="line"></span><br><span class="line"># This is the path of the Redis swap file. As you can guess, swap files</span><br><span class="line"># can't be shared by different Redis instances, so make sure to use a swap</span><br><span class="line"># file for every redis process you are running. Redis will complain if the</span><br><span class="line"># swap file is already in use.</span><br><span class="line">#</span><br><span class="line"># Redisäº¤æ¢æ–‡ä»¶æœ€å¥½çš„å­˜å‚¨æ˜¯SSDï¼ˆå›ºæ€ç¡¬ç›˜ï¼‰</span><br><span class="line"># è™šæ‹Ÿå†…å­˜æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤å€¼ä¸º/tmp/redis.swapï¼Œä¸å¯å¤šä¸ªRediså®ä¾‹å…±äº«</span><br><span class="line"># *** WARNING *** if you are using a shared hosting the default of putting</span><br><span class="line"># the swap file under /tmp is not secure. Create a dir with access granted</span><br><span class="line"># only to Redis user and configure Redis to create the swap file there.</span><br><span class="line"># vm-swap-file /tmp/redis.swap</span><br><span class="line"></span><br><span class="line"># With vm-max-memory 0 the system will swap everything it can. Not a good</span><br><span class="line"># default, just specify the max amount of RAM you can in bytes, but it's</span><br><span class="line"># better to leave some margin. For instance specify an amount of RAM</span><br><span class="line"># that's more or less between 60 and 80% of your free RAM.</span><br><span class="line"># å°†æ‰€æœ‰å¤§äºvm-max-memoryçš„æ•°æ®å­˜å…¥è™šæ‹Ÿå†…å­˜ï¼Œæ— è®ºvm-max-memoryè®¾ç½®å¤šå°‘ï¼Œæ‰€æœ‰ç´¢å¼•æ•°æ®éƒ½æ˜¯å†…å­˜å­˜å‚¨çš„ï¼ˆRedisçš„ç´¢å¼•æ•°æ®å°±æ˜¯keysï¼‰</span><br><span class="line"># ä¹Ÿå°±æ˜¯è¯´å½“vm-max-memoryè®¾ç½®ä¸º0çš„æ—¶å€™ï¼Œå…¶å®æ˜¯æ‰€æœ‰valueéƒ½å­˜åœ¨äºç£ç›˜ã€‚é»˜è®¤å€¼ä¸º0</span><br><span class="line"># vm-max-memory 0</span><br><span class="line"></span><br><span class="line"># Redis swapæ–‡ä»¶åˆ†æˆäº†å¾ˆå¤šçš„pageï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥ä¿å­˜åœ¨å¤šä¸ªpageä¸Šé¢ï¼Œä½†ä¸€ä¸ªpageä¸Šä¸èƒ½è¢«å¤šä¸ªå¯¹è±¡å…±äº«ï¼Œvm-page-sizeæ˜¯è¦æ ¹æ®å­˜å‚¨çš„æ•°æ®å¤§å°æ¥è®¾å®šçš„ã€‚</span><br><span class="line"># å»ºè®®å¦‚æœå­˜å‚¨å¾ˆå¤šå°å¯¹è±¡ï¼Œpageå¤§å°æœ€åè®¾ç½®ä¸º32æˆ–64bytesï¼›å¦‚æœå­˜å‚¨å¾ˆå¤§çš„å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ›´å¤§çš„pageï¼Œå¦‚æœä¸ç¡®å®šï¼Œå°±ä½¿ç”¨é»˜è®¤å€¼</span><br><span class="line"># vm-page-size 32</span><br><span class="line"></span><br><span class="line"># è®¾ç½®swapæ–‡ä»¶ä¸­çš„pageæ•°é‡ç”±äºé¡µè¡¨ï¼ˆä¸€ç§è¡¨ç¤ºé¡µé¢ç©ºé—²æˆ–ä½¿ç”¨çš„bitmapï¼‰æ˜¯å­˜æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œåœ¨ç£ç›˜ä¸Šæ¯8ä¸ªpageså°†æ¶ˆè€—1byteçš„å†…å­˜</span><br><span class="line"># swapç©ºé—´æ€»å®¹é‡ä¸º vm-page-size * vm-pages</span><br><span class="line">#</span><br><span class="line"># With the default of 32-bytes memory pages and 134217728 pages Redis will</span><br><span class="line"># use a 4 GB swap file, that will use 16 MB of RAM for the page table.</span><br><span class="line">#</span><br><span class="line"># It's better to use the smallest acceptable value for your application,</span><br><span class="line"># but the default is large in order to work in most conditions.</span><br><span class="line"># vm-pages 134217728</span><br><span class="line"></span><br><span class="line"># Max number of VM I/O threads running at the same time.</span><br><span class="line"># This threads are used to read/write data from/to swap file, since they</span><br><span class="line"># also encode and decode objects from disk to memory or the reverse, a bigger</span><br><span class="line"># number of threads can help with big objects even if they can't help with</span><br><span class="line"># I/O itself as the physical device may not be able to couple with many</span><br><span class="line"># reads/writes operations at the same time.</span><br><span class="line"># è®¾ç½®è®¿é—®swapæ–‡ä»¶çš„I/Oçº¿ç¨‹æ•°ï¼Œæœ€å¥½ä¸è¦è¶…è¿‡æœºå™¨çš„æ ¸æ•°ï¼Œå¦‚æœè®¾ç½®ä¸º0ï¼Œé‚£ä¹ˆæ‰€æœ‰å¯¹swapæ–‡ä»¶çš„æ“ä½œéƒ½æ˜¯ä¸²è¡Œçš„ï¼Œå¯èƒ½ä¼šé€ æˆæ¯”è¾ƒé•¿æ—¶é—´çš„å»¶è¿Ÿï¼Œé»˜è®¤å€¼ä¸º4</span><br><span class="line"># vm-max-threads 4</span><br><span class="line"></span><br><span class="line">############################### ADVANCED CONFIG ###############################</span><br><span class="line"></span><br><span class="line"># Hashes are encoded in a special way (much more memory efficient) when they</span><br><span class="line"># have at max a given numer of elements, and the biggest element does not</span><br><span class="line"># exceed a given threshold. You can configure this limits with the following</span><br><span class="line"># configuration directives.</span><br><span class="line"># æŒ‡å®šåœ¨è¶…è¿‡ä¸€å®šçš„æ•°é‡æˆ–è€…æœ€å¤§çš„å…ƒç´ è¶…è¿‡æŸä¸€ä¸´ç•Œå€¼æ—¶ï¼Œé‡‡ç”¨ä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œç®—æ³•</span><br><span class="line"># hash-max-zipmap-entries 512</span><br><span class="line"># hash-max-zipmap-value 64</span><br><span class="line"></span><br><span class="line"># Similarly to hashes, small lists are also encoded in a special way in order</span><br><span class="line"># to save a lot of space. The special representation is only used when</span><br><span class="line"># you are under the following limits:</span><br><span class="line">list-max-ziplist-entries 512</span><br><span class="line">list-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line"># Sets have a special encoding in just one case: when a set is composed</span><br><span class="line"># of just strings that happens to be integers in radix 10 in the range</span><br><span class="line"># of 64 bit signed integers.</span><br><span class="line"># The following configuration setting sets the limit in the size of the</span><br><span class="line"># set in order to use this special memory saving encoding.</span><br><span class="line">set-max-intset-entries 512</span><br><span class="line"></span><br><span class="line"># Similarly to hashes and lists, sorted sets are also specially encoded in</span><br><span class="line"># order to save a lot of space. This encoding is only used when the length and</span><br><span class="line"># elements of a sorted set are below the following limits:</span><br><span class="line">zset-max-ziplist-entries 128</span><br><span class="line">zset-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line"># Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in</span><br><span class="line"># order to help rehashing the main Redis hash table (the one mapping top-level</span><br><span class="line"># keys to values). The hash table implementation redis uses (see dict.c)</span><br><span class="line"># performs a lazy rehashing: the more operation you run into an hash table</span><br><span class="line"># that is rhashing, the more rehashing "steps" are performed, so if the</span><br><span class="line"># server is idle the rehashing is never complete and some more memory is used</span><br><span class="line"># by the hash table.</span><br><span class="line">#</span><br><span class="line"># The default is to use this millisecond 10 times every second in order to</span><br><span class="line"># active rehashing the main dictionaries, freeing memory when possible.</span><br><span class="line">#</span><br><span class="line"># If unsure:</span><br><span class="line"># use "activerehashing no" if you have hard latency requirements and it is</span><br><span class="line"># not a good thing in your environment that Redis can reply form time to time</span><br><span class="line"># to queries with 2 milliseconds delay.</span><br><span class="line"># æŒ‡å®šæ˜¯å¦æ¿€æ´»é‡ç½®å“ˆå¸Œï¼Œé»˜è®¤ä¸ºå¼€å¯</span><br><span class="line">activerehashing yes</span><br><span class="line"></span><br><span class="line">################################## INCLUDES ###################################</span><br><span class="line"></span><br><span class="line"># æŒ‡å®šåŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šå¤šä¸ªRediså®ä¾‹ä¹‹é—´ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œè€ŒåŒæ—¶å„å®ä¾‹åˆæ‹¥æœ‰è‡ªå·±çš„ç‰¹å®šé…ç½®æ–‡ä»¶</span><br><span class="line"># include /path/to/local.conf</span><br><span class="line"># include /path/to/other.conf</span><br></pre></td></tr></tbody></table></figure>





<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1>]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>redis</tag>
        <tag>service</tag>
      </tags>
  </entry>
  <entry>
    <title>Java è§„èŒƒ</title>
    <url>/2022/02/08/lang/java/java/</url>
    <content><![CDATA[<h1 id="Java-è§„èŒƒ"><a href="#Java-è§„èŒƒ" class="headerlink" title="Java è§„èŒƒ"></a>Java è§„èŒƒ</h1><h2 id="å‘½åé£æ ¼"><a href="#å‘½åé£æ ¼" class="headerlink" title="å‘½åé£æ ¼"></a>å‘½åé£æ ¼</h2><hr>
<p><strong>[å¼ºåˆ¶]ä»£ç ä¸­çš„å‘½åå‡ä¸èƒ½ä»¥<code>ä¸‹åˆ’çº¿</code>æˆ–<code>ç¾å…ƒç¬¦å·</code>å¼€å§‹ï¼Œä¹Ÿä¸èƒ½ä»¥<code>ä¸‹åˆ’çº¿</code>æˆ–<code>ç¾å…ƒç¬¦å·</code>ç»“æŸ</strong></p>
<p>åä¾‹ï¼š _name / name / $Object / name_  / name$ / Object</p>
<p><strong>[æ¨è]  ä»£ç ä¸­çš„å‘½åä¸¥ç¦ä½¿ç”¨<code>æ‹¼éŸ³</code>ä¸<code>è‹±æ–‡</code>æ··åˆçš„æ–¹å¼ï¼Œæ›´ä¸å…è®¸ç›´æ¥ä½¿ç”¨<code>ä¸­æ–‡</code>çš„æ–¹å¼ã€‚</strong></p>
<p>è¯´æ˜ï¼šæ­£ç¡®çš„è‹±æ–‡æ‹¼å†™å’Œè¯­æ³•å¯ä»¥è®©é˜…è¯»è€…æ˜“äºç†è§£ï¼Œé¿å…æ­§ä¹‰ã€‚æ³¨æ„ï¼Œå³ä½¿çº¯æ‹¼éŸ³å‘½åæ–¹å¼ä¹Ÿè¦é¿å…é‡‡ç”¨ã€‚</p>
<p>æ­£ä¾‹ï¼š luculent / taobao / youku / hangzhou ç­‰å›½é™…é€šç”¨çš„åç§°ï¼Œå¯è§†åŒè‹±æ–‡ã€‚</p>
<p>åä¾‹ï¼š DaZhePromotion [æ‰“æŠ˜] / getPingfenByName() [è¯„åˆ†] / int æŸå˜é‡ = 3</p>
<p><strong>[å¼ºåˆ¶] ç±»åä½¿ç”¨ <code>UpperCamelCase</code> é£æ ¼ï¼Œå¿…é¡»éµä»<a href="https://baike.baidu.com/item/%E9%AA%86%E9%A9%BC%E5%91%BD%E5%90%8D%E6%B3%95/7794053?fr=aladdin&amp;fromid=7560610&amp;fromtitle=%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D%E6%B3%95">é©¼å³°</a>å½¢å¼ï¼Œä½†ä»¥ä¸‹æƒ…å½¢ä¾‹å¤–ï¼š<code>DO</code> / <code>BO</code> /<code>DTO</code> / <code>VO</code> / <code>AO</code></strong></p>
<p>æ­£ä¾‹ï¼šMarcoPolo / UserDO / XmlService / TcpUdpDeal / TaPromotion</p>
<p>åä¾‹ï¼šmacroPolo / UserDo / XMLService / TCPUDPDeal / TAPromotion</p>
<p><strong>[å¼ºåˆ¶] æ–¹æ³•åã€å‚æ•°åã€æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡éƒ½ç»Ÿä¸€ä½¿ç”¨ lowerCamelCase é£æ ¼ï¼Œå¿…é¡»éµä»<code>é©¼å³°</code>å½¢å¼ã€‚</strong></p>
<p>æ­£ä¾‹ï¼š localValue / getHttpMessage() / inputUserId</p>
<p><strong>[å¼ºåˆ¶] å¸¸é‡å‘½åå…¨éƒ¨<code>å¤§å†™</code>ï¼Œå•è¯é—´ç”¨<code>ä¸‹åˆ’çº¿</code>éš”å¼€ï¼ŒåŠ›æ±‚è¯­ä¹‰è¡¨è¾¾å®Œæ•´æ¸…æ¥šï¼Œä¸è¦å«Œåå­—é•¿ã€‚</strong></p>
<p>æ­£ä¾‹ï¼š MAX_STOCK_COUNT</p>
<p>åä¾‹ï¼š MAX_COUNT</p>
<p><strong>[å¼ºåˆ¶] æŠ½è±¡ç±»å‘½åä½¿ç”¨ <code>Abstract</code> æˆ– <code>Base</code> å¼€å¤´ï¼›å¼‚å¸¸ç±»å‘½åä½¿ç”¨ <code>Exception</code> ç»“å°¾ï¼›æµ‹è¯•ç±»å‘½åä»¥å®ƒè¦æµ‹è¯•çš„ç±»çš„åç§°å¼€å§‹ï¼Œä»¥ <code>Test</code> ç»“å°¾ã€‚</strong></p>
<p><strong>[å¼ºåˆ¶] ä¸­æ‹¬å·æ˜¯æ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œæ•°ç»„å®šä¹‰å¦‚ä¸‹ï¼š</strong></p>
<p>æ­£ä¾‹ï¼šString[] args;</p>
<p>åä¾‹ï¼šä½¿ç”¨ String args[]çš„æ–¹å¼æ¥å®šä¹‰ã€‚</p>
<p><strong>[å¼ºåˆ¶] <code>POJO</code> ç±»ä¸­å¸ƒå°”ç±»å‹çš„å˜é‡ï¼Œéƒ½ä¸è¦åŠ  isï¼Œå¦åˆ™éƒ¨åˆ†æ¡†æ¶è§£æä¼šå¼•èµ·åºåˆ—åŒ–é”™è¯¯ã€‚</strong></p>
<p>åä¾‹ï¼šå®šä¹‰ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ Boolean isDeletedï¼›çš„å±æ€§ï¼Œå®ƒçš„æ–¹æ³•ä¹Ÿæ˜¯ isDeleted()ï¼ŒRPCæ¡†æ¶åœ¨åå‘è§£æçš„æ—¶å€™ï¼Œâ€œä»¥ä¸ºâ€å¯¹åº”çš„å±æ€§åç§°æ˜¯ deletedï¼Œå¯¼è‡´å±æ€§è·å–ä¸åˆ°ï¼Œè¿›è€ŒæŠ›å‡ºå¼‚<br>å¸¸ã€‚</p>
<p><strong>[å¼ºåˆ¶] <code>åŒ…å</code>ç»Ÿä¸€ä½¿ç”¨<code>å°å†™</code>ï¼Œç‚¹åˆ†éš”ç¬¦ä¹‹é—´æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªè‡ªç„¶è¯­ä¹‰çš„è‹±è¯­å•è¯ã€‚åŒ…åç»Ÿä¸€ä½¿ç”¨å•æ•°å½¢å¼ï¼Œä½†æ˜¯ç±»åå¦‚æœæœ‰å¤æ•°å«ä¹‰ï¼Œç±»åå¯ä»¥ä½¿ç”¨å¤æ•°å½¢å¼ã€‚</strong></p>
<p>æ­£ä¾‹ï¼š åº”ç”¨å·¥å…·ç±»åŒ…åä¸º com.alibaba.open.utilã€ç±»åä¸º MessageUtilsï¼ˆæ­¤è§„åˆ™å‚è€ƒspring çš„æ¡†æ¶ç»“æ„ï¼‰</p>
<p><strong>[æ¨è] é¿å…ä½¿ç”¨ä¸è§„èŒƒçš„ç¼©å†™ï¼Œæœ›æ–‡ä¸çŸ¥ä¹‰ã€‚</strong></p>
<p>åä¾‹ï¼š AbstractClassâ€œç¼©å†™â€å‘½åæˆ AbsClassï¼›conditionâ€œç¼©å†™â€å‘½åæˆ condiï¼Œæ­¤ç±»<br>éšæ„ç¼©å†™ä¸¥é‡é™ä½äº†ä»£ç çš„å¯é˜…è¯»æ€§ã€‚</p>
<p><strong>[æ¨è] å¦‚æœä½¿ç”¨åˆ°äº†<code>è®¾è®¡æ¨¡å¼</code>ï¼Œå»ºè®®åœ¨ç±»åä¸­ä½“ç°å‡ºå…·ä½“æ¨¡å¼ã€‚</strong><br>è¯´æ˜ï¼šå°†è®¾è®¡æ¨¡å¼ä½“ç°åœ¨åå­—ä¸­ï¼Œæœ‰åˆ©äºé˜…è¯»è€…å¿«é€Ÿç†è§£æ¶æ„è®¾è®¡æ€æƒ³ã€‚</p>
<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderFactory</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginProxy</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResourceObserver</span>;</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[æ¨è] æ¥å£ç±»ä¸­çš„æ–¹æ³•å’Œå±æ€§<code>ä¸è¦åŠ ä»»ä½•ä¿®é¥°ç¬¦å·</code>ï¼ˆpublic ä¹Ÿä¸è¦åŠ ï¼‰ï¼Œä¿æŒä»£ç çš„ç®€æ´æ€§ï¼Œå¹¶åŠ ä¸Šæœ‰æ•ˆçš„ Javadoc æ³¨é‡Šã€‚å°½é‡ä¸è¦åœ¨æ¥å£é‡Œå®šä¹‰å˜é‡ï¼Œå¦‚æœä¸€å®šè¦å®šä¹‰å˜é‡ï¼Œè‚¯å®šæ˜¯ä¸æ¥å£æ–¹æ³•ç›¸å…³ï¼Œå¹¶ä¸”æ˜¯æ•´ä¸ªåº”ç”¨çš„åŸºç¡€å¸¸é‡ã€‚</strong></p>
<p>æ­£ä¾‹ï¼šæ¥å£æ–¹æ³•ç­¾åï¼švoid f();<br> æ¥å£åŸºç¡€å¸¸é‡è¡¨ç¤ºï¼šString COMPANY = â€œalibabaâ€;</p>
<p>åä¾‹ï¼šæ¥å£æ–¹æ³•å®šä¹‰ï¼špublic abstract void f();</p>
<p>è¯´æ˜ï¼šJDK8 ä¸­æ¥å£å…è®¸æœ‰é»˜è®¤å®ç°ï¼Œé‚£ä¹ˆè¿™ä¸ª default æ–¹æ³•ï¼Œæ˜¯å¯¹æ‰€æœ‰å®ç°ç±»éƒ½æœ‰ä»·å€¼çš„é»˜è®¤å®ç°ã€‚</p>
<p>12.æ¥å£å’Œå®ç°ç±»çš„å‘½åæœ‰ä¸¤å¥—è§„åˆ™ï¼š</p>
<ul>
<li><strong>[å¼ºåˆ¶] å¯¹äº Service å’Œ DAO ç±»ï¼ŒåŸºäº SOA çš„ç†å¿µï¼Œæš´éœ²å‡ºæ¥çš„æœåŠ¡ä¸€å®šæ˜¯æ¥å£ï¼Œå†…éƒ¨çš„å®ç°ç±»ç”¨ Impl çš„åç¼€ä¸æ¥å£åŒºåˆ«ã€‚</strong></li>
</ul>
<p>æ­£ä¾‹ï¼šCacheServiceImpl å®ç° CacheService æ¥å£ã€‚</p>
<ul>
<li><strong>[æ¨è] å¦‚æœæ˜¯å½¢å®¹èƒ½åŠ›çš„æ¥å£åç§°ï¼Œå–å¯¹åº”çš„å½¢å®¹è¯åšæ¥å£åï¼ˆé€šå¸¸æ˜¯â€“able çš„å½¢å¼ï¼‰ã€‚</strong></li>
</ul>
<p>æ­£ä¾‹ï¼šAbstractTranslator å®ç° Translatableã€‚</p>
<ul>
<li><strong>[å‚è€ƒ] æšä¸¾ç±»åå»ºè®®å¸¦ä¸Š <code>Enum</code> åç¼€ï¼Œæšä¸¾æˆå‘˜åç§°éœ€è¦å…¨å¤§å†™ï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿éš”å¼€ã€‚</strong></li>
</ul>
<p>è¯´æ˜ï¼šæšä¸¾å…¶å®å°±æ˜¯ç‰¹æ®Šçš„å¸¸é‡ç±»ï¼Œä¸”æ„é€ æ–¹æ³•è¢«é»˜è®¤å¼ºåˆ¶æ˜¯ç§æœ‰ã€‚</p>
<p>æ­£ä¾‹ï¼šæšä¸¾åå­—ï¼šDealStatusEnumï¼Œæˆå‘˜åç§°ï¼šSUCCESS / UNKOWN_REASONã€‚</p>
<p><strong>[å‚è€ƒ] å„å±‚å‘½åè§„çº¦ï¼š</strong></p>
<p>A) <strong><code>Service</code>/<code>DAO</code> å±‚æ–¹æ³•å‘½åè§„çº¦</strong></p>
<ul>
<li>è·å–å•ä¸ªå¯¹è±¡çš„æ–¹æ³•ç”¨ get åšå‰ç¼€ã€‚</li>
<li>è·å–å¤šä¸ªå¯¹è±¡çš„æ–¹æ³•ç”¨ list åšå‰ç¼€ã€‚</li>
<li>è·å–ç»Ÿè®¡å€¼çš„æ–¹æ³•ç”¨ count åšå‰ç¼€ã€‚</li>
<li>æ’å…¥çš„æ–¹æ³•ç”¨ saveï¼ˆæ¨èï¼‰æˆ– insert åšå‰ç¼€ã€‚</li>
<li>åˆ é™¤çš„æ–¹æ³•ç”¨ removeï¼ˆæ¨èï¼‰æˆ– delete åšå‰ç¼€ã€‚</li>
<li>ä¿®æ”¹çš„æ–¹æ³•ç”¨ update åšå‰ç¼€ã€‚</li>
</ul>
<p>B) <strong>é¢†åŸŸæ¨¡å‹å‘½åè§„çº¦</strong></p>
<ul>
<li>æ•°æ®å¯¹è±¡ï¼šxxxDOï¼Œxxx å³ä¸ºæ•°æ®è¡¨åã€‚</li>
<li>æ•°æ®ä¼ è¾“å¯¹è±¡ï¼šxxxDTOï¼Œxxx ä¸ºä¸šåŠ¡é¢†åŸŸç›¸å…³çš„åç§°ã€‚</li>
<li>å±•ç¤ºå¯¹è±¡ï¼šxxxVOï¼Œxxx ä¸€èˆ¬ä¸ºç½‘é¡µåç§°ã€‚</li>
<li>POJO æ˜¯ DO/DTO/BO/VO çš„ç»Ÿç§°ï¼Œç¦æ­¢å‘½åæˆ xxxPOJOã€‚</li>
</ul>
<h2 id="å¸¸é‡å®šä¹‰"><a href="#å¸¸é‡å®šä¹‰" class="headerlink" title="å¸¸é‡å®šä¹‰"></a>å¸¸é‡å®šä¹‰</h2><hr>
<p><strong>[å¼ºåˆ¶] é¿å…ä¸å¿…è¦çš„èµ„æºæµªè´¹</strong></p>
<p>åä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">PageData</span> <span class="variable">pd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PageData</span>();</span><br><span class="line">pd = <span class="built_in">this</span>.getPageData();</span><br></pre></td></tr></tbody></table></figure>

<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">PageData</span> <span class="variable">pd</span> <span class="operator">=</span> <span class="built_in">this</span>.getPageData();</span><br></pre></td></tr></tbody></table></figure>


<p><strong>[å¼ºåˆ¶] ä¸å…è®¸ä»»ä½•é­”æ³•å€¼ï¼ˆå³æœªç»å®šä¹‰çš„å¸¸é‡ï¼‰ç›´æ¥å‡ºç°åœ¨ä»£ç ä¸­ã€‚</strong></p>
<p>åä¾‹ï¼š </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">"Id#taobao_"</span> + tradeId;</span><br><span class="line"> cache.put(key, value);</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[å¼ºåˆ¶] <code>long</code> æˆ–è€… <code>Long</code> åˆå§‹èµ‹å€¼æ—¶ï¼Œå¿…é¡»ä½¿ç”¨å¤§å†™çš„ <code>L</code>ï¼Œä¸èƒ½æ˜¯å°å†™çš„ <code>l</code>ï¼Œå°å†™å®¹æ˜“è·Ÿæ•°å­—<code>1</code> æ··æ·†ï¼Œé€ æˆè¯¯è§£ã€‚</strong><br>è¯´æ˜ï¼šLong a = 2l; å†™çš„æ˜¯æ•°å­—çš„ 21ï¼Œè¿˜æ˜¯ Long å‹çš„ 2?</p>
<p><strong>[æ¨è] ä¸è¦ä½¿ç”¨ä¸€ä¸ªå¸¸é‡ç±»ç»´æŠ¤æ‰€æœ‰å¸¸é‡ï¼Œåº”è¯¥æŒ‰å¸¸é‡åŠŸèƒ½è¿›è¡Œå½’ç±»ï¼Œåˆ†å¼€ç»´æŠ¤ã€‚</strong><br>å¦‚ï¼šç¼“å­˜ç›¸å…³çš„å¸¸é‡æ”¾åœ¨ç±»ï¼šCacheConsts ä¸‹ï¼›ç³»ç»Ÿé…ç½®ç›¸å…³çš„å¸¸é‡æ”¾åœ¨ç±»ï¼šConfigConsts ä¸‹ã€‚</p>
<p>è¯´æ˜ï¼šå¤§è€Œå…¨çš„å¸¸é‡ç±»ï¼Œéå¾—ä½¿ç”¨æŸ¥æ‰¾åŠŸèƒ½æ‰èƒ½å®šä½åˆ°ä¿®æ”¹çš„å¸¸é‡ï¼Œä¸åˆ©äºç†è§£å’Œç»´æŠ¤ã€‚</p>
<p><strong>[æ¨è] å¸¸é‡çš„å¤ç”¨å±‚æ¬¡æœ‰äº”å±‚ï¼šè·¨åº”ç”¨å…±äº«å¸¸é‡ã€åº”ç”¨å†…å…±äº«å¸¸é‡ã€å­å·¥ç¨‹å†…å…±äº«å¸¸é‡ã€åŒ…å†…å…±äº«å¸¸é‡ã€ç±»å†…å…±äº«å¸¸é‡ã€‚</strong></p>
<ul>
<li><p>è·¨åº”ç”¨å…±äº«å¸¸é‡ï¼šæ”¾ç½®åœ¨äºŒæ–¹åº“ä¸­ï¼Œé€šå¸¸æ˜¯ client.jar ä¸­çš„ constant ç›®å½•ä¸‹ã€‚</p>
</li>
<li><p>åº”ç”¨å†…å…±äº«å¸¸é‡ï¼šæ”¾ç½®åœ¨ä¸€æ–¹åº“çš„ modules ä¸­çš„ constant ç›®å½•ä¸‹ã€‚</p>
</li>
</ul>
<p>åä¾‹ï¼šæ˜“æ‡‚å˜é‡ä¹Ÿè¦ç»Ÿä¸€å®šä¹‰æˆåº”ç”¨å†…å…±äº«å¸¸é‡ï¼Œä¸¤ä½æ”»åŸå¸ˆåœ¨ä¸¤ä¸ªç±»ä¸­åˆ†åˆ«å®šä¹‰äº†è¡¨ç¤ºâ€œæ˜¯â€çš„å˜é‡ï¼š</p>
<p>ç±» A ä¸­ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">YES</span> <span class="operator">=</span> <span class="string">"yes"</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>ç±» B ä¸­ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">YES</span> <span class="operator">=</span> <span class="string">"y"</span>; A.YES.equals(B.YES)ï¼Œ</span><br></pre></td></tr></tbody></table></figure>

<p>é¢„æœŸæ˜¯ trueï¼Œä½†å®é™…è¿”å›ä¸º falseï¼Œå¯¼è‡´çº¿ä¸Šé—®é¢˜ã€‚</p>
<ul>
<li><p>å­å·¥ç¨‹å†…éƒ¨å…±äº«å¸¸é‡ï¼šå³åœ¨å½“å‰å­å·¥ç¨‹çš„ constant ç›®å½•ä¸‹ã€‚</p>
</li>
<li><p>åŒ…å†…å…±äº«å¸¸é‡ï¼šå³åœ¨å½“å‰åŒ…ä¸‹å•ç‹¬çš„ constant ç›®å½•ä¸‹ã€‚</p>
</li>
<li><p>ç±»å†…å…±äº«å¸¸é‡ï¼šç›´æ¥åœ¨ç±»å†…éƒ¨ private static final å®šä¹‰ã€‚</p>
</li>
</ul>
<p><strong>[æ¨è] å¦‚æœå˜é‡å€¼ä»…åœ¨ä¸€ä¸ªèŒƒå›´å†…å˜åŒ–ï¼Œä¸”å¸¦æœ‰åç§°ä¹‹å¤–çš„å»¶ä¼¸å±æ€§ï¼Œå®šä¹‰ä¸ºæšä¸¾ç±»ã€‚ä¸‹é¢æ­£ä¾‹ä¸­çš„æ•°å­—å°±æ˜¯å»¶ä¼¸ä¿¡æ¯ï¼Œè¡¨ç¤ºæ˜ŸæœŸå‡ ã€‚</strong></p>
<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Enum { MONDAY(<span class="number">1</span>), TUESDAY(<span class="number">2</span>), WEDNESDAY(<span class="number">3</span>), THURSDAY(<span class="number">4</span>), FRIDAY(<span class="number">5</span>), SATURDAY(<span class="number">6</span>),</span><br><span class="line">SUNDAY(<span class="number">7</span>);}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ä»£ç æ ¼å¼"><a href="#ä»£ç æ ¼å¼" class="headerlink" title="ä»£ç æ ¼å¼"></a>ä»£ç æ ¼å¼</h2><p><a href="ftp://172.168.1.158/%E6%96%87%E6%A1%A3/%E6%A0%BC%E5%BC%8F%E8%A7%84%E8%8C%83/codeformatter.xml">ä½¿ç”¨æ¨¡ç‰ˆ</a></p>
<hr>
<p><strong>[å¼ºåˆ¶] å¤šä¸ªå˜é‡<code>å¤šè¡Œå£°æ˜</code>ï¼Œç¦æ­¢ä¸€è¡Œä¸Šå£°æ˜å¤šä¸ªå˜é‡ï¼Œè¿™æ ·å¾ˆéš¾é˜…è¯»ã€‚</strong></p>
<p>åä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">account</span> <span class="operator">=</span> <span class="string">""</span>, password = <span class="string">""</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">account</span> <span class="operator">=</span> <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">""</span>;</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[å¼ºåˆ¶] å¤§æ‹¬å·çš„ä½¿ç”¨çº¦å®šã€‚å¦‚æœæ˜¯å¤§æ‹¬å·å†…ä¸ºç©ºï¼Œåˆ™ç®€æ´åœ°å†™æˆ<code>{}</code>å³å¯ï¼Œä¸éœ€è¦æ¢è¡Œï¼›å¦‚æœæ˜¯éç©ºä»£ç å—åˆ™ï¼š</strong></p>
<ol>
<li>å·¦å¤§æ‹¬å·å‰ä¸æ¢è¡Œã€‚</li>
<li>å·¦å¤§æ‹¬å·åæ¢è¡Œã€‚</li>
<li>å³å¤§æ‹¬å·å‰æ¢è¡Œã€‚</li>
<li>å³å¤§æ‹¬å·åè¿˜æœ‰ else ç­‰ä»£ç åˆ™ä¸æ¢è¡Œï¼›è¡¨ç¤ºç»ˆæ­¢çš„å³å¤§æ‹¬å·åå¿…é¡»æ¢è¡Œã€‚</li>
</ol>
<p><strong>[å¼ºåˆ¶]  å·¦å°æ‹¬å·å’Œå­—ç¬¦ä¹‹é—´ä¸å‡ºç°<code>ç©ºæ ¼</code>ï¼›åŒæ ·ï¼Œå³å°æ‹¬å·å’Œå­—ç¬¦ä¹‹é—´ä¹Ÿä¸å‡ºç°<code>ç©ºæ ¼</code>ã€‚è¯¦è§ç¬¬ 5 æ¡ä¸‹æ–¹æ­£ä¾‹æç¤ºã€‚</strong></p>
<p>åä¾‹ï¼šif (ç©ºæ ¼ a == b ç©ºæ ¼)</p>
<p><strong>[å¼ºåˆ¶] <code>if</code>/<code>for</code>/<code>while</code>/<code>switch</code>/<code>do</code> ç­‰ä¿ç•™å­—ä¸æ‹¬å·ä¹‹é—´éƒ½å¿…é¡»åŠ ç©ºæ ¼ã€‚</strong></p>
<p><strong>[å¼ºåˆ¶] ä»»ä½•äºŒç›®ã€ä¸‰ç›®è¿ç®—ç¬¦çš„å·¦å³ä¸¤è¾¹éƒ½éœ€è¦åŠ ä¸€ä¸ª<code>ç©ºæ ¼</code>ã€‚</strong><br>è¯´æ˜ï¼šè¿ç®—ç¬¦åŒ…æ‹¬èµ‹å€¼è¿ç®—ç¬¦=ã€é€»è¾‘è¿ç®—ç¬¦&amp;&amp;ã€åŠ å‡ä¹˜é™¤ç¬¦å·ç­‰ã€‚</p>
<p><strong>[å¼ºåˆ¶] ç¼©è¿›é‡‡ç”¨ <code>4</code> ä¸ªç©ºæ ¼ï¼Œç¦æ­¢ä½¿ç”¨ <code>tab</code> å­—ç¬¦ã€‚</strong></p>
<p>è¯´æ˜ï¼šå¦‚æœä½¿ç”¨ tab ç¼©è¿›ï¼Œå¿…é¡»è®¾ç½® 1 ä¸ª tab ä¸º 4 ä¸ªç©ºæ ¼ã€‚IDEA è®¾ç½® tab ä¸º 4 ä¸ªç©ºæ ¼æ—¶ï¼Œè¯·å‹¿å‹¾é€‰ Use tab characterï¼›è€Œåœ¨ eclipse ä¸­ï¼Œå¿…é¡»å‹¾é€‰ insert spaces for tabsã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">    <span class="comment">// ç¼©è¿› 4 ä¸ªç©ºæ ¼</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">say</span> <span class="operator">=</span> <span class="string">"hello"</span>;</span><br><span class="line">    <span class="comment">// è¿ç®—ç¬¦çš„å·¦å³å¿…é¡»æœ‰ä¸€ä¸ªç©ºæ ¼</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// å…³é”®è¯ if ä¸æ‹¬å·ä¹‹é—´å¿…é¡»æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œæ‹¬å·å†…çš„ f ä¸å·¦æ‹¬å·ï¼Œ0 ä¸å³æ‹¬å·ä¸éœ€è¦ç©ºæ ¼</span></span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">0</span>) {</span><br><span class="line">      System.out.println(say);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// å·¦å¤§æ‹¬å·å‰åŠ ç©ºæ ¼ä¸”ä¸æ¢è¡Œï¼›å·¦å¤§æ‹¬å·åæ¢è¡Œ</span></span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">1</span>) {</span><br><span class="line">      System.out.println(<span class="string">"world"</span>);</span><br><span class="line">    <span class="comment">// å³å¤§æ‹¬å·å‰æ¢è¡Œï¼Œå³å¤§æ‹¬å·åæœ‰ elseï¼Œä¸ç”¨æ¢è¡Œ</span></span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      System.out.println(<span class="string">"ok"</span>); </span><br><span class="line">    <span class="comment">// åœ¨å³å¤§æ‹¬å·åç›´æ¥ç»“æŸï¼Œåˆ™å¿…é¡»æ¢è¡Œ</span></span><br><span class="line">   }</span><br><span class="line">} </span><br></pre></td></tr></tbody></table></figure>

<p><strong>[å¼ºåˆ¶] å•è¡Œå­—ç¬¦æ•°é™åˆ¶ä¸è¶…è¿‡ <code>120</code> ä¸ªï¼Œè¶…å‡ºéœ€è¦<code>æ¢è¡Œ</code>ï¼Œæ¢è¡Œæ—¶éµå¾ªå¦‚ä¸‹åŸåˆ™ï¼š</strong></p>
<ol>
<li>ç¬¬äºŒè¡Œç›¸å¯¹ç¬¬ä¸€è¡Œç¼©è¿› 4 ä¸ªç©ºæ ¼ï¼Œä»ç¬¬ä¸‰è¡Œå¼€å§‹ï¼Œä¸å†ç»§ç»­ç¼©è¿›ï¼Œå‚è€ƒç¤ºä¾‹ã€‚</li>
<li>è¿ç®—ç¬¦ä¸ä¸‹æ–‡ä¸€èµ·æ¢è¡Œã€‚</li>
<li>æ–¹æ³•è°ƒç”¨çš„ç‚¹ç¬¦å·ä¸ä¸‹æ–‡ä¸€èµ·æ¢è¡Œã€‚</li>
<li>åœ¨å¤šä¸ªå‚æ•°è¶…é•¿ï¼Œåœ¨é€—å·åæ¢è¡Œã€‚</li>
<li>åœ¨æ‹¬å·å‰ä¸è¦æ¢è¡Œï¼Œè§åä¾‹ã€‚</li>
</ol>
<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¶…è¿‡ 120 ä¸ªå­—ç¬¦çš„æƒ…å†µä¸‹ï¼Œæ¢è¡Œç¼©è¿› 4 ä¸ªç©ºæ ¼ï¼Œå¹¶ä¸”æ–¹æ³•å‰çš„ç‚¹ç¬¦å·ä¸€èµ·æ¢è¡Œ</span></span><br><span class="line"></span><br><span class="line">sb.append(<span class="string">"zi"</span>).append(<span class="string">"xin"</span>)...</span><br><span class="line"></span><br><span class="line">.append(<span class="string">"huang"</span>)...</span><br><span class="line"></span><br><span class="line">.append(<span class="string">"huang"</span>)...</span><br><span class="line"></span><br><span class="line">.append(<span class="string">"huang"</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>åä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¶…è¿‡ 120 ä¸ªå­—ç¬¦çš„æƒ…å†µä¸‹ï¼Œä¸è¦åœ¨æ‹¬å·å‰æ¢è¡Œ</span></span><br><span class="line"></span><br><span class="line">sb.append(<span class="string">"zi"</span>).append(<span class="string">"xin"</span>)...append(<span class="string">"huang"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‚æ•°å¾ˆå¤šçš„æ–¹æ³•è°ƒç”¨å¯èƒ½è¶…è¿‡ 120 ä¸ªå­—ç¬¦ï¼Œä¸è¦åœ¨é€—å·å‰æ¢è¡Œ</span></span><br><span class="line"></span><br><span class="line">method(args1, args2, args3, ..., argsX);</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[å¼ºåˆ¶] æ–¹æ³•å‚æ•°åœ¨å®šä¹‰å’Œä¼ å…¥æ—¶ï¼Œå¤šä¸ªå‚æ•°é€—å·åè¾¹å¿…é¡»åŠ <code>ç©ºæ ¼</code>ã€‚</strong></p>
<p>æ­£ä¾‹ï¼šä¸‹ä¾‹ä¸­å®å‚çš„â€aâ€,åè¾¹å¿…é¡»è¦æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚method(â€œaâ€, â€œbâ€, â€œcâ€);</p>
<p><strong>[å¼ºåˆ¶] IDE çš„ text file encoding è®¾ç½®ä¸º <code>UTF-8</code>; IDE ä¸­æ–‡ä»¶çš„æ¢è¡Œç¬¦ä½¿ç”¨ <code>Unix</code> æ ¼å¼ï¼Œä¸è¦ä½¿ç”¨ <code>windows</code> æ ¼å¼ã€‚</strong></p>
<p><strong>[æ¨è] æ²¡æœ‰å¿…è¦å¢åŠ è‹¥å¹²ç©ºæ ¼æ¥ä½¿æŸä¸€è¡Œçš„å­—ç¬¦ä¸ä¸Šä¸€è¡Œå¯¹åº”ä½ç½®çš„å­—ç¬¦å¯¹é½ã€‚</strong></p>
<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">4L</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">float</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">5F</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜ï¼šå¢åŠ  sb è¿™ä¸ªå˜é‡ï¼Œå¦‚æœéœ€è¦å¯¹é½ï¼Œåˆ™ç»™ aã€bã€c éƒ½è¦å¢åŠ å‡ ä¸ªç©ºæ ¼ï¼Œåœ¨å˜é‡æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œæ˜¯ä¸€ç§ç´¯èµ˜çš„äº‹æƒ…ã€‚</p>
<p><strong>[æ¨è] æ–¹æ³•ä½“å†…çš„æ‰§è¡Œè¯­å¥ç»„ã€å˜é‡çš„å®šä¹‰è¯­å¥ç»„ã€ä¸åŒçš„ä¸šåŠ¡é€»è¾‘ä¹‹é—´æˆ–è€…ä¸åŒçš„è¯­ä¹‰ä¹‹é—´æ’å…¥ä¸€ä¸ªç©ºè¡Œã€‚ç›¸åŒä¸šåŠ¡é€»è¾‘å’Œè¯­ä¹‰ä¹‹é—´ä¸éœ€è¦æ’å…¥ç©ºè¡Œã€‚</strong></p>
<p>è¯´æ˜ï¼šæ²¡æœ‰å¿…è¦æ’å…¥å¤šä¸ªç©ºè¡Œè¿›è¡Œéš”å¼€ã€‚</p>
<h2 id="æ³¨é‡Šè§„çº¦"><a href="#æ³¨é‡Šè§„çº¦" class="headerlink" title="æ³¨é‡Šè§„çº¦"></a>æ³¨é‡Šè§„çº¦</h2><p><a href="ftp://172.168.1.158/%E6%96%87%E6%A1%A3/%E6%B3%A8%E9%87%8A%E8%A7%84%E8%8C%83/codetemplates.xml">ä½¿ç”¨æ¨¡ç‰ˆ</a></p>
<hr>
<p><em><em>[å¼ºåˆ¶] ç±»ã€ç±»å±æ€§ã€ç±»æ–¹æ³•çš„æ³¨é‡Šå¿…é¡»ä½¿ç”¨ <code>Javadoc</code> è§„èŒƒï¼Œä½¿ç”¨/**å†…å®¹</em>/æ ¼å¼ï¼Œä¸å¾—ä½¿ç”¨//xxx æ–¹å¼ã€‚</em>*</p>
<p>è¯´æ˜ï¼šåœ¨ IDE ç¼–è¾‘çª—å£ä¸­ï¼ŒJavadoc æ–¹å¼ä¼šæç¤ºç›¸å…³æ³¨é‡Šï¼Œç”Ÿæˆ Javadoc å¯ä»¥æ­£ç¡®è¾“å‡ºç›¸åº”æ³¨é‡Šï¼›åœ¨ IDE ä¸­ï¼Œå·¥ç¨‹è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¸è¿›å…¥æ–¹æ³•å³å¯æ‚¬æµ®æç¤ºæ–¹æ³•ã€å‚æ•°ã€è¿”å›å€¼çš„æ„ä¹‰ï¼Œæé«˜é˜…è¯»æ•ˆç‡ã€‚</p>
<p><strong>[å¼ºåˆ¶] æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ï¼ˆåŒ…æ‹¬æ¥å£ä¸­çš„æ–¹æ³•ï¼‰å¿…é¡»è¦ç”¨ <code>Javadoc</code> æ³¨é‡Šã€é™¤äº†è¿”å›å€¼ã€å‚æ•°ã€å¼‚å¸¸è¯´æ˜å¤–ï¼Œè¿˜å¿…é¡»æŒ‡å‡ºè¯¥æ–¹æ³•åšä»€ä¹ˆäº‹æƒ…ï¼Œå®ç°ä»€ä¹ˆåŠŸèƒ½ã€‚</strong></p>
<p>è¯´æ˜ï¼šå¯¹å­ç±»çš„å®ç°è¦æ±‚ï¼Œæˆ–è€…è°ƒç”¨æ³¨æ„äº‹é¡¹ï¼Œè¯·ä¸€å¹¶è¯´æ˜ã€‚</p>
<p><strong>[å¼ºåˆ¶] æ‰€æœ‰çš„ç±»éƒ½å¿…é¡»æ·»åŠ <code>åˆ›å»ºè€…</code>å’Œ<code>åˆ›å»ºæ—¥æœŸ</code>ã€‚</strong></p>
<p><strong>[å¼ºåˆ¶] æ–¹æ³•å†…éƒ¨å•è¡Œæ³¨é‡Šï¼Œåœ¨è¢«æ³¨é‡Šè¯­å¥ä¸Šæ–¹å¦èµ·ä¸€è¡Œï¼Œä½¿ç”¨//æ³¨é‡Šã€‚æ–¹æ³•å†…éƒ¨å¤šè¡Œæ³¨é‡Šä½¿ç”¨/* */æ³¨é‡Šï¼Œæ³¨æ„ä¸ä»£ç å¯¹é½ã€‚</strong></p>
<p><strong>[å¼ºåˆ¶] æ‰€æœ‰çš„æšä¸¾ç±»å‹å­—æ®µå¿…é¡»è¦æœ‰æ³¨é‡Šï¼Œè¯´æ˜æ¯ä¸ªæ•°æ®é¡¹çš„ç”¨é€”ã€‚</strong></p>
<p><strong>[æ¨è] ä¸å…¶â€œåŠåŠå­â€è‹±æ–‡æ¥æ³¨é‡Šï¼Œä¸å¦‚ç”¨ä¸­æ–‡æ³¨é‡ŠæŠŠé—®é¢˜è¯´æ¸…æ¥šã€‚ä¸“æœ‰åè¯ä¸å…³é”®å­—ä¿æŒè‹±æ–‡åŸæ–‡å³å¯ã€‚</strong></p>
<p>åä¾‹ï¼šâ€œTCP è¿æ¥è¶…æ—¶â€è§£é‡Šæˆâ€œä¼ è¾“æ§åˆ¶åè®®è¿æ¥è¶…æ—¶â€ï¼Œç†è§£åè€Œè´¹è„‘ç­‹ã€‚</p>
<p><strong>[æ¨è] ä»£ç ä¿®æ”¹çš„åŒæ—¶ï¼Œæ³¨é‡Šä¹Ÿè¦è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ï¼Œå°¤å…¶æ˜¯å‚æ•°ã€è¿”å›å€¼ã€å¼‚å¸¸ã€æ ¸å¿ƒé€»è¾‘ç­‰çš„ä¿®æ”¹ã€‚</strong></p>
<p>è¯´æ˜ï¼šä»£ç ä¸æ³¨é‡Šæ›´æ–°ä¸åŒæ­¥ï¼Œå°±åƒè·¯ç½‘ä¸å¯¼èˆªè½¯ä»¶æ›´æ–°ä¸åŒæ­¥ä¸€æ ·ï¼Œå¦‚æœå¯¼èˆªè½¯ä»¶ä¸¥é‡æ»åï¼Œ<br>å°±å¤±å»äº†å¯¼èˆªçš„æ„ä¹‰ã€‚</p>
<p><strong>[å‚è€ƒ] åˆç†å¤„ç†æ³¨é‡Šæ‰çš„ä»£ç ã€‚åœ¨ä¸Šæ–¹è¯¦ç»†è¯´æ˜ï¼Œè€Œä¸æ˜¯ç®€å•çš„æ³¨é‡Šæ‰ã€‚å¦‚æœæ— ç”¨ï¼Œåˆ™åˆ é™¤ã€‚</strong></p>
<p>è¯´æ˜ï¼šä»£ç è¢«æ³¨é‡Šæ‰æœ‰ä¸¤ç§å¯èƒ½æ€§ï¼š</p>
<ul>
<li><p>åç»­ä¼šæ¢å¤æ­¤æ®µä»£ç é€»è¾‘ã€‚</p>
</li>
<li><p>æ°¸ä¹…ä¸ç”¨ã€‚å‰è€…å¦‚æœæ²¡æœ‰å¤‡æ³¨ä¿¡æ¯ï¼Œéš¾ä»¥çŸ¥æ™“æ³¨é‡ŠåŠ¨æœºã€‚åè€…å»ºè®®ç›´æ¥åˆ æ‰ï¼ˆä»£ç ä»“åº“ä¿å­˜äº†å†å²ä»£ç ï¼‰ã€‚</p>
</li>
</ul>
<p><strong>[å‚è€ƒ] å¯¹äºæ³¨é‡Šçš„è¦æ±‚ï¼š</strong></p>
<ol>
<li>èƒ½å¤Ÿå‡†ç¡®ååº”è®¾è®¡æ€æƒ³å’Œä»£ç é€»è¾‘ï¼›</li>
<li>èƒ½å¤Ÿæè¿°ä¸šåŠ¡å«ä¹‰ï¼Œä½¿åˆ«çš„ç¨‹åºå‘˜èƒ½å¤Ÿè¿…é€Ÿäº†è§£åˆ°ä»£ç èƒŒåçš„ä¿¡æ¯ã€‚</li>
</ol>
<p>å®Œå…¨æ²¡æœ‰æ³¨é‡Šçš„å¤§æ®µä»£ç å¯¹äºé˜…è¯»è€…å½¢åŒå¤©ä¹¦ï¼Œæ³¨é‡Šæ˜¯ç»™è‡ªå·±çœ‹çš„ï¼Œå³ä½¿éš”å¾ˆé•¿æ—¶é—´ï¼Œä¹Ÿèƒ½æ¸…æ™°ç†è§£å½“æ—¶çš„æ€è·¯ï¼›æ³¨é‡Šä¹Ÿæ˜¯ç»™ç»§ä»»è€…çœ‹çš„ï¼Œä½¿å…¶èƒ½å¤Ÿå¿«é€Ÿæ¥æ›¿è‡ªå·±çš„å·¥ä½œã€‚</p>
<p><strong>[å‚è€ƒ] å¥½çš„å‘½åã€ä»£ç ç»“æ„æ˜¯è‡ªè§£é‡Šçš„ï¼Œæ³¨é‡ŠåŠ›æ±‚ç²¾ç®€å‡†ç¡®ã€è¡¨è¾¾åˆ°ä½ã€‚é¿å…å‡ºç°æ³¨é‡Šçš„ä¸€ä¸ªæç«¯ï¼šè¿‡å¤šè¿‡æ»¥çš„æ³¨é‡Šï¼Œä»£ç çš„é€»è¾‘ä¸€æ—¦ä¿®æ”¹ï¼Œä¿®æ”¹æ³¨é‡Šæ˜¯ç›¸å½“å¤§çš„è´Ÿæ‹…ã€‚</strong></p>
<p>åä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// put elephant into fridge</span></span><br><span class="line">put(elephant, fridge);</span><br></pre></td></tr></tbody></table></figure>

<p>æ–¹æ³•å putï¼ŒåŠ ä¸Šä¸¤ä¸ªæœ‰æ„ä¹‰çš„å˜é‡å elephant å’Œ fridgeï¼Œå·²ç»è¯´æ˜äº†è¿™æ˜¯åœ¨å¹²ä»€ä¹ˆï¼Œè¯­ä¹‰æ¸…æ™°çš„ä»£ç ä¸éœ€è¦é¢å¤–çš„æ³¨é‡Šã€‚</p>
<p><strong>[å‚è€ƒ] ç‰¹æ®Šæ³¨é‡Šæ ‡è®°ï¼Œè¯·æ³¨æ˜æ ‡è®°äººä¸æ ‡è®°æ—¶é—´ã€‚æ³¨æ„åŠæ—¶å¤„ç†è¿™äº›æ ‡è®°ï¼Œé€šè¿‡æ ‡è®°æ‰«æï¼Œç»å¸¸æ¸…ç†æ­¤ç±»æ ‡è®°ã€‚çº¿ä¸Šæ•…éšœæœ‰æ—¶å€™å°±æ˜¯æ¥æºäºè¿™äº›æ ‡è®°å¤„çš„ä»£ç ã€‚</strong></p>
<ul>
<li><p>å¾…åŠäº‹å®œï¼ˆTODOï¼‰:ï¼ˆ æ ‡è®°äººï¼Œæ ‡è®°æ—¶é—´ï¼Œ[é¢„è®¡å¤„ç†æ—¶é—´]ï¼‰<br>è¡¨ç¤ºéœ€è¦å®ç°ï¼Œä½†ç›®å‰è¿˜æœªå®ç°çš„åŠŸèƒ½ã€‚è¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ª Javadoc çš„æ ‡ç­¾ï¼Œç›®å‰çš„ Javadoc<br>è¿˜æ²¡æœ‰å®ç°ï¼Œä½†å·²ç»è¢«å¹¿æ³›ä½¿ç”¨ã€‚åªèƒ½åº”ç”¨äºç±»ï¼Œæ¥å£å’Œæ–¹æ³•ï¼ˆå› ä¸ºå®ƒæ˜¯ä¸€ä¸ª Javadoc æ ‡ç­¾ï¼‰ã€‚</p>
</li>
<li><p>é”™è¯¯ï¼Œä¸èƒ½å·¥ä½œï¼ˆFIXMEï¼‰:ï¼ˆæ ‡è®°äººï¼Œæ ‡è®°æ—¶é—´ï¼Œ[é¢„è®¡å¤„ç†æ—¶é—´]ï¼‰<br>åœ¨æ³¨é‡Šä¸­ç”¨ FIXME æ ‡è®°æŸä»£ç æ˜¯é”™è¯¯çš„ï¼Œè€Œä¸”ä¸èƒ½å·¥ä½œï¼Œéœ€è¦åŠæ—¶çº æ­£çš„æƒ…å†µã€‚</p>
</li>
</ul>
<h2 id="OOPè§„çº¦"><a href="#OOPè§„çº¦" class="headerlink" title="OOPè§„çº¦"></a>OOPè§„çº¦</h2><hr>
<p><strong>[å¼ºåˆ¶] é¿å…é€šè¿‡ä¸€ä¸ªç±»çš„å¯¹è±¡å¼•ç”¨è®¿é—®æ­¤ç±»çš„<code>é™æ€å˜é‡</code>æˆ–<code>é™æ€æ–¹æ³•</code>ï¼Œæ— è°“å¢åŠ ç¼–è¯‘å™¨è§£ææˆæœ¬ï¼Œç›´æ¥ç”¨<code>ç±»å</code>æ¥è®¿é—®å³å¯ã€‚</strong></p>
<p><strong>[å¼ºåˆ¶] æ‰€æœ‰çš„è¦†å†™æ–¹æ³•ï¼Œå¿…é¡»åŠ <code>@Override</code> æ³¨è§£ã€‚</strong></p>
<p>è¯´æ˜ï¼šgetObject()ä¸ get0bject()çš„é—®é¢˜ã€‚ä¸€ä¸ªæ˜¯å­—æ¯çš„ Oï¼Œä¸€ä¸ªæ˜¯æ•°å­—çš„ 0ï¼ŒåŠ @Overrideå¯ä»¥å‡†ç¡®åˆ¤æ–­æ˜¯å¦è¦†ç›–æˆåŠŸã€‚å¦å¤–ï¼Œå¦‚æœåœ¨æŠ½è±¡ç±»ä¸­å¯¹æ–¹æ³•ç­¾åè¿›è¡Œä¿®æ”¹ï¼Œå…¶å®ç°ç±»ä¼šé©¬ä¸Šç¼–è¯‘æŠ¥é”™ã€‚</p>
<p><strong>[å¼ºåˆ¶] ç›¸åŒå‚æ•°ç±»å‹ï¼Œç›¸åŒä¸šåŠ¡å«ä¹‰ï¼Œæ‰å¯ä»¥ä½¿ç”¨ Java çš„<code>å¯å˜å‚æ•°</code>ï¼Œé¿å…ä½¿ç”¨ <code>Object</code>ã€‚</strong></p>
<p>è¯´æ˜ï¼šå¯å˜å‚æ•°å¿…é¡»æ”¾ç½®åœ¨å‚æ•°åˆ—è¡¨çš„æœ€åã€‚ï¼ˆæå€¡åŒå­¦ä»¬å°½é‡ä¸ç”¨å¯å˜å‚æ•°ç¼–ç¨‹ï¼‰</p>
<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> User <span class="title function_">getUsers</span><span class="params">(String type, Integer... ids)</span> {...}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[å¼ºåˆ¶] å¤–éƒ¨æ­£åœ¨è°ƒç”¨æˆ–è€…äºŒæ–¹åº“ä¾èµ–çš„æ¥å£ï¼Œä¸å…è®¸ä¿®æ”¹æ–¹æ³•ç­¾åï¼Œé¿å…å¯¹æ¥å£è°ƒç”¨æ–¹äº§ç”Ÿå½±å“ã€‚æ¥å£è¿‡æ—¶å¿…é¡»åŠ <code>@Deprecated</code> æ³¨è§£ï¼Œå¹¶æ¸…æ™°åœ°è¯´æ˜é‡‡ç”¨çš„æ–°æ¥å£æˆ–è€…æ–°æœåŠ¡æ˜¯ä»€ä¹ˆã€‚</strong></p>
<p><strong>[å¼ºåˆ¶] ä¸èƒ½ä½¿ç”¨è¿‡æ—¶çš„ç±»æˆ–æ–¹æ³•ã€‚</strong></p>
<p>è¯´æ˜ï¼šjava.net.URLDecoder ä¸­çš„æ–¹æ³• decode(String encodeStr) è¿™ä¸ªæ–¹æ³•å·²ç»è¿‡æ—¶ï¼Œåº”è¯¥ä½¿ç”¨åŒå‚æ•° decode(String source, String encode)ã€‚æ¥å£æä¾›æ–¹æ—¢ç„¶æ˜ç¡®æ˜¯è¿‡æ—¶æ¥å£ï¼Œé‚£ä¹ˆæœ‰ä¹‰åŠ¡åŒæ—¶æä¾›æ–°çš„æ¥å£ï¼›ä½œä¸ºè°ƒç”¨æ–¹æ¥è¯´ï¼Œæœ‰ä¹‰åŠ¡å»è€ƒè¯è¿‡æ—¶æ–¹æ³•çš„æ–°å®ç°æ˜¯ä»€ä¹ˆã€‚</p>
<p><strong>[å¼ºåˆ¶] Object çš„ equals æ–¹æ³•å®¹æ˜“æŠ›ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œåº”ä½¿ç”¨å¸¸é‡æˆ–ç¡®å®šæœ‰å€¼çš„å¯¹è±¡æ¥è°ƒç”¨equalsã€‚</strong></p>
<p>æ­£ä¾‹:</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="string">"test"</span>.equals(object);</span><br></pre></td></tr></tbody></table></figure>

<p>åä¾‹ï¼š </p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">object.equals(<span class="string">"test"</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜ï¼šæ¨èä½¿ç”¨ java.util.Objects#equals ï¼ˆJDK7 å¼•å…¥çš„å·¥å…·ç±»ï¼‰</p>
<p><strong>[å¼ºåˆ¶] æ‰€æœ‰çš„ç›¸åŒç±»å‹çš„åŒ…è£…ç±»å¯¹è±¡ä¹‹é—´å€¼çš„æ¯”è¾ƒï¼Œå…¨éƒ¨ä½¿ç”¨ <code>equals</code> æ–¹æ³•æ¯”è¾ƒã€‚</strong></p>
<p>è¯´æ˜ï¼šå¯¹äº Integer var = ? åœ¨-128 è‡³ 127 èŒƒå›´å†…çš„èµ‹å€¼ï¼ŒInteger å¯¹è±¡æ˜¯åœ¨IntegerCache.cache äº§ç”Ÿï¼Œä¼šå¤ç”¨å·²æœ‰å¯¹è±¡ï¼Œè¿™ä¸ªåŒºé—´å†…çš„ Integer å€¼å¯ä»¥ç›´æ¥ä½¿ç”¨==è¿›è¡Œåˆ¤æ–­ï¼Œä½†æ˜¯è¿™ä¸ªåŒºé—´ä¹‹å¤–çš„æ‰€æœ‰æ•°æ®ï¼Œéƒ½ä¼šåœ¨å †ä¸Šäº§ç”Ÿï¼Œå¹¶ä¸ä¼šå¤ç”¨å·²æœ‰å¯¹è±¡ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤§å‘ï¼Œæ¨èä½¿ç”¨ equals æ–¹æ³•è¿›è¡Œåˆ¤æ–­ã€‚</p>
<p>å…³äºåŸºæœ¬æ•°æ®ç±»å‹ä¸åŒ…è£…æ•°æ®ç±»å‹çš„ä½¿ç”¨æ ‡å‡†å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>[å¼ºåˆ¶] æ‰€æœ‰çš„ POJO ç±»å±æ€§å¿…é¡»ä½¿ç”¨åŒ…è£…æ•°æ®ç±»å‹ã€‚</strong></li>
<li><strong>[å¼ºåˆ¶] RPC æ–¹æ³•çš„è¿”å›å€¼å’Œå‚æ•°å¿…é¡»ä½¿ç”¨åŒ…è£…æ•°æ®ç±»å‹ã€‚</strong></li>
<li><strong>[æ¨è] æ‰€æœ‰çš„å±€éƒ¨å˜é‡ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ã€‚</strong></li>
</ol>
<p>è¯´æ˜ï¼šPOJO ç±»å±æ€§æ²¡æœ‰åˆå€¼æ˜¯æé†’ä½¿ç”¨è€…åœ¨éœ€è¦ä½¿ç”¨æ—¶ï¼Œå¿…é¡»è‡ªå·±æ˜¾å¼åœ°è¿›è¡Œèµ‹å€¼ï¼Œä»»ä½•<a href="http://www.importnew.com/14229.html">NPE</a> é—®é¢˜ï¼Œæˆ–è€…å…¥åº“æ£€æŸ¥ï¼Œéƒ½ç”±ä½¿ç”¨è€…æ¥ä¿è¯ã€‚</p>
<p>æ­£ä¾‹ï¼šæ•°æ®åº“çš„æŸ¥è¯¢ç»“æœå¯èƒ½æ˜¯ nullï¼Œå› ä¸ºè‡ªåŠ¨æ‹†ç®±ï¼Œç”¨åŸºæœ¬æ•°æ®ç±»å‹æ¥æ”¶æœ‰ NPE é£é™©ã€‚</p>
<p>åä¾‹ï¼šæ¯”å¦‚æ˜¾ç¤ºæˆäº¤æ€»é¢æ¶¨è·Œæƒ…å†µï¼Œå³æ­£è´Ÿ x%ï¼Œx ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œè°ƒç”¨çš„ RPC æœåŠ¡ï¼Œè°ƒç”¨ä¸æˆåŠŸæ—¶ï¼Œè¿”å›çš„æ˜¯é»˜è®¤å€¼ï¼Œé¡µé¢æ˜¾ç¤ºï¼š0%ï¼Œè¿™æ˜¯ä¸åˆç†çš„ï¼Œåº”è¯¥æ˜¾ç¤ºæˆä¸­åˆ’çº¿-ã€‚æ‰€ä»¥åŒ…è£…æ•°æ®ç±»å‹çš„ null å€¼ï¼Œèƒ½å¤Ÿè¡¨ç¤ºé¢å¤–çš„ä¿¡æ¯ï¼Œå¦‚ï¼šè¿œç¨‹è°ƒç”¨å¤±è´¥ï¼Œå¼‚å¸¸é€€å‡ºã€‚</p>
<p><strong>[å¼ºåˆ¶] å®šä¹‰ <code>DO</code>/<code>DTO</code>/<code>VO</code> ç­‰ <code>POJO</code> ç±»æ—¶ï¼Œä¸è¦è®¾å®šä»»ä½•å±æ€§é»˜è®¤å€¼ã€‚</strong></p>
<p>åä¾‹ï¼šPOJO ç±»çš„ gmtCreate é»˜è®¤å€¼ä¸º new Date();ä½†æ˜¯è¿™ä¸ªå±æ€§åœ¨æ•°æ®æå–æ—¶å¹¶æ²¡æœ‰ç½®å…¥å…·ä½“å€¼ï¼Œåœ¨æ›´æ–°å…¶å®ƒå­—æ®µæ—¶åˆé™„å¸¦æ›´æ–°äº†æ­¤å­—æ®µï¼Œå¯¼è‡´åˆ›å»ºæ—¶é—´è¢«ä¿®æ”¹æˆå½“å‰æ—¶é—´ã€‚</p>
<p><strong>[å¼ºåˆ¶] <code>åºåˆ—åŒ–</code>ç±»æ–°å¢å±æ€§æ—¶ï¼Œè¯·ä¸è¦ä¿®æ”¹ <code>serialVersionUID</code> å­—æ®µï¼Œé¿å…<a href="https://www.ibm.com/developerworks/cn/java/j-5things1/index.html">ååºåˆ—</a>å¤±è´¥ï¼›å¦‚æœå®Œå…¨ä¸å…¼å®¹å‡çº§ï¼Œé¿å…ååºåˆ—åŒ–æ··ä¹±ï¼Œé‚£ä¹ˆè¯·ä¿®æ”¹ serialVersionUID å€¼ã€‚</strong></p>
<p>è¯´æ˜ï¼šæ³¨æ„ serialVersionUID ä¸ä¸€è‡´ä¼šæŠ›å‡ºåºåˆ—åŒ–è¿è¡Œæ—¶å¼‚å¸¸ã€‚</p>
<p><strong>[å¼ºåˆ¶] æ„é€ æ–¹æ³•é‡Œé¢ç¦æ­¢åŠ å…¥ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œå¦‚æœæœ‰åˆå§‹åŒ–é€»è¾‘ï¼Œè¯·æ”¾åœ¨ <code>init</code> æ–¹æ³•ä¸­ã€‚</strong></p>
<p><strong>[æ¨è] POJO ç±»å¿…é¡»å†™ <code>toString</code> æ–¹æ³•ã€‚</strong></p>
<p>ä½¿ç”¨ IDE çš„ä¸­å·¥å…·ï¼šsource generate toStringæ—¶ï¼Œå¦‚æœç»§æ‰¿äº†å¦ä¸€ä¸ª POJO ç±»ï¼Œæ³¨æ„åœ¨å‰é¢åŠ ä¸€ä¸‹ super.toStringã€‚</p>
<p>è¯´æ˜ï¼šåœ¨æ–¹æ³•æ‰§è¡ŒæŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ POJO çš„ toString()æ–¹æ³•æ‰“å°å…¶å±æ€§å€¼ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜ã€‚</p>
<p><strong>[æ¨è] ä½¿ç”¨ç´¢å¼•è®¿é—®ç”¨ <code>String</code> çš„ <code>split</code> æ–¹æ³•å¾—åˆ°çš„æ•°ç»„æ—¶ï¼Œéœ€åšæœ€åä¸€ä¸ªåˆ†éš”ç¬¦åæœ‰æ— å†…å®¹çš„æ£€æŸ¥ï¼Œå¦åˆ™ä¼šæœ‰æŠ› <code>IndexOutOfBoundsException</code> çš„é£é™©ã€‚</strong></p>
<p>è¯´æ˜ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">"a,b,c,,"</span>;</span><br><span class="line">String[] ary = str.split(<span class="string">","</span>);</span><br><span class="line"><span class="comment">//é¢„æœŸå¤§äº 3ï¼Œç»“æœæ˜¯ 3</span></span><br><span class="line">System.out.println(ary.length);</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[æ¨è] å½“ä¸€ä¸ªç±»æœ‰å¤šä¸ªæ„é€ æ–¹æ³•ï¼Œæˆ–è€…å¤šä¸ªåŒåæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•åº”è¯¥æŒ‰é¡ºåºæ”¾ç½®åœ¨ä¸€èµ·ï¼Œä¾¿äºé˜…è¯»ã€‚</strong></p>
<p><strong>[æ¨è]  ç±»å†…æ–¹æ³•å®šä¹‰é¡ºåºä¾æ¬¡æ˜¯ï¼š<code>å…¬æœ‰æ–¹æ³•æˆ–ä¿æŠ¤æ–¹æ³•</code> &gt; <code>ç§æœ‰æ–¹æ³•</code> &gt; <code>getter/setter</code>æ–¹æ³•ã€‚</strong></p>
<p>è¯´æ˜ï¼šå…¬æœ‰æ–¹æ³•æ˜¯ç±»çš„è°ƒç”¨è€…å’Œç»´æŠ¤è€…æœ€å…³å¿ƒçš„æ–¹æ³•ï¼Œé¦–å±å±•ç¤ºæœ€å¥½ï¼›ä¿æŠ¤æ–¹æ³•è™½ç„¶åªæ˜¯å­ç±»å…³å¿ƒï¼Œä¹Ÿå¯èƒ½æ˜¯â€œæ¨¡æ¿è®¾è®¡æ¨¡å¼â€ä¸‹çš„æ ¸å¿ƒæ–¹æ³•ï¼›è€Œç§æœ‰æ–¹æ³•å¤–éƒ¨ä¸€èˆ¬ä¸éœ€è¦ç‰¹åˆ«å…³å¿ƒï¼Œæ˜¯ä¸€ä¸ªé»‘ç›’å®ç°ï¼›å› ä¸ºæ–¹æ³•ä¿¡æ¯ä»·å€¼è¾ƒä½ï¼Œæ‰€æœ‰ Service å’Œ DAO çš„ getter/setter æ–¹æ³•æ”¾åœ¨ç±»ä½“æœ€åã€‚</p>
<p><strong>[æ¨è] setter æ–¹æ³•ä¸­ï¼Œå‚æ•°åç§°ä¸ç±»æˆå‘˜å˜é‡åç§°ä¸€è‡´ï¼Œthis.æˆå‘˜å = å‚æ•°åã€‚åœ¨getter/setter æ–¹æ³•ä¸­ï¼Œä¸è¦å¢åŠ ä¸šåŠ¡é€»è¾‘ï¼Œå¢åŠ æ’æŸ¥é—®é¢˜çš„éš¾åº¦ã€‚</strong></p>
<p>åä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Integer <span class="title function_">getData</span><span class="params">()</span> {</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) {</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">this</span>.data + <span class="number">100</span>;</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">this</span>.data - <span class="number">100</span>;</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[æ¨è] å¾ªç¯ä½“å†…ï¼Œå­—ç¬¦ä¸²çš„è¿æ¥æ–¹å¼ï¼Œä½¿ç”¨ StringBuilder çš„ append æ–¹æ³•è¿›è¡Œæ‰©å±•ã€‚</strong></p>
<p>è¯´æ˜ï¼šåç¼–è¯‘å‡ºçš„å­—èŠ‚ç æ–‡ä»¶æ˜¾ç¤ºæ¯æ¬¡å¾ªç¯éƒ½ä¼š new å‡ºä¸€ä¸ª StringBuilder å¯¹è±¡ï¼Œç„¶åè¿›è¡Œappend æ“ä½œï¼Œæœ€åé€šè¿‡ toString æ–¹æ³•è¿”å› String å¯¹è±¡ï¼Œé€ æˆå†…å­˜èµ„æºæµªè´¹ã€‚</p>
<p>åä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">"start"</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) {</span><br><span class="line">str = str + <span class="string">"hello"</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[æ¨è] <code>final</code> å¯ä»¥å£°æ˜ç±»ã€æˆå‘˜å˜é‡ã€æ–¹æ³•ã€ä»¥åŠæœ¬åœ°å˜é‡ï¼Œä¸‹åˆ—æƒ…å†µä½¿ç”¨ final å…³é”®å­—ï¼š</strong></p>
<ul>
<li><p>ä¸å…è®¸è¢«ç»§æ‰¿çš„ç±»ï¼Œå¦‚ï¼šString ç±»ã€‚</p>
</li>
<li><p>ä¸å…è®¸ä¿®æ”¹å¼•ç”¨çš„åŸŸå¯¹è±¡ï¼Œå¦‚ï¼šPOJO ç±»çš„åŸŸå˜é‡ã€‚</p>
</li>
<li><p>ä¸å…è®¸è¢«é‡å†™çš„æ–¹æ³•ï¼Œå¦‚ï¼šPOJO ç±»çš„ setter æ–¹æ³•ã€‚</p>
</li>
<li><p>ä¸å…è®¸è¿è¡Œè¿‡ç¨‹ä¸­é‡æ–°èµ‹å€¼çš„å±€éƒ¨å˜é‡ã€‚</p>
</li>
<li><p>é¿å…ä¸Šä¸‹æ–‡é‡å¤ä½¿ç”¨ä¸€ä¸ªå˜é‡ï¼Œä½¿ç”¨ final æè¿°å¯ä»¥å¼ºåˆ¶é‡æ–°å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œæ–¹ä¾¿æ›´å¥½	åœ°è¿›è¡Œé‡æ„ã€‚</p>
</li>
</ul>
<p><strong>[æ¨è] æ…ç”¨ Object çš„ <code>clone</code> æ–¹æ³•æ¥æ‹·è´å¯¹è±¡ã€‚</strong></p>
<p>è¯´æ˜ï¼šå¯¹è±¡çš„ clone æ–¹æ³•é»˜è®¤æ˜¯æµ…æ‹·è´ï¼Œè‹¥æƒ³å®ç°æ·±æ‹·è´éœ€è¦é‡å†™ clone æ–¹æ³•å®ç°å±æ€§å¯¹è±¡çš„æ‹·è´ã€‚</p>
<p><strong>[æ¨è] ç±»æˆå‘˜ä¸æ–¹æ³•è®¿é—®æ§åˆ¶ä»ä¸¥ï¼š</strong></p>
<ul>
<li><p>å¦‚æœä¸å…è®¸å¤–éƒ¨ç›´æ¥é€šè¿‡ new æ¥åˆ›å»ºå¯¹è±¡ï¼Œé‚£ä¹ˆæ„é€ æ–¹æ³•å¿…é¡»æ˜¯ privateã€‚</p>
</li>
<li><p>å·¥å…·ç±»ä¸å…è®¸æœ‰ public æˆ– default æ„é€ æ–¹æ³•ã€‚</p>
</li>
<li><p>ç±»é static æˆå‘˜å˜é‡å¹¶ä¸”ä¸å­ç±»å…±äº«ï¼Œå¿…é¡»æ˜¯ protectedã€‚</p>
</li>
<li><p>ç±»é static æˆå‘˜å˜é‡å¹¶ä¸”ä»…åœ¨æœ¬ç±»ä½¿ç”¨ï¼Œå¿…é¡»æ˜¯ privateã€‚</p>
</li>
<li><p>ç±» static æˆå‘˜å˜é‡å¦‚æœä»…åœ¨æœ¬ç±»ä½¿ç”¨ï¼Œå¿…é¡»æ˜¯ privateã€‚</p>
</li>
<li><p>è‹¥æ˜¯ static æˆå‘˜å˜é‡ï¼Œå¿…é¡»è€ƒè™‘æ˜¯å¦ä¸º finalã€‚</p>
</li>
<li><p>ç±»æˆå‘˜æ–¹æ³•åªä¾›ç±»å†…éƒ¨è°ƒç”¨ï¼Œå¿…é¡»æ˜¯ privateã€‚</p>
</li>
<li><p>ç±»æˆå‘˜æ–¹æ³•åªå¯¹ç»§æ‰¿ç±»å…¬å¼€ï¼Œé‚£ä¹ˆé™åˆ¶ä¸º protectedã€‚</p>
</li>
</ul>
<p>è¯´æ˜ï¼šä»»ä½•ç±»ã€æ–¹æ³•ã€å‚æ•°ã€å˜é‡ï¼Œä¸¥æ§è®¿é—®èŒƒå›´ã€‚è¿‡äºå®½æ³›çš„è®¿é—®èŒƒå›´ï¼Œä¸åˆ©äºæ¨¡å—è§£è€¦ã€‚</p>
<p>?&gt; æ€è€ƒï¼šå¦‚æœæ˜¯ä¸€ä¸ª private çš„æ–¹æ³•ï¼Œæƒ³åˆ é™¤å°±åˆ é™¤ï¼Œå¯æ˜¯ä¸€ä¸ª public çš„ service æ–¹æ³•ï¼Œæˆ–è€…ä¸€ä¸ª public çš„æˆå‘˜å˜é‡ï¼Œåˆ é™¤ä¸€ä¸‹ï¼Œä¸å¾—æ‰‹å¿ƒå†’ç‚¹æ±—å—ï¼Ÿå˜é‡åƒè‡ªå·±çš„å°å­©ï¼Œå°½é‡åœ¨è‡ªå·±çš„è§†çº¿å†…ï¼Œå˜é‡ä½œç”¨åŸŸå¤ªå¤§ï¼Œå¦‚æœæ— é™åˆ¶çš„åˆ°å¤„è·‘ï¼Œé‚£ä¹ˆä½ ä¼šæ‹…å¿ƒçš„ã€‚</p>
<h2 id="é›†åˆå¤„ç†"><a href="#é›†åˆå¤„ç†" class="headerlink" title="é›†åˆå¤„ç†"></a>é›†åˆå¤„ç†</h2><hr>
<p><strong>[å¼ºåˆ¶] å…³äº <code>hashCode</code> å’Œ <code>equals</code> çš„å¤„ç†ï¼Œéµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</strong></p>
<ul>
<li><p>åªè¦é‡å†™ equalsï¼Œå°±å¿…é¡»é‡å†™ hashCodeã€‚</p>
</li>
<li><p>å› ä¸º Set å­˜å‚¨çš„æ˜¯ä¸é‡å¤çš„å¯¹è±¡ï¼Œä¾æ® hashCode å’Œ equals è¿›è¡Œåˆ¤æ–­ï¼Œæ‰€ä»¥ Set å­˜å‚¨çš„å¯¹è±¡å¿…é¡»é‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p>
</li>
<li><p>å¦‚æœè‡ªå®šä¹‰å¯¹è±¡åšä¸º Map çš„é”®ï¼Œé‚£ä¹ˆå¿…é¡»é‡å†™ hashCode å’Œ equalsã€‚</p>
</li>
</ul>
<p>è¯´æ˜ï¼šString é‡å†™äº† hashCode å’Œ equals æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥éå¸¸æ„‰å¿«åœ°ä½¿ç”¨ String å¯¹è±¡<br>ä½œä¸º key æ¥ä½¿ç”¨ã€‚</p>
<p><strong>[å¼ºåˆ¶] <code>ArrayList</code>çš„<code>subList</code>ç»“æœä¸å¯å¼ºè½¬æˆ<code>ArrayList</code>ï¼Œå¦åˆ™ä¼šæŠ›å‡º<code>ClassCastException</code></strong></p>
<p>å¼‚å¸¸ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">java.util.RandomAccessSubList cannot be cast to java.util.ArrayList ;</span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜ï¼šsubList è¿”å›çš„æ˜¯ ArrayList çš„å†…éƒ¨ç±» SubListï¼Œå¹¶ä¸æ˜¯ ArrayList ï¼Œè€Œæ˜¯ArrayList çš„ä¸€ä¸ªè§†å›¾ï¼Œå¯¹äº SubList å­åˆ—è¡¨çš„æ‰€æœ‰æ“ä½œæœ€ç»ˆä¼šåæ˜ åˆ°åŸåˆ—è¡¨ä¸Šã€‚</p>
<p><strong>[å¼ºåˆ¶]  åœ¨ subList åœºæ™¯ä¸­ï¼Œé«˜åº¦æ³¨æ„å¯¹åŸé›†åˆå…ƒç´ ä¸ªæ•°çš„ä¿®æ”¹ï¼Œä¼šå¯¼è‡´å­åˆ—è¡¨çš„éå†ã€å¢åŠ ã€åˆ é™¤å‡äº§ç”Ÿ <code>ConcurrentModificationException</code> å¼‚å¸¸ã€‚</strong></p>
<p><strong>[å¼ºåˆ¶] ä½¿ç”¨é›†åˆè½¬æ•°ç»„çš„æ–¹æ³•ï¼Œå¿…é¡»ä½¿ç”¨é›†åˆçš„ <code>toArray(T[] array)</code>ï¼Œä¼ å…¥çš„æ˜¯ç±»å‹å®Œå…¨ä¸€æ ·çš„æ•°ç»„ï¼Œå¤§å°å°±æ˜¯ list.size()ã€‚</strong></p>
<p>è¯´æ˜ï¼šä½¿ç”¨ toArray å¸¦å‚æ–¹æ³•ï¼Œå…¥å‚åˆ†é…çš„æ•°ç»„ç©ºé—´ä¸å¤Ÿå¤§æ—¶ï¼ŒtoArray æ–¹æ³•å†…éƒ¨å°†é‡æ–°åˆ†é…å†…å­˜ç©ºé—´ï¼Œå¹¶è¿”å›æ–°æ•°ç»„åœ°å€ï¼›å¦‚æœæ•°ç»„å…ƒç´ å¤§äºå®é™…æ‰€éœ€ï¼Œä¸‹æ ‡ä¸º[ list.size() ]çš„æ•°ç»„å…ƒç´ å°†è¢«ç½®ä¸º nullï¼Œå…¶å®ƒæ•°ç»„å…ƒç´ ä¿æŒåŸå€¼ï¼Œå› æ­¤æœ€å¥½å°†æ–¹æ³•å…¥å‚æ•°ç»„å¤§å°å®šä¹‰ä¸é›†åˆå…ƒç´ ä¸ªæ•°ä¸€è‡´ã€‚</p>
<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;(<span class="number">2</span>);</span><br><span class="line">list.add(<span class="string">"guan"</span>);</span><br><span class="line">list.add(<span class="string">"bao"</span>);</span><br><span class="line">String[] array = <span class="keyword">new</span> <span class="title class_">String</span>[list.size()];</span><br><span class="line">array = list.toArray(array);</span><br></pre></td></tr></tbody></table></figure>

<p>åä¾‹ï¼šç›´æ¥ä½¿ç”¨ toArray æ— å‚æ–¹æ³•å­˜åœ¨é—®é¢˜ï¼Œæ­¤æ–¹æ³•è¿”å›å€¼åªèƒ½æ˜¯ Object[]ç±»ï¼Œè‹¥å¼ºè½¬å…¶å®ƒç±»å‹æ•°ç»„å°†å‡ºç° ClassCastException é”™è¯¯ã€‚</p>
<p><strong>[å¼ºåˆ¶] ä½¿ç”¨å·¥å…·ç±» <code>Arrays.asList()</code>æŠŠæ•°ç»„è½¬æ¢æˆé›†åˆæ—¶ï¼Œä¸èƒ½ä½¿ç”¨å…¶ä¿®æ”¹é›†åˆç›¸å…³çš„æ–¹æ³•ï¼Œå®ƒçš„ add/remove/clear æ–¹æ³•ä¼šæŠ›å‡º UnsupportedOperationException å¼‚å¸¸ã€‚</strong></p>
<p>è¯´æ˜ï¼šasList çš„è¿”å›å¯¹è±¡æ˜¯ä¸€ä¸ª Arrays å†…éƒ¨ç±»ï¼Œå¹¶æ²¡æœ‰å®ç°é›†åˆçš„ä¿®æ”¹æ–¹æ³•ã€‚Arrays.asList<br>ä½“ç°çš„æ˜¯é€‚é…å™¨æ¨¡å¼ï¼Œåªæ˜¯è½¬æ¢æ¥å£ï¼Œåå°çš„æ•°æ®ä»æ˜¯æ•°ç»„ã€‚<br> String[] str = new String[] { â€œaâ€, â€œbâ€ };<br> List list = Arrays.asList(str);<br>ç¬¬ä¸€ç§æƒ…å†µï¼šlist.add(â€œcâ€); è¿è¡Œæ—¶å¼‚å¸¸ã€‚<br>ç¬¬äºŒç§æƒ…å†µï¼šstr[0] = â€œgujinâ€; é‚£ä¹ˆ list.get(0)ä¹Ÿä¼šéšä¹‹ä¿®æ”¹ã€‚</p>
<p><strong>[å¼ºåˆ¶] æ³›å‹é€šé…ç¬¦&lt;? extends T&gt;æ¥æ¥æ”¶è¿”å›çš„æ•°æ®ï¼Œæ­¤å†™æ³•çš„æ³›å‹é›†åˆä¸èƒ½ä½¿ç”¨ add æ–¹æ³•ï¼Œè€Œ&lt;? super T&gt;ä¸èƒ½ä½¿ç”¨ get æ–¹æ³•ï¼Œåšä¸ºæ¥å£è°ƒç”¨èµ‹å€¼æ—¶æ˜“å‡ºé”™ã€‚</strong></p>
<p>è¯´æ˜ï¼šæ‰©å±•è¯´ä¸€ä¸‹ PECS(Producer Extends Consumer Super)åŸåˆ™ï¼š</p>
<ol>
<li>é¢‘ç¹å¾€å¤–è¯»å–å†…å®¹çš„ï¼Œé€‚åˆç”¨ä¸Šç•Œ Extendsã€‚</li>
<li>ç»å¸¸å¾€é‡Œæ’å…¥çš„ï¼Œé€‚åˆç”¨ä¸‹ç•Œ Superã€‚</li>
</ol>
<p><strong>[å¼ºåˆ¶] ä¸è¦åœ¨ <code>foreach</code> å¾ªç¯é‡Œè¿›è¡Œå…ƒç´ çš„ remove/add æ“ä½œã€‚remove å…ƒç´ è¯·ä½¿ç”¨ <code>Iterator</code>æ–¹å¼ï¼Œå¦‚æœå¹¶å‘æ“ä½œï¼Œéœ€è¦å¯¹ Iterator å¯¹è±¡åŠ é”ã€‚</strong></p>
<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">Iterator&lt;String&gt; it = a.iterator();</span><br><span class="line"><span class="keyword">while</span> (it.hasNext()) {</span><br><span class="line"><span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> it.next();</span><br><span class="line"><span class="keyword">if</span> (åˆ é™¤å…ƒç´ çš„æ¡ä»¶) {</span><br><span class="line">it.remove();</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">List&lt;String&gt; a = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">a.add(<span class="string">"1"</span>);</span><br><span class="line">a.add(<span class="string">"2"</span>);</span><br><span class="line"><span class="keyword">for</span> (String temp : a) {</span><br><span class="line"><span class="keyword">if</span> (<span class="string">"1"</span>.equals(temp)) {</span><br><span class="line">a.remove(temp);</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>?&gt; è¯´æ˜ï¼šä»¥ä¸Šä»£ç çš„æ‰§è¡Œç»“æœè‚¯å®šä¼šå‡ºä¹å¤§å®¶çš„æ„æ–™ï¼Œé‚£ä¹ˆè¯•ä¸€ä¸‹æŠŠâ€œ1â€æ¢æˆâ€œ2â€ï¼Œä¼šæ˜¯åŒæ ·çš„ç»“æœå—ï¼Ÿ</p>
<p><strong>[å¼ºåˆ¶]  åœ¨ JDK7 ç‰ˆæœ¬åŠä»¥ä¸Šï¼Œ<code>Comparator</code> è¦æ»¡è¶³å¦‚ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼Œä¸ç„¶ <code>Arrays.sort</code>ï¼Œ<code>Collections.sort</code> ä¼šæŠ¥ <code>IllegalArgumentException</code> å¼‚å¸¸ã€‚</strong></p>
<p>è¯´æ˜ï¼š</p>
<ol>
<li>xï¼Œy çš„æ¯”è¾ƒç»“æœå’Œ yï¼Œx çš„æ¯”è¾ƒç»“æœç›¸åã€‚</li>
<li>x&gt;yï¼Œy&gt;zï¼Œåˆ™ x&gt;zã€‚</li>
<li>x=yï¼Œåˆ™ xï¼Œz æ¯”è¾ƒç»“æœå’Œ yï¼Œz æ¯”è¾ƒç»“æœç›¸åŒã€‚</li>
</ol>
<p>åä¾‹ï¼šä¸‹ä¾‹ä¸­æ²¡æœ‰å¤„ç†ç›¸ç­‰çš„æƒ…å†µï¼Œå®é™…ä½¿ç”¨ä¸­å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() {</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> {</span><br><span class="line"><span class="keyword">return</span> o1.getId() &gt; o2.getId() ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[æ¨è] é›†åˆåˆå§‹åŒ–æ—¶ï¼ŒæŒ‡å®šé›†åˆåˆå§‹å€¼å¤§å°ã€‚</strong></p>
<p>è¯´æ˜ï¼šHashMap ä½¿ç”¨ HashMap(int initialCapacity) åˆå§‹åŒ–ï¼Œ</p>
<p>æ­£ä¾‹ï¼šinitialCapacity = (éœ€è¦å­˜å‚¨çš„å…ƒç´ ä¸ªæ•° / è´Ÿè½½å› å­) + 1ã€‚æ³¨æ„è´Ÿè½½å› å­ï¼ˆå³ loader<br>factorï¼‰é»˜è®¤ä¸º 0.75ï¼Œå¦‚æœæš‚æ—¶æ— æ³•ç¡®å®šåˆå§‹å€¼å¤§å°ï¼Œè¯·è®¾ç½®ä¸º 16ã€‚</p>
<p>åä¾‹ï¼šHashMap éœ€è¦æ”¾ç½® 1024 ä¸ªå…ƒç´ ï¼Œç”±äºæ²¡æœ‰è®¾ç½®å®¹é‡åˆå§‹å¤§å°ï¼Œéšç€å…ƒç´ ä¸æ–­å¢åŠ ï¼Œå®¹<br>é‡ 7 æ¬¡è¢«è¿«æ‰©å¤§ï¼Œresize éœ€è¦é‡å»º hash è¡¨ï¼Œä¸¥é‡å½±å“æ€§èƒ½ã€‚</p>
<p><strong>[æ¨è] ä½¿ç”¨ <code>entrySet</code> éå† Map ç±»é›†åˆ KVï¼Œè€Œä¸æ˜¯ <code>keySet</code> æ–¹å¼è¿›è¡Œéå†ã€‚</strong></p>
<p>è¯´æ˜ï¼škeySet å…¶å®æ˜¯éå†äº† 2 æ¬¡ï¼Œä¸€æ¬¡æ˜¯è½¬ä¸º Iterator å¯¹è±¡ï¼Œå¦ä¸€æ¬¡æ˜¯ä» hashMap ä¸­å–å‡ºkey æ‰€å¯¹åº”çš„ valueã€‚è€Œ entrySet åªæ˜¯éå†äº†ä¸€æ¬¡å°±æŠŠ key å’Œ value éƒ½æ”¾åˆ°äº† entry ä¸­ï¼Œæ•ˆç‡æ›´é«˜ã€‚å¦‚æœæ˜¯ JDK8ï¼Œä½¿ç”¨ Map.foreach æ–¹æ³•ã€‚</p>
<p>æ­£ä¾‹ï¼švalues()è¿”å›çš„æ˜¯ V å€¼é›†åˆï¼Œæ˜¯ä¸€ä¸ª list é›†åˆå¯¹è±¡ï¼›keySet()è¿”å›çš„æ˜¯ K å€¼é›†åˆï¼Œæ˜¯ä¸€ä¸ª Set é›†åˆå¯¹è±¡ï¼›entrySet()è¿”å›çš„æ˜¯ K-V å€¼ç»„åˆé›†åˆã€‚</p>
<p><strong>[æ¨è] é«˜åº¦æ³¨æ„ <code>Map</code> ç±»é›†åˆ <code>K/V</code> èƒ½ä¸èƒ½å­˜å‚¨ <code>null</code> å€¼çš„æƒ…å†µï¼Œå¦‚ä¸‹è¡¨æ ¼ï¼š</strong></p>
<table>
<thead>
<tr>
<th>é›†åˆç±»</th>
<th>key</th>
<th>Value</th>
<th>Super</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>Hashtable</td>
<td>ä¸å…è®¸ä¸º null</td>
<td>ä¸å…è®¸ä¸º null</td>
<td>Dictionary</td>
<td>çº¿ç¨‹å®‰å…¨</td>
</tr>
<tr>
<td>ConcurrentHashMap</td>
<td>ä¸å…è®¸ä¸º null</td>
<td>ä¸å…è®¸ä¸º null</td>
<td>AbstractMap</td>
<td>åˆ†æ®µé”æŠ€æœ¯</td>
</tr>
<tr>
<td>TreeMap</td>
<td>ä¸å…è®¸ä¸º null</td>
<td>å…è®¸ä¸º null</td>
<td>AbstractMap</td>
<td>çº¿ç¨‹ä¸å®‰å…¨</td>
</tr>
<tr>
<td>HashMap</td>
<td>å…è®¸ä¸º null</td>
<td>å…è®¸ä¸º null</td>
<td>AbstractMap</td>
<td>çº¿ç¨‹ä¸å®‰å…¨</td>
</tr>
</tbody></table>
<p>åä¾‹ï¼š ç”±äº HashMap çš„å¹²æ‰°ï¼Œå¾ˆå¤šäººè®¤ä¸º ConcurrentHashMap æ˜¯å¯ä»¥ç½®å…¥ null å€¼ï¼Œè€Œäº‹å®ä¸Šï¼Œ<br>å­˜å‚¨ null å€¼æ—¶ä¼šæŠ›å‡º NPE å¼‚å¸¸ã€‚</p>
<p><strong>[å‚è€ƒ] åˆç†åˆ©ç”¨å¥½é›†åˆçš„æœ‰åºæ€§(sort)å’Œç¨³å®šæ€§(order)ï¼Œé¿å…é›†åˆçš„æ— åºæ€§(unsort)å’Œä¸ç¨³å®šæ€§(unorder)å¸¦æ¥çš„è´Ÿé¢å½±å“ã€‚</strong></p>
<p>è¯´æ˜ï¼šæœ‰åºæ€§æ˜¯æŒ‡éå†çš„ç»“æœæ˜¯æŒ‰æŸç§æ¯”è¾ƒè§„åˆ™ä¾æ¬¡æ’åˆ—çš„ã€‚ç¨³å®šæ€§æŒ‡é›†åˆæ¯æ¬¡éå†çš„å…ƒç´ æ¬¡åºæ˜¯ä¸€å®šçš„ã€‚å¦‚ï¼šArrayList æ˜¯ order/unsortï¼›HashMap æ˜¯ unorder/unsortï¼›TreeSet æ˜¯<br>order/sortã€‚</p>
<p><strong>[å‚è€ƒ] åˆ©ç”¨ <code>Set</code> å…ƒç´ å”¯ä¸€çš„ç‰¹æ€§ï¼Œå¯ä»¥å¿«é€Ÿå¯¹ä¸€ä¸ªé›†åˆè¿›è¡Œå»é‡æ“ä½œï¼Œé¿å…ä½¿ç”¨ List çš„contains æ–¹æ³•è¿›è¡Œéå†ã€å¯¹æ¯”ã€å»é‡æ“ä½œã€‚</strong></p>
<h2 id="å¹¶å‘å¤„ç†"><a href="#å¹¶å‘å¤„ç†" class="headerlink" title="å¹¶å‘å¤„ç†"></a>å¹¶å‘å¤„ç†</h2><hr>
<p><strong>[å¼ºåˆ¶] è·å–å•ä¾‹å¯¹è±¡éœ€è¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå…¶ä¸­çš„æ–¹æ³•ä¹Ÿè¦ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</strong></p>
<p>è¯´æ˜ï¼šèµ„æºé©±åŠ¨ç±»ã€å·¥å…·ç±»ã€å•ä¾‹å·¥å‚ç±»éƒ½éœ€è¦æ³¨æ„ã€‚</p>
<p><strong>[å¼ºåˆ¶] åˆ›å»ºçº¿ç¨‹æˆ–çº¿ç¨‹æ± æ—¶è¯·æŒ‡å®šæœ‰æ„ä¹‰çš„çº¿ç¨‹åç§°ï¼Œæ–¹ä¾¿å‡ºé”™æ—¶å›æº¯ã€‚</strong></p>
<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimerTaskThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> {</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">TimerTaskThread</span><span class="params">()</span> {</span><br><span class="line"><span class="built_in">super</span>.setName(<span class="string">"TimerTaskThread"</span>); ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[å¼ºåˆ¶] çº¿ç¨‹èµ„æºå¿…é¡»é€šè¿‡çº¿ç¨‹æ± æä¾›ï¼Œä¸å…è®¸åœ¨åº”ç”¨ä¸­è‡ªè¡Œæ˜¾å¼åˆ›å»ºçº¿ç¨‹ã€‚</strong></p>
<p>è¯´æ˜ï¼šä½¿ç”¨çº¿ç¨‹æ± çš„å¥½å¤„æ˜¯å‡å°‘åœ¨åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ä¸Šæ‰€èŠ±çš„æ—¶é—´ä»¥åŠç³»ç»Ÿèµ„æºçš„å¼€é”€ï¼Œè§£å†³èµ„æºä¸è¶³çš„é—®é¢˜ã€‚å¦‚æœä¸ä½¿ç”¨çº¿ç¨‹æ± ï¼Œæœ‰å¯èƒ½é€ æˆç³»ç»Ÿåˆ›å»ºå¤§é‡åŒç±»çº¿ç¨‹è€Œå¯¼è‡´æ¶ˆè€—å®Œå†…å­˜æˆ–è€…â€œè¿‡åº¦åˆ‡æ¢â€çš„é—®é¢˜ã€‚</p>
<p><strong>[å¼ºåˆ¶] çº¿ç¨‹æ± ä¸å…è®¸ä½¿ç”¨ <code>Executors</code> å»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ <code>ThreadPoolExecutor</code> çš„æ–¹å¼ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜ç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£é™©ã€‚</strong></p>
<p>è¯´æ˜ï¼šExecutors è¿”å›çš„çº¿ç¨‹æ± å¯¹è±¡çš„å¼Šç«¯å¦‚ä¸‹ï¼š</p>
<ol>
<li>FixedThreadPool å’Œ SingleThreadPool:<br>å…è®¸çš„è¯·æ±‚é˜Ÿåˆ—é•¿åº¦ä¸º Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´ OOMã€‚</li>
<li>CachedThreadPool å’Œ ScheduledThreadPool:<br>å…è®¸çš„åˆ›å»ºçº¿ç¨‹æ•°é‡ä¸º Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çš„çº¿ç¨‹ï¼Œä»è€Œå¯¼è‡´ OOMã€‚</li>
</ol>
<p><strong>[å¼ºåˆ¶] <code>SimpleDateFormat</code> æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ç±»ï¼Œä¸€èˆ¬ä¸è¦å®šä¹‰ä¸º <code>static</code> å˜é‡ï¼Œå¦‚æœå®šä¹‰ä¸ºstaticï¼Œå¿…é¡»<code>åŠ é”</code>ï¼Œæˆ–è€…ä½¿ç”¨ DateUtils å·¥å…·ç±»ã€‚</strong></p>
<p>æ­£ä¾‹ï¼šæ³¨æ„çº¿ç¨‹å®‰å…¨ï¼Œä½¿ç”¨ DateUtilsã€‚äº¦æ¨èå¦‚ä¸‹å¤„ç†ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;DateFormat&gt; df = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;DateFormat&gt;() {</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> DateFormat <span class="title function_">initialValue</span><span class="params">()</span> {</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">}</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜ï¼šå¦‚æœæ˜¯ JDK8 çš„åº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ Instant ä»£æ›¿ Dateï¼ŒLocalDateTime ä»£æ›¿ Calendarï¼ŒDateTimeFormatterä»£æ›¿Simpledateformatterï¼Œå®˜æ–¹ç»™å‡ºçš„è§£é‡Šï¼šsimple beautiful strong<br>immutable thread-safeã€‚</p>
<p><strong>[å¼ºåˆ¶] é«˜å¹¶å‘æ—¶ï¼ŒåŒæ­¥è°ƒç”¨åº”è¯¥å»è€ƒé‡<a href="https://www.ibm.com/developerworks/cn/java/j-lo-lock/index.html">é”</a>çš„æ€§èƒ½æŸè€—ã€‚èƒ½ç”¨æ— é”æ•°æ®ç»“æ„ï¼Œå°±ä¸è¦ç”¨é”ï¼›èƒ½é”åŒºå—ï¼Œå°±ä¸è¦é”æ•´ä¸ªæ–¹æ³•ä½“ï¼›èƒ½ç”¨å¯¹è±¡é”ï¼Œå°±ä¸è¦ç”¨ç±»é”ã€‚</strong></p>
<p>è¯´æ˜ï¼šå°½å¯èƒ½ä½¿åŠ é”çš„ä»£ç å—å·¥ä½œé‡å°½å¯èƒ½çš„å°ï¼Œé¿å…åœ¨é”ä»£ç å—ä¸­è°ƒç”¨ RPC æ–¹æ³•ã€‚</p>
<p><strong>[å¼ºåˆ¶] å¯¹å¤šä¸ªèµ„æºã€æ•°æ®åº“è¡¨ã€å¯¹è±¡åŒæ—¶åŠ é”æ—¶ï¼Œéœ€è¦ä¿æŒä¸€è‡´çš„åŠ é”é¡ºåºï¼Œå¦åˆ™å¯èƒ½ä¼šé€ æˆæ­»é”ã€‚</strong></p>
<p>è¯´æ˜ï¼šçº¿ç¨‹ä¸€éœ€è¦å¯¹è¡¨ Aã€Bã€C ä¾æ¬¡å…¨éƒ¨åŠ é”åæ‰å¯ä»¥è¿›è¡Œæ›´æ–°æ“ä½œï¼Œé‚£ä¹ˆçº¿ç¨‹äºŒçš„åŠ é”é¡ºåºä¹Ÿå¿…é¡»æ˜¯ Aã€Bã€Cï¼Œå¦åˆ™å¯èƒ½å‡ºç°æ­»é”ã€‚</p>
<p><strong>[å¼ºåˆ¶] å¹¶å‘ä¿®æ”¹åŒä¸€è®°å½•æ—¶ï¼Œé¿å…æ›´æ–°ä¸¢å¤±ï¼Œéœ€è¦åŠ é”ã€‚è¦ä¹ˆåœ¨åº”ç”¨å±‚åŠ é”ï¼Œè¦ä¹ˆåœ¨ç¼“å­˜åŠ é”ï¼Œè¦ä¹ˆåœ¨æ•°æ®åº“å±‚ä½¿ç”¨<code>ä¹è§‚é”</code>ï¼Œä½¿ç”¨ version ä½œä¸ºæ›´æ–°ä¾æ®ã€‚</strong></p>
<p>è¯´æ˜ï¼šå¦‚æœæ¯æ¬¡è®¿é—®å†²çªæ¦‚ç‡å°äº 20%ï¼Œæ¨èä½¿ç”¨ä¹è§‚é”ï¼Œå¦åˆ™ä½¿ç”¨æ‚²è§‚é”ã€‚ä¹è§‚é”çš„é‡è¯•æ¬¡æ•°ä¸å¾—å°äº 3 æ¬¡ã€‚</p>
<p><strong>[å¼ºåˆ¶] å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†å®šæ—¶ä»»åŠ¡æ—¶ï¼Œ<code>Timer</code> è¿è¡Œå¤šä¸ª <code>TimeTask</code> æ—¶ï¼Œåªè¦å…¶ä¸­ä¹‹ä¸€æ²¡æœ‰æ•è·æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå…¶å®ƒä»»åŠ¡ä¾¿ä¼šè‡ªåŠ¨ç»ˆæ­¢è¿è¡Œï¼Œä½¿ç”¨ <code>ScheduledExecutorService</code> åˆ™æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚</strong></p>
<p><strong>[æ¨è] ä½¿ç”¨ <code>CountDownLatch</code> è¿›è¡Œå¼‚æ­¥è½¬åŒæ­¥æ“ä½œï¼Œæ¯ä¸ªçº¿ç¨‹é€€å‡ºå‰å¿…é¡»è°ƒç”¨ <code>countDown</code>æ–¹æ³•ï¼Œçº¿ç¨‹æ‰§è¡Œä»£ç æ³¨æ„ <code>catch</code> å¼‚å¸¸ï¼Œç¡®ä¿ <code>countDown</code> æ–¹æ³•å¯ä»¥æ‰§è¡Œï¼Œé¿å…ä¸»çº¿ç¨‹æ— æ³•æ‰§è¡Œè‡³ <code>await</code> æ–¹æ³•ï¼Œç›´åˆ°è¶…æ—¶æ‰è¿”å›ç»“æœã€‚</strong></p>
<p>è¯´æ˜ï¼šæ³¨æ„ï¼Œå­çº¿ç¨‹æŠ›å‡ºå¼‚å¸¸å †æ ˆï¼Œä¸èƒ½åœ¨ä¸»çº¿ç¨‹ try-catch åˆ°ã€‚</p>
<p><strong>[æ¨è] é¿å… <code>Random</code> å®ä¾‹è¢«å¤šçº¿ç¨‹ä½¿ç”¨ï¼Œè™½ç„¶å…±äº«è¯¥å®ä¾‹æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†ä¼šå› ç«äº‰åŒä¸€<code>seed</code> å¯¼è‡´çš„æ€§èƒ½ä¸‹é™ã€‚</strong></p>
<p>è¯´æ˜ï¼šRandom å®ä¾‹åŒ…æ‹¬ java.util.Random çš„å®ä¾‹æˆ–è€… Math.random()çš„æ–¹å¼ã€‚</p>
<p>æ­£ä¾‹ï¼šåœ¨ JDK7 ä¹‹åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ API ThreadLocalRandomï¼Œè€Œåœ¨ JDK7 ä¹‹å‰ï¼Œéœ€è¦ç¼–ç ä¿è¯æ¯ä¸ªçº¿ç¨‹æŒæœ‰ä¸€ä¸ªå®ä¾‹ã€‚</p>
<p><strong>[æ¨è] åœ¨å¹¶å‘åœºæ™¯ä¸‹ï¼Œé€šè¿‡<a href="http://ifeve.com/double-checked-locking-with-delay-initialization/">åŒé‡æ£€æŸ¥é”</a>ï¼ˆdouble-checked lockingï¼‰å®ç°å»¶è¿Ÿåˆå§‹åŒ–çš„ä¼˜åŒ–é—®é¢˜éšæ‚£(å¯å‚è€ƒ The â€œDouble-Checked Locking is Brokenâ€ Declaration)ï¼Œæ¨èé—®é¢˜è§£å†³æ–¹æ¡ˆä¸­è¾ƒä¸ºç®€å•ä¸€ç§ï¼ˆé€‚ç”¨äº JDK5 åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ï¼Œå°†ç›®æ ‡å±æ€§å£°æ˜ä¸º volatile å‹ã€‚</strong></p>
<p>åä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Foo</span> {</span><br><span class="line"><span class="keyword">private</span> <span class="type">Helper</span> <span class="variable">helper</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">public</span> Helper <span class="title function_">getHelper</span><span class="params">()</span> {</span><br><span class="line"><span class="keyword">if</span> (helper == <span class="literal">null</span>) <span class="keyword">synchronized</span>(<span class="built_in">this</span>) {</span><br><span class="line"><span class="keyword">if</span> (helper == <span class="literal">null</span>)</span><br><span class="line">helper = <span class="keyword">new</span> <span class="title class_">Helper</span>();</span><br><span class="line">}</span><br><span class="line"><span class="keyword">return</span> helper;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// other functions and members...</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[å‚è€ƒ] <code>volatile</code> è§£å†³å¤šçº¿ç¨‹å†…å­˜ä¸å¯è§é—®é¢˜ã€‚å¯¹äºä¸€å†™å¤šè¯»ï¼Œæ˜¯å¯ä»¥è§£å†³å˜é‡åŒæ­¥é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœå¤šå†™ï¼ŒåŒæ ·æ— æ³•è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å¦‚æœæ˜¯ <code>count++</code>æ“ä½œï¼Œä½¿ç”¨å¦‚ä¸‹ç±»å®ç°ï¼š</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">AtomicInteger</span> <span class="variable">count</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(); </span><br><span class="line">count.addAndGet(<span class="number">1</span>); </span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ˜¯ JDK8ï¼Œæ¨èä½¿ç”¨ LongAdder å¯¹è±¡ï¼Œæ¯” AtomicLong æ€§èƒ½æ›´å¥½ï¼ˆå‡å°‘ä¹è§‚é”çš„é‡è¯•æ¬¡æ•°ï¼‰ã€‚</p>
<p><strong>[å‚è€ƒ]  <code>HashMap</code> åœ¨å®¹é‡ä¸å¤Ÿè¿›è¡Œ <code>resize</code> æ—¶ç”±äºé«˜å¹¶å‘å¯èƒ½å‡ºç°æ­»é“¾ï¼Œå¯¼è‡´ <code>CPU</code> é£™å‡ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯ä»¥ä½¿ç”¨å…¶å®ƒæ•°æ®ç»“æ„æˆ–åŠ é”æ¥è§„é¿æ­¤é£é™©ã€‚</strong></p>
<p><strong>[å‚è€ƒ] <code>ThreadLocal</code> æ— æ³•è§£å†³å…±äº«å¯¹è±¡çš„æ›´æ–°é—®é¢˜ï¼ŒThreadLocal å¯¹è±¡å»ºè®®ä½¿ç”¨ <code>static</code>ä¿®é¥°ã€‚è¿™ä¸ªå˜é‡æ˜¯é’ˆå¯¹ä¸€ä¸ªçº¿ç¨‹å†…æ‰€æœ‰æ“ä½œå…±æœ‰çš„ï¼Œæ‰€ä»¥è®¾ç½®ä¸ºé™æ€å˜é‡ï¼Œæ‰€æœ‰æ­¤ç±»å®ä¾‹å…±äº«æ­¤é™æ€å˜é‡ ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ç±»ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨æ—¶è£…è½½ï¼Œåªåˆ†é…ä¸€å—å­˜å‚¨ç©ºé—´ï¼Œæ‰€æœ‰æ­¤ç±»çš„å¯¹è±¡(åªè¦æ˜¯è¿™ä¸ªçº¿ç¨‹å†…å®šä¹‰çš„)éƒ½å¯ä»¥æ“æ§è¿™ä¸ªå˜é‡ã€‚</strong></p>
<h2 id="æ§åˆ¶è¯­å¥"><a href="#æ§åˆ¶è¯­å¥" class="headerlink" title="æ§åˆ¶è¯­å¥"></a>æ§åˆ¶è¯­å¥</h2><hr>
<p><strong>[å¼ºåˆ¶] åœ¨ä¸€ä¸ª <code>switch</code> å—å†…ï¼Œæ¯ä¸ª <code>case</code> è¦ä¹ˆé€šè¿‡ <code>break</code>/<code>return</code> ç­‰æ¥ç»ˆæ­¢ï¼Œè¦ä¹ˆæ³¨é‡Šè¯´æ˜ç¨‹åºå°†ç»§ç»­æ‰§è¡Œåˆ°å“ªä¸€ä¸ª case ä¸ºæ­¢ï¼›åœ¨ä¸€ä¸ª switch å—å†…ï¼Œéƒ½å¿…é¡»åŒ…å«ä¸€ä¸ª <code>default</code> è¯­å¥å¹¶ä¸”æ”¾åœ¨æœ€åï¼Œå³ä½¿å®ƒä»€ä¹ˆä»£ç ä¹Ÿæ²¡æœ‰ã€‚</strong></p>
<p><strong>[å¼ºåˆ¶] åœ¨ <code>if</code>/<code>else</code>/<code>for</code>/<code>while</code>/<code>do</code> è¯­å¥ä¸­å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·ã€‚å³ä½¿åªæœ‰ä¸€è¡Œä»£ç ï¼Œé¿å…ä½¿ç”¨å•è¡Œçš„å½¢å¼ï¼šif (condition) statements;</strong></p>
<p><strong>[æ¨è] è¡¨è¾¾å¼‚å¸¸çš„åˆ†æ”¯æ—¶ï¼Œå°‘ç”¨ <code>if-else</code> æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å¯ä»¥æ”¹å†™æˆï¼š</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition) {</span><br><span class="line"> ...</span><br><span class="line"> <span class="keyword">return</span> obj;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æ¥ç€å†™ else çš„ä¸šåŠ¡é€»è¾‘ä»£ç ;</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¯´æ˜ï¼šå¦‚æœéå¾—ä½¿ç”¨ if()â€¦else if()â€¦elseâ€¦æ–¹å¼è¡¨è¾¾é€»è¾‘</p>
<p><strong>[å¼ºåˆ¶] é¿å…åç»­ä»£ç ç»´æŠ¤å›°éš¾ï¼Œè¯·å‹¿è¶…è¿‡ 3 å±‚ã€‚æ­£ä¾‹ï¼šé€»è¾‘ä¸Šè¶…è¿‡ 3 å±‚çš„ if-else ä»£ç å¯ä»¥ä½¿ç”¨å«è¯­å¥ï¼Œæˆ–è€…çŠ¶æ€æ¨¡å¼æ¥å®ç°ã€‚</strong></p>
<p>ç¤ºä¾‹:</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">today</span><span class="params">()</span> {</span><br><span class="line"> <span class="keyword">if</span> (isBusy()) {</span><br><span class="line">System.out.println(â€œchange time.â€);</span><br><span class="line"> <span class="keyword">return</span>;</span><br><span class="line"> }</span><br><span class="line"> <span class="keyword">if</span> (isFree()) {</span><br><span class="line">System.out.println(â€œgo to travel.â€);</span><br><span class="line"> <span class="keyword">return</span>;</span><br><span class="line"> }</span><br><span class="line">System.out.println(â€œstay at home to learn Alibaba Java Coding Guideline.â€);</span><br><span class="line"> <span class="keyword">return</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[æ¨è] é™¤å¸¸ç”¨æ–¹æ³•ï¼ˆå¦‚ getXxx/isXxxï¼‰ç­‰å¤–ï¼Œä¸è¦åœ¨æ¡ä»¶åˆ¤æ–­ä¸­æ‰§è¡Œå…¶å®ƒå¤æ‚çš„è¯­å¥ï¼Œå°†å¤æ‚é€»è¾‘åˆ¤æ–­çš„ç»“æœèµ‹å€¼ç»™ä¸€ä¸ªæœ‰æ„ä¹‰çš„å¸ƒå°”å˜é‡åï¼Œä»¥æé«˜å¯è¯»æ€§ã€‚</strong></p>
<p>è¯´æ˜ï¼šå¾ˆå¤š if è¯­å¥å†…çš„é€»è¾‘ç›¸å½“å¤æ‚ï¼Œé˜…è¯»è€…éœ€è¦åˆ†ææ¡ä»¶è¡¨è¾¾å¼çš„æœ€ç»ˆç»“æœï¼Œæ‰èƒ½æ˜ç¡®ä»€ä¹ˆæ ·çš„æ¡ä»¶æ‰§è¡Œä»€ä¹ˆæ ·çš„è¯­å¥ï¼Œé‚£ä¹ˆï¼Œå¦‚æœé˜…è¯»è€…åˆ†æé€»è¾‘è¡¨è¾¾å¼é”™è¯¯å‘¢ï¼Ÿ</p>
<p>æ­£ä¾‹ï¼š</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//ä¼ªä»£ç å¦‚ä¸‹</span></span><br><span class="line"><span class="keyword">final</span> <span class="type">boolean</span> <span class="variable">existed</span> <span class="operator">=</span> (file.open(fileName, <span class="string">"w"</span>) != <span class="literal">null</span>) &amp;&amp; (...) || (...);</span><br><span class="line"><span class="keyword">if</span> (existed) {</span><br><span class="line"> ...</span><br><span class="line">}</span><br><span class="line">åä¾‹ï¼š</span><br><span class="line"><span class="keyword">if</span> ((file.open(fileName, <span class="string">"w"</span>) != <span class="literal">null</span>) &amp;&amp; (...) || (...)) {</span><br><span class="line"> ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>[æ¨è] å¾ªç¯ä½“ä¸­çš„è¯­å¥è¦è€ƒé‡æ€§èƒ½ï¼Œä»¥ä¸‹æ“ä½œå°½é‡ç§»è‡³å¾ªç¯ä½“å¤–å¤„ç†ï¼Œå¦‚å®šä¹‰å¯¹è±¡ã€å˜é‡ã€è·å–æ•°æ®åº“è¿æ¥ï¼Œè¿›è¡Œä¸å¿…è¦çš„ <code>try-catch</code> æ“ä½œï¼ˆè¿™ä¸ª try-catch æ˜¯å¦å¯ä»¥ç§»è‡³å¾ªç¯ä½“å¤–ï¼‰ã€‚</strong></p>
<p><strong>[æ¨è] æ¥å£å…¥å‚ä¿æŠ¤ï¼Œè¿™ç§åœºæ™¯å¸¸è§çš„æ˜¯ç”¨äºåšæ‰¹é‡æ“ä½œçš„æ¥å£ã€‚</strong></p>
<p><strong>[å‚è€ƒ] ä¸‹åˆ—æƒ…å½¢ï¼Œéœ€è¦è¿›è¡Œå‚æ•°æ ¡éªŒï¼š</strong></p>
<ul>
<li><p>è°ƒç”¨é¢‘æ¬¡ä½çš„æ–¹æ³•ã€‚</p>
</li>
<li><p>æ‰§è¡Œæ—¶é—´å¼€é”€å¾ˆå¤§çš„æ–¹æ³•ã€‚æ­¤æƒ…å½¢ä¸­ï¼Œå‚æ•°æ ¡éªŒæ—¶é—´å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†å¦‚æœå› ä¸ºå‚æ•°é”™è¯¯å¯¼è‡´ä¸­é—´æ‰§è¡Œå›é€€ï¼Œæˆ–è€…é”™è¯¯ï¼Œé‚£å¾—ä¸å¿å¤±ã€‚</p>
</li>
<li><p>éœ€è¦æé«˜ç¨³å®šæ€§å’Œå¯ç”¨æ€§çš„æ–¹æ³•ã€‚</p>
</li>
<li><p>å¯¹å¤–æä¾›çš„å¼€æ”¾æ¥å£ï¼Œä¸ç®¡æ˜¯ RPC/API/HTTP æ¥å£ã€‚</p>
</li>
<li><p>æ•æ„Ÿæƒé™å…¥å£ã€‚</p>
</li>
</ul>
<p><strong>[å‚è€ƒ] ä¸‹åˆ—æƒ…å½¢ï¼Œä¸éœ€è¦è¿›è¡Œå‚æ•°æ ¡éªŒï¼š</strong></p>
<ul>
<li><p>ææœ‰å¯èƒ½è¢«å¾ªç¯è°ƒç”¨çš„æ–¹æ³•ã€‚ä½†åœ¨æ–¹æ³•è¯´æ˜é‡Œå¿…é¡»æ³¨æ˜å¤–éƒ¨å‚æ•°æ£€æŸ¥è¦æ±‚ã€‚</p>
</li>
<li><p>åº•å±‚è°ƒç”¨é¢‘åº¦æ¯”è¾ƒé«˜çš„æ–¹æ³•ã€‚æ¯•ç«Ÿæ˜¯åƒçº¯å‡€æ°´è¿‡æ»¤çš„æœ€åä¸€é“ï¼Œå‚æ•°é”™è¯¯ä¸å¤ªå¯èƒ½åˆ°åº•å±‚æ‰ä¼šæš´éœ²é—®é¢˜ã€‚ä¸€èˆ¬ DAO å±‚ä¸ Service å±‚éƒ½åœ¨åŒä¸€ä¸ªåº”ç”¨ä¸­ï¼Œéƒ¨ç½²åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸­ï¼Œæ‰€	ä»¥ DAO çš„å‚æ•°æ ¡éªŒï¼Œå¯ä»¥çœç•¥ã€‚</p>
</li>
<li><p>è¢«å£°æ˜æˆ private åªä¼šè¢«è‡ªå·±ä»£ç æ‰€è°ƒç”¨çš„æ–¹æ³•ï¼Œå¦‚æœèƒ½å¤Ÿç¡®å®šè°ƒç”¨æ–¹æ³•çš„ä»£ç ä¼ å…¥å‚æ•°å·²ç»åšè¿‡æ£€æŸ¥æˆ–è€…è‚¯å®šä¸ä¼šæœ‰é—®é¢˜ï¼Œæ­¤æ—¶å¯ä»¥ä¸æ ¡éªŒå‚æ•°ã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>ç¼–ç è§„èŒƒ</category>
        <category>java</category>
      </categories>
      <tags>
        <tag>ç¼–ç è§„èŒƒ</tag>
        <tag>java</tag>
      </tags>
  </entry>
</search>
